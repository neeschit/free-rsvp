{"sequence":0,"timestamp":1722566945,"preludeEvent":{"config":{"aws:defaultTags":"{\"tags\":{\"sst:app\":\"remix-auth-app\",\"sst:stage\":\"nranganath\"}}"}},"Error":null}
{"sequence":1,"timestamp":1722566946,"diagnosticEvent":{"prefix":"debug: ","message":"Ignoring error in loadCompilerOptions(tsconfig.json}): Error: ENOENT: no such file or directory, open 'tsconfig.json'\n","color":"never","severity":"debug"},"Error":null}
{"sequence":2,"timestamp":1722566946,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=pulumi:pulumi:Stack, name=remix-auth-app-nranganath, custom=false, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":3,"timestamp":1722566946,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=pulumi:pulumi:Stack, name=remix-auth-app-nranganath\n","color":"never","severity":"debug"},"Error":null}
{"sequence":4,"timestamp":1722566946,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::pulumi:pulumi:Stack::remix-auth-app-nranganath","type":"pulumi:pulumi:Stack","old":{"type":"pulumi:pulumi:Stack","urn":"urn:pulumi:nranganath::remix-auth-app::pulumi:pulumi:Stack::remix-auth-app-nranganath","id":"","parent":"","inputs":{},"outputs":{"_hints":{"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb":"https://d387jpi3pnyu3.cloudfront.net"},"_links":{"MyWeb":{"type":"sst.aws.Remix","url":"https://d387jpi3pnyu3.cloudfront.net"}},"_receivers":{"build/server.handler":{"environment":{},"links":[]}},"_warps":{}},"provider":""},"new":{"type":"pulumi:pulumi:Stack","urn":"urn:pulumi:nranganath::remix-auth-app::pulumi:pulumi:Stack::remix-auth-app-nranganath","id":"","parent":"","inputs":{},"outputs":{},"provider":""},"detailedDiff":null,"logical":true,"provider":""}},"Error":null}
{"sequence":5,"timestamp":1722566946,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:remix-auth-app-nranganath[pulumi:pulumi:Stack]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::pulumi:pulumi:Stack::remix-auth-app-nranganath,,,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":6,"timestamp":1722566946,"diagnosticEvent":{"prefix":"debug: ","message":"Running program '/Users/nranganath/personal/my-evite-killer/remix-auth-app/.sst/platform/eval/eval-1722566944327.mjs' in pwd '/Users/nranganath/personal/my-evite-killer/remix-auth-app/.sst/platform/eval' w/ args: \n","color":"never","severity":"debug"},"Error":null}
{"sequence":7,"timestamp":1722566947,"diagnosticEvent":{"message":"Running \"npm run build\" script\n\n","color":"never","severity":"info"},"Error":null}
{"sequence":8,"timestamp":1722566947,"diagnosticEvent":{"message":"\u003e build\n\n","color":"never","severity":"info"},"Error":null}
{"sequence":9,"timestamp":1722566947,"diagnosticEvent":{"message":"\u003e remix vite:build\n\n","color":"never","severity":"info"},"Error":null}
{"sequence":10,"timestamp":1722566947,"diagnosticEvent":{"message":"vite v5.2.6 building for production...\n\n","color":"never","severity":"info"},"Error":null}
{"sequence":11,"timestamp":1722566947,"diagnosticEvent":{"message":"transforming...\n\n","color":"never","severity":"info"},"Error":null}
{"sequence":12,"timestamp":1722566948,"diagnosticEvent":{"message":"✓ 83 modules transformed.\n\n","color":"never","severity":"info"},"Error":null}
{"sequence":13,"timestamp":1722566948,"diagnosticEvent":{"message":"rendering chunks...\n\n","color":"never","severity":"info"},"Error":null}
{"sequence":14,"timestamp":1722566948,"diagnosticEvent":{"message":"computing gzip size...\n\n","color":"never","severity":"info"},"Error":null}
{"sequence":15,"timestamp":1722566948,"diagnosticEvent":{"message":"build/client/.vite/manifest.json                0.78 kB │ gzip:  0.24 kB\n\n","color":"never","severity":"info"},"Error":null}
{"sequence":16,"timestamp":1722566948,"diagnosticEvent":{"message":"build/client/assets/_index-CVv0LjsW.js          0.34 kB │ gzip:  0.27 kB\n\n","color":"never","severity":"info"},"Error":null}
{"sequence":17,"timestamp":1722566948,"diagnosticEvent":{"message":"build/client/assets/root-tNoBBM0F.js            1.40 kB │ gzip:  0.82 kB\n\n","color":"never","severity":"info"},"Error":null}
{"sequence":18,"timestamp":1722566948,"diagnosticEvent":{"message":"build/client/assets/entry.client-KLoKnM-o.js   57.24 kB │ gzip: 19.50 kB\n\n","color":"never","severity":"info"},"Error":null}
{"sequence":19,"timestamp":1722566948,"diagnosticEvent":{"message":"build/client/assets/components-DFwzXaoi.js    186.66 kB │ gzip: 59.48 kB\n\n","color":"never","severity":"info"},"Error":null}
{"sequence":20,"timestamp":1722566948,"diagnosticEvent":{"message":"✓ built in 478ms\n\n","color":"never","severity":"info"},"Error":null}
{"sequence":21,"timestamp":1722566948,"diagnosticEvent":{"message":"vite v5.2.6 building SSR bundle for production...\n\n","color":"never","severity":"info"},"Error":null}
{"sequence":22,"timestamp":1722566948,"diagnosticEvent":{"message":"transforming...\n\n","color":"never","severity":"info"},"Error":null}
{"sequence":23,"timestamp":1722566948,"diagnosticEvent":{"message":"✓ 5 modules transformed.\n\n","color":"never","severity":"info"},"Error":null}
{"sequence":24,"timestamp":1722566948,"diagnosticEvent":{"message":"rendering chunks...\n\n","color":"never","severity":"info"},"Error":null}
{"sequence":25,"timestamp":1722566948,"diagnosticEvent":{"message":"build/server/.vite/manifest.json  0.15 kB\n\n","color":"never","severity":"info"},"Error":null}
{"sequence":26,"timestamp":1722566948,"diagnosticEvent":{"message":"build/server/index.js             6.39 kB\n\n","color":"never","severity":"info"},"Error":null}
{"sequence":27,"timestamp":1722566948,"diagnosticEvent":{"message":"✓ built in 15ms\n\n","color":"never","severity":"info"},"Error":null}
{"sequence":28,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=sst:aws:Remix, name=MyWeb, custom=false, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":29,"timestamp":1722566948,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","type":"sst:aws:Remix","old":{"type":"sst:aws:Remix","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","id":"","parent":"urn:pulumi:nranganath::remix-auth-app::pulumi:pulumi:Stack::remix-auth-app-nranganath","inputs":{},"outputs":{"_metadata":{"edge":false,"mode":"deployed","path":".","server":"arn:aws:lambda:us-east-1:730335427397:function:remix-auth-app-nranganath-MyWebServerFunction","url":"https://d387jpi3pnyu3.cloudfront.net"}},"provider":""},"new":{"type":"sst:aws:Remix","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","id":"","parent":"urn:pulumi:nranganath::remix-auth-app::pulumi:pulumi:Stack::remix-auth-app-nranganath","inputs":{},"outputs":{},"provider":""},"detailedDiff":null,"logical":true,"provider":""}},"Error":null}
{"sequence":30,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=pulumi-nodejs:dynamic:Resource, name=MyWebOriginAccessIdentity.sst.aws.OriginAccessIdentity, custom=true, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":31,"timestamp":1722566948,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","type":"sst:aws:Bucket","old":{"type":"sst:aws:Bucket","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{},"outputs":{},"provider":""},"new":{"type":"sst:aws:Bucket","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{},"outputs":{},"provider":""},"detailedDiff":null,"logical":true,"provider":""}},"Error":null}
{"sequence":32,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=aws:s3/bucketV2:BucketV2, name=MyWebAssetsBucket, custom=true, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":33,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=sst:aws:Bucket, name=MyWebAssets, custom=false, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":34,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Invoking function: tok=aws:index/getPartition:getPartition asynchronously\n","color":"never","severity":"debug"},"Error":null}
{"sequence":35,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=random:index/randomId:RandomId, name=MyWebAssetsId, custom=true, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":36,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Invoking function: tok=aws:index/getRegion:getRegion asynchronously\n","color":"never","severity":"debug"},"Error":null}
{"sequence":37,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=pulumi-nodejs:dynamic:Resource, name=MyWebBuildOutput.sst.aws.Cache, custom=true, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":38,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=aws:s3/bucketCorsConfigurationV2:BucketCorsConfigurationV2, name=MyWebAssetsCors, custom=true, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":39,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":", obj={}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":40,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=sst:aws:Remix, name=MyWeb\n","color":"never","severity":"debug"},"Error":null}
{"sequence":41,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":", obj={}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":42,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":43,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=aws:s3/bucketPublicAccessBlock:BucketPublicAccessBlock, name=MyWebAssetsPublicAccessBlock, custom=true, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":44,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":45,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":46,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=aws:s3/bucketPolicy:BucketPolicy, name=MyWebAssetsPolicy, custom=true, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":47,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":48,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":49,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":50,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":51,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":52,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":53,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":54,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":55,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":56,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":57,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":58,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":59,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":60,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":61,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":62,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":63,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":64,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":65,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":66,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":67,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":68,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":69,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":70,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":71,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":72,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":73,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":74,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":75,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":76,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":77,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":78,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":79,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":80,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":81,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWeb[sst:aws:Remix]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb,,,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":82,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=sst:aws:Bucket, name=MyWebAssets\n","color":"never","severity":"debug"},"Error":null}
{"sequence":83,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=pulumi-nodejs:dynamic:Resource, name=MyWebOriginAccessIdentity.sst.aws.OriginAccessIdentity\n","color":"never","severity":"debug"},"Error":null}
{"sequence":84,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=pulumi-nodejs:dynamic:Resource, name=MyWebBuildOutput.sst.aws.Cache\n","color":"never","severity":"debug"},"Error":null}
{"sequence":85,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebAssets[sst:aws:Bucket]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets,,,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":86,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResourceOutputs RPC prepared: urn=urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets\n","color":"never","severity":"debug"},"Error":null}
{"sequence":87,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=random:index/randomId:RandomId, name=MyWebAssetsId\n","color":"never","severity":"debug"},"Error":null}
{"sequence":88,"timestamp":1722566948,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","type":"sst:aws:Bucket","old":{"type":"sst:aws:Bucket","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{},"outputs":{},"provider":""},"new":{"type":"sst:aws:Bucket","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{},"outputs":{},"provider":""},"detailedDiff":null,"logical":true,"provider":""}},"Error":null}
{"sequence":89,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResourceOutputs RPC finished: urn=urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets; err: null, resp: \n","color":"never","severity":"debug"},"Error":null}
{"sequence":90,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResourceOutputs RPC finished: urn=urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets; err: null, resp: \n","color":"never","severity":"debug"},"Error":null}
{"sequence":91,"timestamp":1722566948,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebBuildOutput.sst.aws.Cache","type":"pulumi-nodejs:dynamic:Resource","old":{"type":"pulumi-nodejs:dynamic:Resource","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebBuildOutput.sst.aws.Cache","custom":true,"id":"cache","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    return {\n      id: \"cache\",\n      outs: {\n        data: inputs.data\n      }\n    };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    return {\n      outs: {\n        data: news.data\n      }\n    };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","data":{"assetsPath":"build/client","staticRoutes":["assets/*","build/*","favicon.ico"]}},"outputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    return {\n      id: \"cache\",\n      outs: {\n        data: inputs.data\n      }\n    };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    return {\n      outs: {\n        data: news.data\n      }\n    };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","data":{"assetsPath":"build/client","staticRoutes":["assets/*","build/*","favicon.ico"]}},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"},"new":{"type":"pulumi-nodejs:dynamic:Resource","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebBuildOutput.sst.aws.Cache","custom":true,"id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    return {\n      id: \"cache\",\n      outs: {\n        data: inputs.data\n      }\n    };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    return {\n      outs: {\n        data: news.data\n      }\n    };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","data":{"assetsPath":"build/client","staticRoutes":["assets/*","build/*","favicon.ico"]}},"outputs":{},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"}},"Error":null}
{"sequence":92,"timestamp":1722566948,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebBuildOutput.sst.aws.Cache","type":"pulumi-nodejs:dynamic:Resource","old":{"type":"pulumi-nodejs:dynamic:Resource","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebBuildOutput.sst.aws.Cache","custom":true,"id":"cache","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    return {\n      id: \"cache\",\n      outs: {\n        data: inputs.data\n      }\n    };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    return {\n      outs: {\n        data: news.data\n      }\n    };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","data":{"assetsPath":"build/client","staticRoutes":["assets/*","build/*","favicon.ico"]}},"outputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    return {\n      id: \"cache\",\n      outs: {\n        data: inputs.data\n      }\n    };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    return {\n      outs: {\n        data: news.data\n      }\n    };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","data":{"assetsPath":"build/client","staticRoutes":["assets/*","build/*","favicon.ico"]}},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"},"new":{"type":"pulumi-nodejs:dynamic:Resource","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebBuildOutput.sst.aws.Cache","custom":true,"id":"cache","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    return {\n      id: \"cache\",\n      outs: {\n        data: inputs.data\n      }\n    };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    return {\n      outs: {\n        data: news.data\n      }\n    };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","data":{"assetsPath":"build/client","staticRoutes":["assets/*","build/*","favicon.ico"]}},"outputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    return {\n      id: \"cache\",\n      outs: {\n        data: inputs.data\n      }\n    };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    return {\n      outs: {\n        data: news.data\n      }\n    };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","data":{"assetsPath":"build/client","staticRoutes":["assets/*","build/*","favicon.ico"]}},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"}},"Error":null}
{"sequence":93,"timestamp":1722566948,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebOriginAccessIdentity.sst.aws.OriginAccessIdentity","type":"pulumi-nodejs:dynamic:Resource","old":{"type":"pulumi-nodejs:dynamic:Resource","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebOriginAccessIdentity.sst.aws.OriginAccessIdentity","custom":true,"id":"EWZX1AN92WK0Z","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nvar __f6_prototype = {};\nObject.defineProperty(__f6_prototype, \"constructor\", { configurable: true, writable: true, value: __f6 });\nObject.defineProperty(__f6_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f7 });\nObject.defineProperty(__f6_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f6_prototype, \"retry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f6, \"prototype\", { value: __f6_prototype });\nvar __f12_prototype = {};\nObject.defineProperty(__f12_prototype, \"constructor\", { configurable: true, writable: true, value: __f12 });\nObject.defineProperty(__f12_prototype, \"send\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f12_prototype, \"destroy\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f12, \"prototype\", { value: __f12_prototype });\nvar __f11_prototype = Object.create(__f12_prototype);\nObject.defineProperty(__f11_prototype, \"constructor\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f11_prototype, \"destroy\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f11, \"prototype\", { value: __f11_prototype });\nObject.setPrototypeOf(__f11, __f12);\nvar __f16_prototype_proto = {};\nObject.defineProperty(__f16_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f17 });\nvar __f16_prototype = Object.create(__f16_prototype_proto);\nObject.defineProperty(__f16_prototype, \"constructor\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f16_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f16_prototype, \"serialize\", { configurable: true, writable: true, value: __f19 });\nObject.defineProperty(__f16_prototype, \"deserialize\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f16, \"prototype\", { value: __f16_prototype });\nObject.defineProperty(__f16, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f21 });\nObject.setPrototypeOf(__f16, __f17);\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nvar __f23_prototype = Object.create(__f16_prototype_proto);\nObject.defineProperty(__f23_prototype, \"constructor\", { configurable: true, writable: true, value: __f23 });\nObject.defineProperty(__f23_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f24 });\nObject.defineProperty(__f23_prototype, \"serialize\", { configurable: true, writable: true, value: __f25 });\nObject.defineProperty(__f23_prototype, \"deserialize\", { configurable: true, writable: true, value: __f26 });\nObject.defineProperty(__f23, \"prototype\", { value: __f23_prototype });\nObject.defineProperty(__f23, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f27 });\nObject.setPrototypeOf(__f23, __f17);\nvar __f28_prototype = Object.create(__f16_prototype_proto);\nObject.defineProperty(__f28_prototype, \"constructor\", { configurable: true, writable: true, value: __f28 });\nObject.defineProperty(__f28_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f29 });\nObject.defineProperty(__f28_prototype, \"serialize\", { configurable: true, writable: true, value: __f30 });\nObject.defineProperty(__f28_prototype, \"deserialize\", { configurable: true, writable: true, value: __f31 });\nObject.defineProperty(__f28, \"prototype\", { value: __f28_prototype });\nObject.defineProperty(__f28, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f32 });\nObject.setPrototypeOf(__f28, __f17);\nObject.defineProperty(__provider_proto, \"delete\", { configurable: true, writable: true, value: __f22 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f5, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f6(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f8() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f10(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f10, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f4, StandardRetryStrategy: __f6, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f13(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f14() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f11() {\n  return (function() {\n    with({ __super: __f12, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_7, configuration?.extensions || []);\n    __super.call(this, _config_8);\n    this.config = _config_8;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15() {\n  return (function() {\n    with({ __super: __f12, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16(__0) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f18(__0, __1, __2) {\n  return (function() {\n    with({ CreateCloudFrontOriginAccessIdentityCommand: __f16, __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, CreateCloudFrontOriginAccessIdentityCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"CreateCloudFrontOriginAccessIdentityCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"CreateCloudFrontOriginAccessIdentity\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f19(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_CreateCloudFrontOriginAccessIdentityCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f20(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_CreateCloudFrontOriginAccessIdentityCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f21() {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ useClient: __f3, CloudFrontClient3: __f11, CreateCloudFrontOriginAccessIdentityCommand: __f16, this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    const client = useClient(CloudFrontClient3);\n    const ret = await client.send(\n      new CreateCloudFrontOriginAccessIdentityCommand({\n        CloudFrontOriginAccessIdentityConfig: {\n          CallerReference: Date.now().toString(),\n          Comment: \"Created by SST\"\n        }\n      })\n    );\n    const id = ret.CloudFrontOriginAccessIdentity?.Id;\n    return { id, outs: {} };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23(__0) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f24(__0, __1, __2) {\n  return (function() {\n    with({ GetCloudFrontOriginAccessIdentityCommand: __f23, __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, GetCloudFrontOriginAccessIdentityCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"GetCloudFrontOriginAccessIdentityCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"GetCloudFrontOriginAccessIdentity\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f25(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_GetCloudFrontOriginAccessIdentityCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f26(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_GetCloudFrontOriginAccessIdentityCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f27() {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f28(__0) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f29(__0, __1, __2) {\n  return (function() {\n    with({ DeleteCloudFrontOriginAccessIdentityCommand: __f28, __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, DeleteCloudFrontOriginAccessIdentityCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"DeleteCloudFrontOriginAccessIdentityCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"DeleteCloudFrontOriginAccessIdentity\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f30(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_DeleteCloudFrontOriginAccessIdentityCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f31(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_DeleteCloudFrontOriginAccessIdentityCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f32() {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ useClient: __f3, CloudFrontClient3: __f11, GetCloudFrontOriginAccessIdentityCommand: __f23, DeleteCloudFrontOriginAccessIdentityCommand: __f28, this: undefined, arguments: undefined }) {\n\nreturn async function /*delete*/(id, outs) {\n    const client = useClient(CloudFrontClient3);\n    const ret = await client.send(\n      new GetCloudFrontOriginAccessIdentityCommand({ Id: id })\n    );\n    await client.send(\n      new DeleteCloudFrontOriginAccessIdentityCommand({\n        Id: id,\n        IfMatch: ret.ETag\n      })\n    );\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n"},"outputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nvar __f6_prototype = {};\nObject.defineProperty(__f6_prototype, \"constructor\", { configurable: true, writable: true, value: __f6 });\nObject.defineProperty(__f6_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f7 });\nObject.defineProperty(__f6_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f6_prototype, \"retry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f6, \"prototype\", { value: __f6_prototype });\nvar __f12_prototype = {};\nObject.defineProperty(__f12_prototype, \"constructor\", { configurable: true, writable: true, value: __f12 });\nObject.defineProperty(__f12_prototype, \"send\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f12_prototype, \"destroy\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f12, \"prototype\", { value: __f12_prototype });\nvar __f11_prototype = Object.create(__f12_prototype);\nObject.defineProperty(__f11_prototype, \"constructor\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f11_prototype, \"destroy\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f11, \"prototype\", { value: __f11_prototype });\nObject.setPrototypeOf(__f11, __f12);\nvar __f16_prototype_proto = {};\nObject.defineProperty(__f16_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f17 });\nvar __f16_prototype = Object.create(__f16_prototype_proto);\nObject.defineProperty(__f16_prototype, \"constructor\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f16_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f16_prototype, \"serialize\", { configurable: true, writable: true, value: __f19 });\nObject.defineProperty(__f16_prototype, \"deserialize\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f16, \"prototype\", { value: __f16_prototype });\nObject.defineProperty(__f16, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f21 });\nObject.setPrototypeOf(__f16, __f17);\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nvar __f23_prototype = Object.create(__f16_prototype_proto);\nObject.defineProperty(__f23_prototype, \"constructor\", { configurable: true, writable: true, value: __f23 });\nObject.defineProperty(__f23_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f24 });\nObject.defineProperty(__f23_prototype, \"serialize\", { configurable: true, writable: true, value: __f25 });\nObject.defineProperty(__f23_prototype, \"deserialize\", { configurable: true, writable: true, value: __f26 });\nObject.defineProperty(__f23, \"prototype\", { value: __f23_prototype });\nObject.defineProperty(__f23, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f27 });\nObject.setPrototypeOf(__f23, __f17);\nvar __f28_prototype = Object.create(__f16_prototype_proto);\nObject.defineProperty(__f28_prototype, \"constructor\", { configurable: true, writable: true, value: __f28 });\nObject.defineProperty(__f28_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f29 });\nObject.defineProperty(__f28_prototype, \"serialize\", { configurable: true, writable: true, value: __f30 });\nObject.defineProperty(__f28_prototype, \"deserialize\", { configurable: true, writable: true, value: __f31 });\nObject.defineProperty(__f28, \"prototype\", { value: __f28_prototype });\nObject.defineProperty(__f28, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f32 });\nObject.setPrototypeOf(__f28, __f17);\nObject.defineProperty(__provider_proto, \"delete\", { configurable: true, writable: true, value: __f22 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f5, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f6(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f8() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f10(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f10, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f4, StandardRetryStrategy: __f6, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f13(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f14() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f11() {\n  return (function() {\n    with({ __super: __f12, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_7, configuration?.extensions || []);\n    __super.call(this, _config_8);\n    this.config = _config_8;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15() {\n  return (function() {\n    with({ __super: __f12, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16(__0) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f18(__0, __1, __2) {\n  return (function() {\n    with({ CreateCloudFrontOriginAccessIdentityCommand: __f16, __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, CreateCloudFrontOriginAccessIdentityCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"CreateCloudFrontOriginAccessIdentityCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"CreateCloudFrontOriginAccessIdentity\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f19(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_CreateCloudFrontOriginAccessIdentityCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f20(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_CreateCloudFrontOriginAccessIdentityCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f21() {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ useClient: __f3, CloudFrontClient3: __f11, CreateCloudFrontOriginAccessIdentityCommand: __f16, this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    const client = useClient(CloudFrontClient3);\n    const ret = await client.send(\n      new CreateCloudFrontOriginAccessIdentityCommand({\n        CloudFrontOriginAccessIdentityConfig: {\n          CallerReference: Date.now().toString(),\n          Comment: \"Created by SST\"\n        }\n      })\n    );\n    const id = ret.CloudFrontOriginAccessIdentity?.Id;\n    return { id, outs: {} };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23(__0) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f24(__0, __1, __2) {\n  return (function() {\n    with({ GetCloudFrontOriginAccessIdentityCommand: __f23, __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, GetCloudFrontOriginAccessIdentityCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"GetCloudFrontOriginAccessIdentityCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"GetCloudFrontOriginAccessIdentity\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f25(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_GetCloudFrontOriginAccessIdentityCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f26(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_GetCloudFrontOriginAccessIdentityCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f27() {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f28(__0) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f29(__0, __1, __2) {\n  return (function() {\n    with({ DeleteCloudFrontOriginAccessIdentityCommand: __f28, __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, DeleteCloudFrontOriginAccessIdentityCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"DeleteCloudFrontOriginAccessIdentityCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"DeleteCloudFrontOriginAccessIdentity\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f30(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_DeleteCloudFrontOriginAccessIdentityCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f31(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_DeleteCloudFrontOriginAccessIdentityCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f32() {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ useClient: __f3, CloudFrontClient3: __f11, GetCloudFrontOriginAccessIdentityCommand: __f23, DeleteCloudFrontOriginAccessIdentityCommand: __f28, this: undefined, arguments: undefined }) {\n\nreturn async function /*delete*/(id, outs) {\n    const client = useClient(CloudFrontClient3);\n    const ret = await client.send(\n      new GetCloudFrontOriginAccessIdentityCommand({ Id: id })\n    );\n    await client.send(\n      new DeleteCloudFrontOriginAccessIdentityCommand({\n        Id: id,\n        IfMatch: ret.ETag\n      })\n    );\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"},"new":{"type":"pulumi-nodejs:dynamic:Resource","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebOriginAccessIdentity.sst.aws.OriginAccessIdentity","custom":true,"id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nvar __f6_prototype = {};\nObject.defineProperty(__f6_prototype, \"constructor\", { configurable: true, writable: true, value: __f6 });\nObject.defineProperty(__f6_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f7 });\nObject.defineProperty(__f6_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f6_prototype, \"retry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f6, \"prototype\", { value: __f6_prototype });\nvar __f12_prototype = {};\nObject.defineProperty(__f12_prototype, \"constructor\", { configurable: true, writable: true, value: __f12 });\nObject.defineProperty(__f12_prototype, \"send\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f12_prototype, \"destroy\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f12, \"prototype\", { value: __f12_prototype });\nvar __f11_prototype = Object.create(__f12_prototype);\nObject.defineProperty(__f11_prototype, \"constructor\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f11_prototype, \"destroy\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f11, \"prototype\", { value: __f11_prototype });\nObject.setPrototypeOf(__f11, __f12);\nvar __f16_prototype_proto = {};\nObject.defineProperty(__f16_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f17 });\nvar __f16_prototype = Object.create(__f16_prototype_proto);\nObject.defineProperty(__f16_prototype, \"constructor\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f16_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f16_prototype, \"serialize\", { configurable: true, writable: true, value: __f19 });\nObject.defineProperty(__f16_prototype, \"deserialize\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f16, \"prototype\", { value: __f16_prototype });\nObject.defineProperty(__f16, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f21 });\nObject.setPrototypeOf(__f16, __f17);\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nvar __f23_prototype = Object.create(__f16_prototype_proto);\nObject.defineProperty(__f23_prototype, \"constructor\", { configurable: true, writable: true, value: __f23 });\nObject.defineProperty(__f23_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f24 });\nObject.defineProperty(__f23_prototype, \"serialize\", { configurable: true, writable: true, value: __f25 });\nObject.defineProperty(__f23_prototype, \"deserialize\", { configurable: true, writable: true, value: __f26 });\nObject.defineProperty(__f23, \"prototype\", { value: __f23_prototype });\nObject.defineProperty(__f23, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f27 });\nObject.setPrototypeOf(__f23, __f17);\nvar __f28_prototype = Object.create(__f16_prototype_proto);\nObject.defineProperty(__f28_prototype, \"constructor\", { configurable: true, writable: true, value: __f28 });\nObject.defineProperty(__f28_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f29 });\nObject.defineProperty(__f28_prototype, \"serialize\", { configurable: true, writable: true, value: __f30 });\nObject.defineProperty(__f28_prototype, \"deserialize\", { configurable: true, writable: true, value: __f31 });\nObject.defineProperty(__f28, \"prototype\", { value: __f28_prototype });\nObject.defineProperty(__f28, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f32 });\nObject.setPrototypeOf(__f28, __f17);\nObject.defineProperty(__provider_proto, \"delete\", { configurable: true, writable: true, value: __f22 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f5, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f6(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f8() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f10(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f10, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f4, StandardRetryStrategy: __f6, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f13(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f14() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f11() {\n  return (function() {\n    with({ __super: __f12, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_7, configuration?.extensions || []);\n    __super.call(this, _config_8);\n    this.config = _config_8;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15() {\n  return (function() {\n    with({ __super: __f12, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16(__0) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f18(__0, __1, __2) {\n  return (function() {\n    with({ CreateCloudFrontOriginAccessIdentityCommand: __f16, __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, CreateCloudFrontOriginAccessIdentityCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"CreateCloudFrontOriginAccessIdentityCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"CreateCloudFrontOriginAccessIdentity\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f19(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_CreateCloudFrontOriginAccessIdentityCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f20(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_CreateCloudFrontOriginAccessIdentityCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f21() {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ useClient: __f3, CloudFrontClient3: __f11, CreateCloudFrontOriginAccessIdentityCommand: __f16, this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    const client = useClient(CloudFrontClient3);\n    const ret = await client.send(\n      new CreateCloudFrontOriginAccessIdentityCommand({\n        CloudFrontOriginAccessIdentityConfig: {\n          CallerReference: Date.now().toString(),\n          Comment: \"Created by SST\"\n        }\n      })\n    );\n    const id = ret.CloudFrontOriginAccessIdentity?.Id;\n    return { id, outs: {} };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23(__0) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f24(__0, __1, __2) {\n  return (function() {\n    with({ GetCloudFrontOriginAccessIdentityCommand: __f23, __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, GetCloudFrontOriginAccessIdentityCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"GetCloudFrontOriginAccessIdentityCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"GetCloudFrontOriginAccessIdentity\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f25(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_GetCloudFrontOriginAccessIdentityCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f26(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_GetCloudFrontOriginAccessIdentityCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f27() {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f28(__0) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f29(__0, __1, __2) {\n  return (function() {\n    with({ DeleteCloudFrontOriginAccessIdentityCommand: __f28, __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, DeleteCloudFrontOriginAccessIdentityCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"DeleteCloudFrontOriginAccessIdentityCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"DeleteCloudFrontOriginAccessIdentity\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f30(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_DeleteCloudFrontOriginAccessIdentityCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f31(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_DeleteCloudFrontOriginAccessIdentityCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f32() {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ useClient: __f3, CloudFrontClient3: __f11, GetCloudFrontOriginAccessIdentityCommand: __f23, DeleteCloudFrontOriginAccessIdentityCommand: __f28, this: undefined, arguments: undefined }) {\n\nreturn async function /*delete*/(id, outs) {\n    const client = useClient(CloudFrontClient3);\n    const ret = await client.send(\n      new GetCloudFrontOriginAccessIdentityCommand({ Id: id })\n    );\n    await client.send(\n      new DeleteCloudFrontOriginAccessIdentityCommand({\n        Id: id,\n        IfMatch: ret.ETag\n      })\n    );\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n"},"outputs":{},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"}},"Error":null}
{"sequence":94,"timestamp":1722566948,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebOriginAccessIdentity.sst.aws.OriginAccessIdentity","type":"pulumi-nodejs:dynamic:Resource","old":{"type":"pulumi-nodejs:dynamic:Resource","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebOriginAccessIdentity.sst.aws.OriginAccessIdentity","custom":true,"id":"EWZX1AN92WK0Z","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nvar __f6_prototype = {};\nObject.defineProperty(__f6_prototype, \"constructor\", { configurable: true, writable: true, value: __f6 });\nObject.defineProperty(__f6_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f7 });\nObject.defineProperty(__f6_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f6_prototype, \"retry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f6, \"prototype\", { value: __f6_prototype });\nvar __f12_prototype = {};\nObject.defineProperty(__f12_prototype, \"constructor\", { configurable: true, writable: true, value: __f12 });\nObject.defineProperty(__f12_prototype, \"send\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f12_prototype, \"destroy\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f12, \"prototype\", { value: __f12_prototype });\nvar __f11_prototype = Object.create(__f12_prototype);\nObject.defineProperty(__f11_prototype, \"constructor\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f11_prototype, \"destroy\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f11, \"prototype\", { value: __f11_prototype });\nObject.setPrototypeOf(__f11, __f12);\nvar __f16_prototype_proto = {};\nObject.defineProperty(__f16_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f17 });\nvar __f16_prototype = Object.create(__f16_prototype_proto);\nObject.defineProperty(__f16_prototype, \"constructor\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f16_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f16_prototype, \"serialize\", { configurable: true, writable: true, value: __f19 });\nObject.defineProperty(__f16_prototype, \"deserialize\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f16, \"prototype\", { value: __f16_prototype });\nObject.defineProperty(__f16, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f21 });\nObject.setPrototypeOf(__f16, __f17);\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nvar __f23_prototype = Object.create(__f16_prototype_proto);\nObject.defineProperty(__f23_prototype, \"constructor\", { configurable: true, writable: true, value: __f23 });\nObject.defineProperty(__f23_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f24 });\nObject.defineProperty(__f23_prototype, \"serialize\", { configurable: true, writable: true, value: __f25 });\nObject.defineProperty(__f23_prototype, \"deserialize\", { configurable: true, writable: true, value: __f26 });\nObject.defineProperty(__f23, \"prototype\", { value: __f23_prototype });\nObject.defineProperty(__f23, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f27 });\nObject.setPrototypeOf(__f23, __f17);\nvar __f28_prototype = Object.create(__f16_prototype_proto);\nObject.defineProperty(__f28_prototype, \"constructor\", { configurable: true, writable: true, value: __f28 });\nObject.defineProperty(__f28_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f29 });\nObject.defineProperty(__f28_prototype, \"serialize\", { configurable: true, writable: true, value: __f30 });\nObject.defineProperty(__f28_prototype, \"deserialize\", { configurable: true, writable: true, value: __f31 });\nObject.defineProperty(__f28, \"prototype\", { value: __f28_prototype });\nObject.defineProperty(__f28, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f32 });\nObject.setPrototypeOf(__f28, __f17);\nObject.defineProperty(__provider_proto, \"delete\", { configurable: true, writable: true, value: __f22 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f5, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f6(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f8() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f10(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f10, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f4, StandardRetryStrategy: __f6, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f13(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f14() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f11() {\n  return (function() {\n    with({ __super: __f12, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_7, configuration?.extensions || []);\n    __super.call(this, _config_8);\n    this.config = _config_8;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15() {\n  return (function() {\n    with({ __super: __f12, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16(__0) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f18(__0, __1, __2) {\n  return (function() {\n    with({ CreateCloudFrontOriginAccessIdentityCommand: __f16, __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, CreateCloudFrontOriginAccessIdentityCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"CreateCloudFrontOriginAccessIdentityCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"CreateCloudFrontOriginAccessIdentity\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f19(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_CreateCloudFrontOriginAccessIdentityCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f20(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_CreateCloudFrontOriginAccessIdentityCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f21() {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ useClient: __f3, CloudFrontClient3: __f11, CreateCloudFrontOriginAccessIdentityCommand: __f16, this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    const client = useClient(CloudFrontClient3);\n    const ret = await client.send(\n      new CreateCloudFrontOriginAccessIdentityCommand({\n        CloudFrontOriginAccessIdentityConfig: {\n          CallerReference: Date.now().toString(),\n          Comment: \"Created by SST\"\n        }\n      })\n    );\n    const id = ret.CloudFrontOriginAccessIdentity?.Id;\n    return { id, outs: {} };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23(__0) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f24(__0, __1, __2) {\n  return (function() {\n    with({ GetCloudFrontOriginAccessIdentityCommand: __f23, __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, GetCloudFrontOriginAccessIdentityCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"GetCloudFrontOriginAccessIdentityCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"GetCloudFrontOriginAccessIdentity\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f25(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_GetCloudFrontOriginAccessIdentityCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f26(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_GetCloudFrontOriginAccessIdentityCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f27() {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f28(__0) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f29(__0, __1, __2) {\n  return (function() {\n    with({ DeleteCloudFrontOriginAccessIdentityCommand: __f28, __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, DeleteCloudFrontOriginAccessIdentityCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"DeleteCloudFrontOriginAccessIdentityCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"DeleteCloudFrontOriginAccessIdentity\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f30(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_DeleteCloudFrontOriginAccessIdentityCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f31(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_DeleteCloudFrontOriginAccessIdentityCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f32() {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ useClient: __f3, CloudFrontClient3: __f11, GetCloudFrontOriginAccessIdentityCommand: __f23, DeleteCloudFrontOriginAccessIdentityCommand: __f28, this: undefined, arguments: undefined }) {\n\nreturn async function /*delete*/(id, outs) {\n    const client = useClient(CloudFrontClient3);\n    const ret = await client.send(\n      new GetCloudFrontOriginAccessIdentityCommand({ Id: id })\n    );\n    await client.send(\n      new DeleteCloudFrontOriginAccessIdentityCommand({\n        Id: id,\n        IfMatch: ret.ETag\n      })\n    );\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n"},"outputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nvar __f6_prototype = {};\nObject.defineProperty(__f6_prototype, \"constructor\", { configurable: true, writable: true, value: __f6 });\nObject.defineProperty(__f6_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f7 });\nObject.defineProperty(__f6_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f6_prototype, \"retry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f6, \"prototype\", { value: __f6_prototype });\nvar __f12_prototype = {};\nObject.defineProperty(__f12_prototype, \"constructor\", { configurable: true, writable: true, value: __f12 });\nObject.defineProperty(__f12_prototype, \"send\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f12_prototype, \"destroy\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f12, \"prototype\", { value: __f12_prototype });\nvar __f11_prototype = Object.create(__f12_prototype);\nObject.defineProperty(__f11_prototype, \"constructor\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f11_prototype, \"destroy\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f11, \"prototype\", { value: __f11_prototype });\nObject.setPrototypeOf(__f11, __f12);\nvar __f16_prototype_proto = {};\nObject.defineProperty(__f16_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f17 });\nvar __f16_prototype = Object.create(__f16_prototype_proto);\nObject.defineProperty(__f16_prototype, \"constructor\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f16_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f16_prototype, \"serialize\", { configurable: true, writable: true, value: __f19 });\nObject.defineProperty(__f16_prototype, \"deserialize\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f16, \"prototype\", { value: __f16_prototype });\nObject.defineProperty(__f16, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f21 });\nObject.setPrototypeOf(__f16, __f17);\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nvar __f23_prototype = Object.create(__f16_prototype_proto);\nObject.defineProperty(__f23_prototype, \"constructor\", { configurable: true, writable: true, value: __f23 });\nObject.defineProperty(__f23_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f24 });\nObject.defineProperty(__f23_prototype, \"serialize\", { configurable: true, writable: true, value: __f25 });\nObject.defineProperty(__f23_prototype, \"deserialize\", { configurable: true, writable: true, value: __f26 });\nObject.defineProperty(__f23, \"prototype\", { value: __f23_prototype });\nObject.defineProperty(__f23, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f27 });\nObject.setPrototypeOf(__f23, __f17);\nvar __f28_prototype = Object.create(__f16_prototype_proto);\nObject.defineProperty(__f28_prototype, \"constructor\", { configurable: true, writable: true, value: __f28 });\nObject.defineProperty(__f28_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f29 });\nObject.defineProperty(__f28_prototype, \"serialize\", { configurable: true, writable: true, value: __f30 });\nObject.defineProperty(__f28_prototype, \"deserialize\", { configurable: true, writable: true, value: __f31 });\nObject.defineProperty(__f28, \"prototype\", { value: __f28_prototype });\nObject.defineProperty(__f28, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f32 });\nObject.setPrototypeOf(__f28, __f17);\nObject.defineProperty(__provider_proto, \"delete\", { configurable: true, writable: true, value: __f22 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f5, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f6(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f8() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f10(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f10, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f4, StandardRetryStrategy: __f6, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f13(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f14() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f11() {\n  return (function() {\n    with({ __super: __f12, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_7, configuration?.extensions || []);\n    __super.call(this, _config_8);\n    this.config = _config_8;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15() {\n  return (function() {\n    with({ __super: __f12, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16(__0) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f18(__0, __1, __2) {\n  return (function() {\n    with({ CreateCloudFrontOriginAccessIdentityCommand: __f16, __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, CreateCloudFrontOriginAccessIdentityCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"CreateCloudFrontOriginAccessIdentityCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"CreateCloudFrontOriginAccessIdentity\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f19(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_CreateCloudFrontOriginAccessIdentityCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f20(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_CreateCloudFrontOriginAccessIdentityCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f21() {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ useClient: __f3, CloudFrontClient3: __f11, CreateCloudFrontOriginAccessIdentityCommand: __f16, this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    const client = useClient(CloudFrontClient3);\n    const ret = await client.send(\n      new CreateCloudFrontOriginAccessIdentityCommand({\n        CloudFrontOriginAccessIdentityConfig: {\n          CallerReference: Date.now().toString(),\n          Comment: \"Created by SST\"\n        }\n      })\n    );\n    const id = ret.CloudFrontOriginAccessIdentity?.Id;\n    return { id, outs: {} };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23(__0) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f24(__0, __1, __2) {\n  return (function() {\n    with({ GetCloudFrontOriginAccessIdentityCommand: __f23, __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, GetCloudFrontOriginAccessIdentityCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"GetCloudFrontOriginAccessIdentityCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"GetCloudFrontOriginAccessIdentity\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f25(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_GetCloudFrontOriginAccessIdentityCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f26(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_GetCloudFrontOriginAccessIdentityCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f27() {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f28(__0) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f29(__0, __1, __2) {\n  return (function() {\n    with({ DeleteCloudFrontOriginAccessIdentityCommand: __f28, __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, DeleteCloudFrontOriginAccessIdentityCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"DeleteCloudFrontOriginAccessIdentityCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"DeleteCloudFrontOriginAccessIdentity\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f30(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_DeleteCloudFrontOriginAccessIdentityCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f31(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_DeleteCloudFrontOriginAccessIdentityCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f32() {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ useClient: __f3, CloudFrontClient3: __f11, GetCloudFrontOriginAccessIdentityCommand: __f23, DeleteCloudFrontOriginAccessIdentityCommand: __f28, this: undefined, arguments: undefined }) {\n\nreturn async function /*delete*/(id, outs) {\n    const client = useClient(CloudFrontClient3);\n    const ret = await client.send(\n      new GetCloudFrontOriginAccessIdentityCommand({ Id: id })\n    );\n    await client.send(\n      new DeleteCloudFrontOriginAccessIdentityCommand({\n        Id: id,\n        IfMatch: ret.ETag\n      })\n    );\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"},"new":{"type":"pulumi-nodejs:dynamic:Resource","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebOriginAccessIdentity.sst.aws.OriginAccessIdentity","custom":true,"id":"EWZX1AN92WK0Z","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nvar __f6_prototype = {};\nObject.defineProperty(__f6_prototype, \"constructor\", { configurable: true, writable: true, value: __f6 });\nObject.defineProperty(__f6_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f7 });\nObject.defineProperty(__f6_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f6_prototype, \"retry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f6, \"prototype\", { value: __f6_prototype });\nvar __f12_prototype = {};\nObject.defineProperty(__f12_prototype, \"constructor\", { configurable: true, writable: true, value: __f12 });\nObject.defineProperty(__f12_prototype, \"send\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f12_prototype, \"destroy\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f12, \"prototype\", { value: __f12_prototype });\nvar __f11_prototype = Object.create(__f12_prototype);\nObject.defineProperty(__f11_prototype, \"constructor\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f11_prototype, \"destroy\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f11, \"prototype\", { value: __f11_prototype });\nObject.setPrototypeOf(__f11, __f12);\nvar __f16_prototype_proto = {};\nObject.defineProperty(__f16_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f17 });\nvar __f16_prototype = Object.create(__f16_prototype_proto);\nObject.defineProperty(__f16_prototype, \"constructor\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f16_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f16_prototype, \"serialize\", { configurable: true, writable: true, value: __f19 });\nObject.defineProperty(__f16_prototype, \"deserialize\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f16, \"prototype\", { value: __f16_prototype });\nObject.defineProperty(__f16, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f21 });\nObject.setPrototypeOf(__f16, __f17);\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nvar __f23_prototype = Object.create(__f16_prototype_proto);\nObject.defineProperty(__f23_prototype, \"constructor\", { configurable: true, writable: true, value: __f23 });\nObject.defineProperty(__f23_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f24 });\nObject.defineProperty(__f23_prototype, \"serialize\", { configurable: true, writable: true, value: __f25 });\nObject.defineProperty(__f23_prototype, \"deserialize\", { configurable: true, writable: true, value: __f26 });\nObject.defineProperty(__f23, \"prototype\", { value: __f23_prototype });\nObject.defineProperty(__f23, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f27 });\nObject.setPrototypeOf(__f23, __f17);\nvar __f28_prototype = Object.create(__f16_prototype_proto);\nObject.defineProperty(__f28_prototype, \"constructor\", { configurable: true, writable: true, value: __f28 });\nObject.defineProperty(__f28_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f29 });\nObject.defineProperty(__f28_prototype, \"serialize\", { configurable: true, writable: true, value: __f30 });\nObject.defineProperty(__f28_prototype, \"deserialize\", { configurable: true, writable: true, value: __f31 });\nObject.defineProperty(__f28, \"prototype\", { value: __f28_prototype });\nObject.defineProperty(__f28, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f32 });\nObject.setPrototypeOf(__f28, __f17);\nObject.defineProperty(__provider_proto, \"delete\", { configurable: true, writable: true, value: __f22 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f5, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f6(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f8() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f10(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f10, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f4, StandardRetryStrategy: __f6, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f13(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f14() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f11() {\n  return (function() {\n    with({ __super: __f12, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_7, configuration?.extensions || []);\n    __super.call(this, _config_8);\n    this.config = _config_8;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15() {\n  return (function() {\n    with({ __super: __f12, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16(__0) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f18(__0, __1, __2) {\n  return (function() {\n    with({ CreateCloudFrontOriginAccessIdentityCommand: __f16, __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, CreateCloudFrontOriginAccessIdentityCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"CreateCloudFrontOriginAccessIdentityCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"CreateCloudFrontOriginAccessIdentity\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f19(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_CreateCloudFrontOriginAccessIdentityCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f20(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_CreateCloudFrontOriginAccessIdentityCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f21() {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ useClient: __f3, CloudFrontClient3: __f11, CreateCloudFrontOriginAccessIdentityCommand: __f16, this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    const client = useClient(CloudFrontClient3);\n    const ret = await client.send(\n      new CreateCloudFrontOriginAccessIdentityCommand({\n        CloudFrontOriginAccessIdentityConfig: {\n          CallerReference: Date.now().toString(),\n          Comment: \"Created by SST\"\n        }\n      })\n    );\n    const id = ret.CloudFrontOriginAccessIdentity?.Id;\n    return { id, outs: {} };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23(__0) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f24(__0, __1, __2) {\n  return (function() {\n    with({ GetCloudFrontOriginAccessIdentityCommand: __f23, __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, GetCloudFrontOriginAccessIdentityCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"GetCloudFrontOriginAccessIdentityCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"GetCloudFrontOriginAccessIdentity\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f25(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_GetCloudFrontOriginAccessIdentityCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f26(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_GetCloudFrontOriginAccessIdentityCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f27() {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f28(__0) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f29(__0, __1, __2) {\n  return (function() {\n    with({ DeleteCloudFrontOriginAccessIdentityCommand: __f28, __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, DeleteCloudFrontOriginAccessIdentityCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"DeleteCloudFrontOriginAccessIdentityCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"DeleteCloudFrontOriginAccessIdentity\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f30(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_DeleteCloudFrontOriginAccessIdentityCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f31(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_DeleteCloudFrontOriginAccessIdentityCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f32() {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ useClient: __f3, CloudFrontClient3: __f11, GetCloudFrontOriginAccessIdentityCommand: __f23, DeleteCloudFrontOriginAccessIdentityCommand: __f28, this: undefined, arguments: undefined }) {\n\nreturn async function /*delete*/(id, outs) {\n    const client = useClient(CloudFrontClient3);\n    const ret = await client.send(\n      new GetCloudFrontOriginAccessIdentityCommand({ Id: id })\n    );\n    await client.send(\n      new DeleteCloudFrontOriginAccessIdentityCommand({\n        Id: id,\n        IfMatch: ret.ETag\n      })\n    );\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n"},"outputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nvar __f6_prototype = {};\nObject.defineProperty(__f6_prototype, \"constructor\", { configurable: true, writable: true, value: __f6 });\nObject.defineProperty(__f6_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f7 });\nObject.defineProperty(__f6_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f6_prototype, \"retry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f6, \"prototype\", { value: __f6_prototype });\nvar __f12_prototype = {};\nObject.defineProperty(__f12_prototype, \"constructor\", { configurable: true, writable: true, value: __f12 });\nObject.defineProperty(__f12_prototype, \"send\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f12_prototype, \"destroy\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f12, \"prototype\", { value: __f12_prototype });\nvar __f11_prototype = Object.create(__f12_prototype);\nObject.defineProperty(__f11_prototype, \"constructor\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f11_prototype, \"destroy\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f11, \"prototype\", { value: __f11_prototype });\nObject.setPrototypeOf(__f11, __f12);\nvar __f16_prototype_proto = {};\nObject.defineProperty(__f16_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f17 });\nvar __f16_prototype = Object.create(__f16_prototype_proto);\nObject.defineProperty(__f16_prototype, \"constructor\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f16_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f16_prototype, \"serialize\", { configurable: true, writable: true, value: __f19 });\nObject.defineProperty(__f16_prototype, \"deserialize\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f16, \"prototype\", { value: __f16_prototype });\nObject.defineProperty(__f16, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f21 });\nObject.setPrototypeOf(__f16, __f17);\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nvar __f23_prototype = Object.create(__f16_prototype_proto);\nObject.defineProperty(__f23_prototype, \"constructor\", { configurable: true, writable: true, value: __f23 });\nObject.defineProperty(__f23_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f24 });\nObject.defineProperty(__f23_prototype, \"serialize\", { configurable: true, writable: true, value: __f25 });\nObject.defineProperty(__f23_prototype, \"deserialize\", { configurable: true, writable: true, value: __f26 });\nObject.defineProperty(__f23, \"prototype\", { value: __f23_prototype });\nObject.defineProperty(__f23, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f27 });\nObject.setPrototypeOf(__f23, __f17);\nvar __f28_prototype = Object.create(__f16_prototype_proto);\nObject.defineProperty(__f28_prototype, \"constructor\", { configurable: true, writable: true, value: __f28 });\nObject.defineProperty(__f28_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f29 });\nObject.defineProperty(__f28_prototype, \"serialize\", { configurable: true, writable: true, value: __f30 });\nObject.defineProperty(__f28_prototype, \"deserialize\", { configurable: true, writable: true, value: __f31 });\nObject.defineProperty(__f28, \"prototype\", { value: __f28_prototype });\nObject.defineProperty(__f28, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f32 });\nObject.setPrototypeOf(__f28, __f17);\nObject.defineProperty(__provider_proto, \"delete\", { configurable: true, writable: true, value: __f22 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f5, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f6(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f8() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f10(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f10, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f4, StandardRetryStrategy: __f6, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f13(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f14() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f11() {\n  return (function() {\n    with({ __super: __f12, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_7, configuration?.extensions || []);\n    __super.call(this, _config_8);\n    this.config = _config_8;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15() {\n  return (function() {\n    with({ __super: __f12, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16(__0) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f18(__0, __1, __2) {\n  return (function() {\n    with({ CreateCloudFrontOriginAccessIdentityCommand: __f16, __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, CreateCloudFrontOriginAccessIdentityCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"CreateCloudFrontOriginAccessIdentityCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"CreateCloudFrontOriginAccessIdentity\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f19(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_CreateCloudFrontOriginAccessIdentityCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f20(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_CreateCloudFrontOriginAccessIdentityCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f21() {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ useClient: __f3, CloudFrontClient3: __f11, CreateCloudFrontOriginAccessIdentityCommand: __f16, this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    const client = useClient(CloudFrontClient3);\n    const ret = await client.send(\n      new CreateCloudFrontOriginAccessIdentityCommand({\n        CloudFrontOriginAccessIdentityConfig: {\n          CallerReference: Date.now().toString(),\n          Comment: \"Created by SST\"\n        }\n      })\n    );\n    const id = ret.CloudFrontOriginAccessIdentity?.Id;\n    return { id, outs: {} };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23(__0) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f24(__0, __1, __2) {\n  return (function() {\n    with({ GetCloudFrontOriginAccessIdentityCommand: __f23, __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, GetCloudFrontOriginAccessIdentityCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"GetCloudFrontOriginAccessIdentityCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"GetCloudFrontOriginAccessIdentity\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f25(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_GetCloudFrontOriginAccessIdentityCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f26(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_GetCloudFrontOriginAccessIdentityCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f27() {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f28(__0) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f29(__0, __1, __2) {\n  return (function() {\n    with({ DeleteCloudFrontOriginAccessIdentityCommand: __f28, __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, DeleteCloudFrontOriginAccessIdentityCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"DeleteCloudFrontOriginAccessIdentityCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"DeleteCloudFrontOriginAccessIdentity\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f30(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_DeleteCloudFrontOriginAccessIdentityCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f31(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_DeleteCloudFrontOriginAccessIdentityCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f32() {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ useClient: __f3, CloudFrontClient3: __f11, GetCloudFrontOriginAccessIdentityCommand: __f23, DeleteCloudFrontOriginAccessIdentityCommand: __f28, this: undefined, arguments: undefined }) {\n\nreturn async function /*delete*/(id, outs) {\n    const client = useClient(CloudFrontClient3);\n    const ret = await client.send(\n      new GetCloudFrontOriginAccessIdentityCommand({ Id: id })\n    );\n    await client.send(\n      new DeleteCloudFrontOriginAccessIdentityCommand({\n        Id: id,\n        IfMatch: ret.ETag\n      })\n    );\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"}},"Error":null}
{"sequence":95,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebBuildOutput.sst.aws.Cache[pulumi-nodejs:dynamic:Resource]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebBuildOutput.sst.aws.Cache,cache,__provider,,,exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    return {\n      id: \"cache\",\n      outs: {\n        data: inputs.data\n      }\n    };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    return {\n      outs: {\n        data: news.data\n      }\n    };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n,data,,,,,assetsPath,,,build/client,staticRoutes,,,,,,,,assets/*,,,build/*,,,favicon.ico,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":96,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=aws:cloudfront/function:Function, name=MyWebCloudfrontFunctionServerCfFunction, custom=true, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":97,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=aws:cloudfront/function:Function, name=MyWebCloudfrontFunctionStaticCfFunction, custom=true, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":98,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=sst:aws:Function, name=MyWebServer, custom=false, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":99,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=aws:s3/bucketObjectv2:BucketObjectv2, name=MyWebServerCode, custom=true, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":100,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=pulumi-nodejs:dynamic:Resource, name=MyWebServerCodeUpdater.sst.aws.FunctionCodeUpdater, custom=true, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":101,"timestamp":1722566948,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=aws:cloudwatch/logGroup:LogGroup, name=MyWebServerLogGroup, custom=true, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":102,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=sst:aws:CDN, name=MyWebCdn, custom=false, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":103,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=aws:lambda/function:Function, name=MyWebServerFunction, custom=true, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":104,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=pulumi-nodejs:dynamic:Resource, name=MyWebCdnWaiter.sst.aws.DistributionDeploymentWaiter, custom=true, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":105,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=aws:cloudfront/cachePolicy:CachePolicy, name=MyWebServerCachePolicy, custom=true, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":106,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=pulumi-nodejs:dynamic:Resource, name=MyWebInvalidation.sst.aws.DistributionInvalidation, custom=true, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":107,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=aws:cloudfront/distribution:Distribution, name=MyWebCdnDistribution, custom=true, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":108,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=sst:aws:Function, name=MyWebServer\n","color":"never","severity":"debug"},"Error":null}
{"sequence":109,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=aws:iam/policy:Policy, name=MyWebInvalidationPolicy, custom=true, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":110,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":111,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Invoking function: tok=aws:index/getRegion:getRegion asynchronously\n","color":"never","severity":"debug"},"Error":null}
{"sequence":112,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":113,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":", obj={}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":114,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":115,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=aws:lambda/functionUrl:FunctionUrl, name=MyWebServerUrl, custom=true, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":116,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":117,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=aws:cloudfront/function:Function, name=MyWebCloudfrontFunctionServerCfFunction\n","color":"never","severity":"debug"},"Error":null}
{"sequence":118,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":119,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=aws:cloudfront/function:Function, name=MyWebCloudfrontFunctionStaticCfFunction\n","color":"never","severity":"debug"},"Error":null}
{"sequence":120,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":121,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=aws:cloudfront/cachePolicy:CachePolicy, name=MyWebServerCachePolicy\n","color":"never","severity":"debug"},"Error":null}
{"sequence":122,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":123,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=aws:iam/role:Role, name=MyWebServerRole, custom=true, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":124,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":125,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Invoking function: tok=aws:iam/getPolicyDocument:getPolicyDocument asynchronously\n","color":"never","severity":"debug"},"Error":null}
{"sequence":126,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":127,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":", obj={\"statements\":[]}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":128,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":129,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":130,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":131,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":132,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":133,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":134,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":135,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":136,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":137,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":138,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":139,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":140,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":141,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":142,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":143,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":144,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":145,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":146,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":147,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":148,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":149,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":150,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":151,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":152,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":153,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":154,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":155,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":156,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":157,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":158,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":159,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":160,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":161,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":162,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":163,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":164,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":165,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":166,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":167,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":168,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":169,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":170,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":171,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":172,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":173,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":174,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":175,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":176,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":177,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":178,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":179,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":180,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":181,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":182,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":183,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":184,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":185,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":186,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":187,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":188,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":189,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":190,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":191,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":192,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":193,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":194,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":195,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":196,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":197,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":198,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":199,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":200,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":201,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":202,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebOriginAccessIdentity.sst.aws.OriginAccessIdentity[pulumi-nodejs:dynamic:Resource]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebOriginAccessIdentity.sst.aws.OriginAccessIdentity,EWZX1AN92WK0Z,__provider,,,exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nvar __f6_prototype = {};\nObject.defineProperty(__f6_prototype, \"constructor\", { configurable: true, writable: true, value: __f6 });\nObject.defineProperty(__f6_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f7 });\nObject.defineProperty(__f6_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f6_prototype, \"retry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f6, \"prototype\", { value: __f6_prototype });\nvar __f12_prototype = {};\nObject.defineProperty(__f12_prototype, \"constructor\", { configurable: true, writable: true, value: __f12 });\nObject.defineProperty(__f12_prototype, \"send\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f12_prototype, \"destroy\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f12, \"prototype\", { value: __f12_prototype });\nvar __f11_prototype = Object.create(__f12_prototype);\nObject.defineProperty(__f11_prototype, \"constructor\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f11_prototype, \"destroy\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f11, \"prototype\", { value: __f11_prototype });\nObject.setPrototypeOf(__f11, __f12);\nvar __f16_prototype_proto = {};\nObject.defineProperty(__f16_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f17 });\nvar __f16_prototype = Object.create(__f16_prototype_proto);\nObject.defineProperty(__f16_prototype, \"constructor\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f16_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f16_prototype, \"serialize\", { configurable: true, writable: true, value: __f19 });\nObject.defineProperty(__f16_prototype, \"deserialize\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f16, \"prototype\", { value: __f16_prototype });\nObject.defineProperty(__f16, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f21 });\nObject.setPrototypeOf(__f16, __f17);\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nvar __f23_prototype = Object.create(__f16_prototype_proto);\nObject.defineProperty(__f23_prototype, \"constructor\", { configurable: true, writable: true, value: __f23 });\nObject.defineProperty(__f23_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f24 });\nObject.defineProperty(__f23_prototype, \"serialize\", { configurable: true, writable: true, value: __f25 });\nObject.defineProperty(__f23_prototype, \"deserialize\", { configurable: true, writable: true, value: __f26 });\nObject.defineProperty(__f23, \"prototype\", { value: __f23_prototype });\nObject.defineProperty(__f23, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f27 });\nObject.setPrototypeOf(__f23, __f17);\nvar __f28_prototype = Object.create(__f16_prototype_proto);\nObject.defineProperty(__f28_prototype, \"constructor\", { configurable: true, writable: true, value: __f28 });\nObject.defineProperty(__f28_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f29 });\nObject.defineProperty(__f28_prototype, \"serialize\", { configurable: true, writable: true, value: __f30 });\nObject.defineProperty(__f28_prototype, \"deserialize\", { configurable: true, writable: true, value: __f31 });\nObject.defineProperty(__f28, \"prototype\", { value: __f28_prototype });\nObject.defineProperty(__f28, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f32 });\nObject.setPrototypeOf(__f28, __f17);\nObject.defineProperty(__provider_proto, \"delete\", { configurable: true, writable: true, value: __f22 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f5, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f6(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f8() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f10(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f10, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f4, StandardRetryStrategy: __f6, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f13(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f14() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f11() {\n  return (function() {\n    with({ __super: __f12, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_7, configuration?.extensions || []);\n    __super.call(this, _config_8);\n    this.config = _config_8;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15() {\n  return (function() {\n    with({ __super: __f12, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16(__0) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f18(__0, __1, __2) {\n  return (function() {\n    with({ CreateCloudFrontOriginAccessIdentityCommand: __f16, __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, CreateCloudFrontOriginAccessIdentityCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"CreateCloudFrontOriginAccessIdentityCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"CreateCloudFrontOriginAccessIdentity\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f19(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_CreateCloudFrontOriginAccessIdentityCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f20(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_CreateCloudFrontOriginAccessIdentityCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f21() {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ useClient: __f3, CloudFrontClient3: __f11, CreateCloudFrontOriginAccessIdentityCommand: __f16, this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    const client = useClient(CloudFrontClient3);\n    const ret = await client.send(\n      new CreateCloudFrontOriginAccessIdentityCommand({\n        CloudFrontOriginAccessIdentityConfig: {\n          CallerReference: Date.now().toString(),\n          Comment: \"Created by SST\"\n        }\n      })\n    );\n    const id = ret.CloudFrontOriginAccessIdentity?.Id;\n    return { id, outs: {} };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23(__0) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f24(__0, __1, __2) {\n  return (function() {\n    with({ GetCloudFrontOriginAccessIdentityCommand: __f23, __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, GetCloudFrontOriginAccessIdentityCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"GetCloudFrontOriginAccessIdentityCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"GetCloudFrontOriginAccessIdentity\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f25(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_GetCloudFrontOriginAccessIdentityCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f26(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_GetCloudFrontOriginAccessIdentityCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f27() {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f28(__0) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f29(__0, __1, __2) {\n  return (function() {\n    with({ DeleteCloudFrontOriginAccessIdentityCommand: __f28, __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, DeleteCloudFrontOriginAccessIdentityCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"DeleteCloudFrontOriginAccessIdentityCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"DeleteCloudFrontOriginAccessIdentity\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f30(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_DeleteCloudFrontOriginAccessIdentityCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f31(__0, __1) {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_DeleteCloudFrontOriginAccessIdentityCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f32() {\n  return (function() {\n    with({ __super: __f17, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ useClient: __f3, CloudFrontClient3: __f11, GetCloudFrontOriginAccessIdentityCommand: __f23, DeleteCloudFrontOriginAccessIdentityCommand: __f28, this: undefined, arguments: undefined }) {\n\nreturn async function /*delete*/(id, outs) {\n    const client = useClient(CloudFrontClient3);\n    const ret = await client.send(\n      new GetCloudFrontOriginAccessIdentityCommand({ Id: id })\n    );\n    await client.send(\n      new DeleteCloudFrontOriginAccessIdentityCommand({\n        Id: id,\n        IfMatch: ret.ETag\n      })\n    );\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":203,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=pulumi-nodejs:dynamic:Resource, name=MyWebAssetFiles.sst.aws.BucketFiles, custom=true, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":204,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":205,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":206,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":207,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":208,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":209,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":210,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":211,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":212,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":213,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":214,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":215,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":216,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":217,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":218,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":219,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":220,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":221,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":222,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":223,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":224,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":225,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":226,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":227,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"Found free variables: {\"required\":{},\"optional\":{}}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":228,"timestamp":1722566949,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","type":"sst:aws:Function","old":{"type":"sst:aws:Function","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{},"outputs":{"_metadata":{"handler":"build/server.handler"}},"provider":""},"new":{"type":"sst:aws:Function","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{},"outputs":{},"provider":""},"detailedDiff":null,"logical":true,"provider":""}},"Error":null}
{"sequence":229,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebServer[sst:aws:Function]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer,,,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":230,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=aws:cloudwatch/logGroup:LogGroup, name=MyWebServerLogGroup\n","color":"never","severity":"debug"},"Error":null}
{"sequence":231,"timestamp":1722566949,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResourceOutputs RPC prepared: urn=urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer\n","color":"never","severity":"debug"},"Error":null}
{"sequence":232,"timestamp":1722566955,"diagnosticEvent":{"prefix":"debug: ","message":"pulumi-aws: starting to validate credentials. Disable this by AWS_SKIP_CREDENTIALS_VALIDATION or skipCredentialsValidation option\n","color":"never","severity":"debug"},"Error":null}
{"sequence":233,"timestamp":1722566955,"diagnosticEvent":{"prefix":"debug: ","message":"pulumi-aws: credentials are valid\n","color":"never","severity":"debug"},"Error":null}
{"sequence":234,"timestamp":1722566955,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","type":"sst:aws:Function","old":{"type":"sst:aws:Function","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{},"outputs":{"_metadata":{"handler":"build/server.handler"}},"provider":""},"new":{"type":"sst:aws:Function","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{},"outputs":{"_metadata":{"handler":"build/server.handler"}},"provider":""},"detailedDiff":null,"logical":true,"provider":""}},"Error":null}
{"sequence":235,"timestamp":1722566955,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$random:index/randomId:RandomId::MyWebAssetsId","type":"random:index/randomId:RandomId","old":{"type":"random:index/randomId:RandomId","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$random:index/randomId:RandomId::MyWebAssetsId","custom":true,"id":"_9LfomC8","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","inputs":{"byteLength":6},"outputs":{"b64Std":"/9LfomC8","b64Url":"_9LfomC8","byteLength":6,"dec":"281281160175804","hex":"ffd2dfa260bc","id":"_9LfomC8"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:random::default_4_15_0::f77aeda7-7d2f-498b-8fa7-7b23dda2f04e"},"new":{"type":"random:index/randomId:RandomId","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$random:index/randomId:RandomId::MyWebAssetsId","custom":true,"id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","inputs":{"byteLength":6},"outputs":{},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:random::default_4_15_0::f77aeda7-7d2f-498b-8fa7-7b23dda2f04e"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:random::default_4_15_0::f77aeda7-7d2f-498b-8fa7-7b23dda2f04e"}},"Error":null}
{"sequence":236,"timestamp":1722566955,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$random:index/randomId:RandomId::MyWebAssetsId","type":"random:index/randomId:RandomId","old":{"type":"random:index/randomId:RandomId","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$random:index/randomId:RandomId::MyWebAssetsId","custom":true,"id":"_9LfomC8","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","inputs":{"byteLength":6},"outputs":{"b64Std":"/9LfomC8","b64Url":"_9LfomC8","byteLength":6,"dec":"281281160175804","hex":"ffd2dfa260bc","id":"_9LfomC8"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:random::default_4_15_0::f77aeda7-7d2f-498b-8fa7-7b23dda2f04e"},"new":{"type":"random:index/randomId:RandomId","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$random:index/randomId:RandomId::MyWebAssetsId","custom":true,"id":"_9LfomC8","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","inputs":{"byteLength":6},"outputs":{"b64Std":"/9LfomC8","b64Url":"_9LfomC8","byteLength":6,"dec":"281281160175804","hex":"ffd2dfa260bc","id":"_9LfomC8"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:random::default_4_15_0::f77aeda7-7d2f-498b-8fa7-7b23dda2f04e"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:random::default_4_15_0::f77aeda7-7d2f-498b-8fa7-7b23dda2f04e"}},"Error":null}
{"sequence":237,"timestamp":1722566955,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResourceOutputs RPC finished: urn=urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer; err: null, resp: \n","color":"never","severity":"debug"},"Error":null}
{"sequence":238,"timestamp":1722566955,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=aws:s3/bucketV2:BucketV2, name=MyWebAssetsBucket\n","color":"never","severity":"debug"},"Error":null}
{"sequence":239,"timestamp":1722566955,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResourceOutputs RPC finished: urn=urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer; err: null, resp: \n","color":"never","severity":"debug"},"Error":null}
{"sequence":240,"timestamp":1722566955,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebAssetsId[random:index/randomId:RandomId]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$random:index/randomId:RandomId::MyWebAssetsId,_9LfomC8,b64Std,,,/9LfomC8,b64Url,,,_9LfomC8,byteLength,,6,dec,,,281281160175804,hex,,,ffd2dfa260bc,id,,,_9LfomC8,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":241,"timestamp":1722566956,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:cloudfront/function:Function::MyWebCloudfrontFunctionServerCfFunction","type":"aws:cloudfront/function:Function","old":{"type":"aws:cloudfront/function:Function","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:cloudfront/function:Function::MyWebCloudfrontFunctionServerCfFunction","custom":true,"id":"MyWebCloudfrontFunctionServerCfFunction-dd4a71c","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__defaults":["name","publish"],"code":"\nfunction handler(event) {\n  var request = event.request;\n  request.headers[\"x-forwarded-host\"] = request.headers.host;\n  return request;\n}","name":"MyWebCloudfrontFunctionServerCfFunction-dd4a71c","publish":true,"runtime":"cloudfront-js-1.0"},"outputs":{"arn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionServerCfFunction-dd4a71c","code":"\nfunction handler(event) {\n  var request = event.request;\n  request.headers[\"x-forwarded-host\"] = request.headers.host;\n  return request;\n}","comment":"","etag":"ETVPDKIKX0DER","id":"MyWebCloudfrontFunctionServerCfFunction-dd4a71c","liveStageEtag":"ETVPDKIKX0DER","name":"MyWebCloudfrontFunctionServerCfFunction-dd4a71c","publish":true,"runtime":"cloudfront-js-1.0","status":"UNASSOCIATED"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:cloudfront/function:Function","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:cloudfront/function:Function::MyWebCloudfrontFunctionServerCfFunction","custom":true,"id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__defaults":["name","publish"],"code":"\nfunction handler(event) {\n  var request = event.request;\n  request.headers[\"x-forwarded-host\"] = request.headers.host;\n  return request;\n}","name":"MyWebCloudfrontFunctionServerCfFunction-dd4a71c","publish":true,"runtime":"cloudfront-js-1.0"},"outputs":{},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":242,"timestamp":1722566956,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:cloudfront/function:Function::MyWebCloudfrontFunctionServerCfFunction","type":"aws:cloudfront/function:Function","old":{"type":"aws:cloudfront/function:Function","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:cloudfront/function:Function::MyWebCloudfrontFunctionServerCfFunction","custom":true,"id":"MyWebCloudfrontFunctionServerCfFunction-dd4a71c","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__defaults":["name","publish"],"code":"\nfunction handler(event) {\n  var request = event.request;\n  request.headers[\"x-forwarded-host\"] = request.headers.host;\n  return request;\n}","name":"MyWebCloudfrontFunctionServerCfFunction-dd4a71c","publish":true,"runtime":"cloudfront-js-1.0"},"outputs":{"arn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionServerCfFunction-dd4a71c","code":"\nfunction handler(event) {\n  var request = event.request;\n  request.headers[\"x-forwarded-host\"] = request.headers.host;\n  return request;\n}","comment":"","etag":"ETVPDKIKX0DER","id":"MyWebCloudfrontFunctionServerCfFunction-dd4a71c","liveStageEtag":"ETVPDKIKX0DER","name":"MyWebCloudfrontFunctionServerCfFunction-dd4a71c","publish":true,"runtime":"cloudfront-js-1.0","status":"UNASSOCIATED"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:cloudfront/function:Function","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:cloudfront/function:Function::MyWebCloudfrontFunctionServerCfFunction","custom":true,"id":"MyWebCloudfrontFunctionServerCfFunction-dd4a71c","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__defaults":["name","publish"],"code":"\nfunction handler(event) {\n  var request = event.request;\n  request.headers[\"x-forwarded-host\"] = request.headers.host;\n  return request;\n}","name":"MyWebCloudfrontFunctionServerCfFunction-dd4a71c","publish":true,"runtime":"cloudfront-js-1.0"},"outputs":{"arn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionServerCfFunction-dd4a71c","code":"\nfunction handler(event) {\n  var request = event.request;\n  request.headers[\"x-forwarded-host\"] = request.headers.host;\n  return request;\n}","comment":"","etag":"ETVPDKIKX0DER","id":"MyWebCloudfrontFunctionServerCfFunction-dd4a71c","liveStageEtag":"ETVPDKIKX0DER","name":"MyWebCloudfrontFunctionServerCfFunction-dd4a71c","publish":true,"runtime":"cloudfront-js-1.0","status":"UNASSOCIATED"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":243,"timestamp":1722566956,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:cloudfront/function:Function::MyWebCloudfrontFunctionStaticCfFunction","type":"aws:cloudfront/function:Function","old":{"type":"aws:cloudfront/function:Function","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:cloudfront/function:Function::MyWebCloudfrontFunctionStaticCfFunction","custom":true,"id":"MyWebCloudfrontFunctionStaticCfFunction-031993b","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__defaults":["name","publish"],"code":"\nfunction handler(event) {\n  var request = event.request;\n  request.uri = request.uri.split('/').map(encodeURIComponent).join('/');\n  return request;\n}","name":"MyWebCloudfrontFunctionStaticCfFunction-031993b","publish":true,"runtime":"cloudfront-js-1.0"},"outputs":{"arn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b","code":"\nfunction handler(event) {\n  var request = event.request;\n  request.uri = request.uri.split('/').map(encodeURIComponent).join('/');\n  return request;\n}","comment":"","etag":"ETVPDKIKX0DER","id":"MyWebCloudfrontFunctionStaticCfFunction-031993b","liveStageEtag":"ETVPDKIKX0DER","name":"MyWebCloudfrontFunctionStaticCfFunction-031993b","publish":true,"runtime":"cloudfront-js-1.0","status":"UNASSOCIATED"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:cloudfront/function:Function","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:cloudfront/function:Function::MyWebCloudfrontFunctionStaticCfFunction","custom":true,"id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__defaults":["name","publish"],"code":"\nfunction handler(event) {\n  var request = event.request;\n  request.uri = request.uri.split('/').map(encodeURIComponent).join('/');\n  return request;\n}","name":"MyWebCloudfrontFunctionStaticCfFunction-031993b","publish":true,"runtime":"cloudfront-js-1.0"},"outputs":{},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":244,"timestamp":1722566956,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:cloudfront/function:Function::MyWebCloudfrontFunctionStaticCfFunction","type":"aws:cloudfront/function:Function","old":{"type":"aws:cloudfront/function:Function","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:cloudfront/function:Function::MyWebCloudfrontFunctionStaticCfFunction","custom":true,"id":"MyWebCloudfrontFunctionStaticCfFunction-031993b","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__defaults":["name","publish"],"code":"\nfunction handler(event) {\n  var request = event.request;\n  request.uri = request.uri.split('/').map(encodeURIComponent).join('/');\n  return request;\n}","name":"MyWebCloudfrontFunctionStaticCfFunction-031993b","publish":true,"runtime":"cloudfront-js-1.0"},"outputs":{"arn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b","code":"\nfunction handler(event) {\n  var request = event.request;\n  request.uri = request.uri.split('/').map(encodeURIComponent).join('/');\n  return request;\n}","comment":"","etag":"ETVPDKIKX0DER","id":"MyWebCloudfrontFunctionStaticCfFunction-031993b","liveStageEtag":"ETVPDKIKX0DER","name":"MyWebCloudfrontFunctionStaticCfFunction-031993b","publish":true,"runtime":"cloudfront-js-1.0","status":"UNASSOCIATED"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:cloudfront/function:Function","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:cloudfront/function:Function::MyWebCloudfrontFunctionStaticCfFunction","custom":true,"id":"MyWebCloudfrontFunctionStaticCfFunction-031993b","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__defaults":["name","publish"],"code":"\nfunction handler(event) {\n  var request = event.request;\n  request.uri = request.uri.split('/').map(encodeURIComponent).join('/');\n  return request;\n}","name":"MyWebCloudfrontFunctionStaticCfFunction-031993b","publish":true,"runtime":"cloudfront-js-1.0"},"outputs":{"arn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b","code":"\nfunction handler(event) {\n  var request = event.request;\n  request.uri = request.uri.split('/').map(encodeURIComponent).join('/');\n  return request;\n}","comment":"","etag":"ETVPDKIKX0DER","id":"MyWebCloudfrontFunctionStaticCfFunction-031993b","liveStageEtag":"ETVPDKIKX0DER","name":"MyWebCloudfrontFunctionStaticCfFunction-031993b","publish":true,"runtime":"cloudfront-js-1.0","status":"UNASSOCIATED"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":245,"timestamp":1722566956,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:cloudfront/cachePolicy:CachePolicy::MyWebServerCachePolicy","type":"aws:cloudfront/cachePolicy:CachePolicy","old":{"type":"aws:cloudfront/cachePolicy:CachePolicy","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:cloudfront/cachePolicy:CachePolicy::MyWebServerCachePolicy","custom":true,"id":"161d0728-4fb8-40d6-a98b-d338a62c6e7d","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__defaults":["name"],"comment":"SST server response cache policy","defaultTtl":0,"maxTtl":365,"minTtl":0,"name":"MyWebServerCachePolicy-dd315e9","parametersInCacheKeyAndForwardedToOrigin":{"__defaults":[],"cookiesConfig":{"__defaults":[],"cookieBehavior":"none"},"enableAcceptEncodingBrotli":true,"enableAcceptEncodingGzip":true,"headersConfig":{"__defaults":[],"headerBehavior":"none"},"queryStringsConfig":{"__defaults":[],"queryStringBehavior":"all"}}},"outputs":{"comment":"SST server response cache policy","defaultTtl":0,"etag":"E23ZP02F085DFQ","id":"161d0728-4fb8-40d6-a98b-d338a62c6e7d","maxTtl":365,"minTtl":0,"name":"MyWebServerCachePolicy-dd315e9","parametersInCacheKeyAndForwardedToOrigin":{"cookiesConfig":{"cookieBehavior":"none","cookies":null},"enableAcceptEncodingBrotli":true,"enableAcceptEncodingGzip":true,"headersConfig":{"headerBehavior":"none","headers":null},"queryStringsConfig":{"queryStringBehavior":"all","queryStrings":null}}},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:cloudfront/cachePolicy:CachePolicy","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:cloudfront/cachePolicy:CachePolicy::MyWebServerCachePolicy","custom":true,"id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__defaults":["name"],"comment":"SST server response cache policy","defaultTtl":0,"maxTtl":365,"minTtl":0,"name":"MyWebServerCachePolicy-dd315e9","parametersInCacheKeyAndForwardedToOrigin":{"__defaults":[],"cookiesConfig":{"__defaults":[],"cookieBehavior":"none"},"enableAcceptEncodingBrotli":true,"enableAcceptEncodingGzip":true,"headersConfig":{"__defaults":[],"headerBehavior":"none"},"queryStringsConfig":{"__defaults":[],"queryStringBehavior":"all"}}},"outputs":{},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":246,"timestamp":1722566956,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:cloudfront/cachePolicy:CachePolicy::MyWebServerCachePolicy","type":"aws:cloudfront/cachePolicy:CachePolicy","old":{"type":"aws:cloudfront/cachePolicy:CachePolicy","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:cloudfront/cachePolicy:CachePolicy::MyWebServerCachePolicy","custom":true,"id":"161d0728-4fb8-40d6-a98b-d338a62c6e7d","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__defaults":["name"],"comment":"SST server response cache policy","defaultTtl":0,"maxTtl":365,"minTtl":0,"name":"MyWebServerCachePolicy-dd315e9","parametersInCacheKeyAndForwardedToOrigin":{"__defaults":[],"cookiesConfig":{"__defaults":[],"cookieBehavior":"none"},"enableAcceptEncodingBrotli":true,"enableAcceptEncodingGzip":true,"headersConfig":{"__defaults":[],"headerBehavior":"none"},"queryStringsConfig":{"__defaults":[],"queryStringBehavior":"all"}}},"outputs":{"comment":"SST server response cache policy","defaultTtl":0,"etag":"E23ZP02F085DFQ","id":"161d0728-4fb8-40d6-a98b-d338a62c6e7d","maxTtl":365,"minTtl":0,"name":"MyWebServerCachePolicy-dd315e9","parametersInCacheKeyAndForwardedToOrigin":{"cookiesConfig":{"cookieBehavior":"none","cookies":null},"enableAcceptEncodingBrotli":true,"enableAcceptEncodingGzip":true,"headersConfig":{"headerBehavior":"none","headers":null},"queryStringsConfig":{"queryStringBehavior":"all","queryStrings":null}}},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:cloudfront/cachePolicy:CachePolicy","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:cloudfront/cachePolicy:CachePolicy::MyWebServerCachePolicy","custom":true,"id":"161d0728-4fb8-40d6-a98b-d338a62c6e7d","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__defaults":["name"],"comment":"SST server response cache policy","defaultTtl":0,"maxTtl":365,"minTtl":0,"name":"MyWebServerCachePolicy-dd315e9","parametersInCacheKeyAndForwardedToOrigin":{"__defaults":[],"cookiesConfig":{"__defaults":[],"cookieBehavior":"none"},"enableAcceptEncodingBrotli":true,"enableAcceptEncodingGzip":true,"headersConfig":{"__defaults":[],"headerBehavior":"none"},"queryStringsConfig":{"__defaults":[],"queryStringBehavior":"all"}}},"outputs":{"comment":"SST server response cache policy","defaultTtl":0,"etag":"E23ZP02F085DFQ","id":"161d0728-4fb8-40d6-a98b-d338a62c6e7d","maxTtl":365,"minTtl":0,"name":"MyWebServerCachePolicy-dd315e9","parametersInCacheKeyAndForwardedToOrigin":{"cookiesConfig":{"cookieBehavior":"none","cookies":null},"enableAcceptEncodingBrotli":true,"enableAcceptEncodingGzip":true,"headersConfig":{"headerBehavior":"none","headers":null},"queryStringsConfig":{"queryStringBehavior":"all","queryStrings":null}}},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":247,"timestamp":1722566956,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:cloudwatch/logGroup:LogGroup::MyWebServerLogGroup","type":"aws:cloudwatch/logGroup:LogGroup","old":{"type":"aws:cloudwatch/logGroup:LogGroup","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:cloudwatch/logGroup:LogGroup::MyWebServerLogGroup","custom":true,"id":"/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","inputs":{"__defaults":["skipDestroy"],"name":"/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction","retentionInDays":0,"skipDestroy":false,"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"outputs":{"arn":"arn:aws:logs:us-east-1:730335427397:log-group:/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction","id":"/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction","kmsKeyId":"","logGroupClass":"STANDARD","name":"/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction","namePrefix":"","retentionInDays":0,"skipDestroy":false,"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:cloudwatch/logGroup:LogGroup","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:cloudwatch/logGroup:LogGroup::MyWebServerLogGroup","custom":true,"id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","inputs":{"__defaults":["skipDestroy"],"name":"/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction","retentionInDays":0,"skipDestroy":false,"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"outputs":{},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":248,"timestamp":1722566956,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:cloudwatch/logGroup:LogGroup::MyWebServerLogGroup","type":"aws:cloudwatch/logGroup:LogGroup","old":{"type":"aws:cloudwatch/logGroup:LogGroup","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:cloudwatch/logGroup:LogGroup::MyWebServerLogGroup","custom":true,"id":"/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","inputs":{"__defaults":["skipDestroy"],"name":"/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction","retentionInDays":0,"skipDestroy":false,"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"outputs":{"arn":"arn:aws:logs:us-east-1:730335427397:log-group:/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction","id":"/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction","kmsKeyId":"","logGroupClass":"STANDARD","name":"/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction","namePrefix":"","retentionInDays":0,"skipDestroy":false,"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:cloudwatch/logGroup:LogGroup","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:cloudwatch/logGroup:LogGroup::MyWebServerLogGroup","custom":true,"id":"/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","inputs":{"__defaults":["skipDestroy"],"name":"/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction","retentionInDays":0,"skipDestroy":false,"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"outputs":{"arn":"arn:aws:logs:us-east-1:730335427397:log-group:/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction","id":"/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction","kmsKeyId":"","logGroupClass":"STANDARD","name":"/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction","namePrefix":"","retentionInDays":0,"skipDestroy":false,"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":249,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"Invoke RPC finished: tok=aws:iam/getPolicyDocument:getPolicyDocument; err: null, resp: id,,,1132004489,json,,,{\n  \"Version\": \"2012-10-17\"\n},version,,,2012-10-17,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":250,"timestamp":1722566956,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketV2:BucketV2::MyWebAssetsBucket","type":"aws:s3/bucketV2:BucketV2","old":{"type":"aws:s3/bucketV2:BucketV2","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketV2:BucketV2::MyWebAssetsBucket","custom":true,"id":"remix-auth-app-nranganath-mywebassets-ckwszhaf","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","inputs":{"__defaults":[],"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","forceDestroy":true,"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"outputs":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":1200000000000,\"delete\":3600000000000,\"read\":1200000000000,\"update\":1200000000000}}","accelerationStatus":"","arn":"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf","bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","bucketDomainName":"remix-auth-app-nranganath-mywebassets-ckwszhaf.s3.amazonaws.com","bucketPrefix":"","bucketRegionalDomainName":"remix-auth-app-nranganath-mywebassets-ckwszhaf.s3.us-east-1.amazonaws.com","corsRules":[],"forceDestroy":true,"grants":[{"id":"bd092444b8a8f1460f23ba8dd5250ece27e6e0417f9d1360524fb57b4d6273fc","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hostedZoneId":"Z3AQBSTGFYJSTF","id":"remix-auth-app-nranganath-mywebassets-ckwszhaf","lifecycleRules":[],"loggings":[],"objectLockConfiguration":null,"objectLockEnabled":false,"policy":"","region":"us-east-1","replicationConfigurations":[],"requestPayer":"BucketOwner","serverSideEncryptionConfigurations":[{"rules":[{"applyServerSideEncryptionByDefaults":[{"kmsMasterKeyId":"","sseAlgorithm":"AES256"}],"bucketKeyEnabled":false}]}],"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"versionings":[{"enabled":false,"mfaDelete":false}],"websites":[]},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:s3/bucketV2:BucketV2","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketV2:BucketV2::MyWebAssetsBucket","custom":true,"id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","inputs":{"__defaults":[],"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","forceDestroy":true,"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"outputs":{},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":251,"timestamp":1722566956,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketV2:BucketV2::MyWebAssetsBucket","type":"aws:s3/bucketV2:BucketV2","old":{"type":"aws:s3/bucketV2:BucketV2","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketV2:BucketV2::MyWebAssetsBucket","custom":true,"id":"remix-auth-app-nranganath-mywebassets-ckwszhaf","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","inputs":{"__defaults":[],"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","forceDestroy":true,"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"outputs":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":1200000000000,\"delete\":3600000000000,\"read\":1200000000000,\"update\":1200000000000}}","accelerationStatus":"","arn":"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf","bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","bucketDomainName":"remix-auth-app-nranganath-mywebassets-ckwszhaf.s3.amazonaws.com","bucketPrefix":"","bucketRegionalDomainName":"remix-auth-app-nranganath-mywebassets-ckwszhaf.s3.us-east-1.amazonaws.com","corsRules":[],"forceDestroy":true,"grants":[{"id":"bd092444b8a8f1460f23ba8dd5250ece27e6e0417f9d1360524fb57b4d6273fc","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hostedZoneId":"Z3AQBSTGFYJSTF","id":"remix-auth-app-nranganath-mywebassets-ckwszhaf","lifecycleRules":[],"loggings":[],"objectLockConfiguration":null,"objectLockEnabled":false,"policy":"","region":"us-east-1","replicationConfigurations":[],"requestPayer":"BucketOwner","serverSideEncryptionConfigurations":[{"rules":[{"applyServerSideEncryptionByDefaults":[{"kmsMasterKeyId":"","sseAlgorithm":"AES256"}],"bucketKeyEnabled":false}]}],"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"versionings":[{"enabled":false,"mfaDelete":false}],"websites":[]},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:s3/bucketV2:BucketV2","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketV2:BucketV2::MyWebAssetsBucket","custom":true,"id":"remix-auth-app-nranganath-mywebassets-ckwszhaf","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","inputs":{"__defaults":[],"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","forceDestroy":true,"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"outputs":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":1200000000000,\"delete\":3600000000000,\"read\":1200000000000,\"update\":1200000000000}}","accelerationStatus":"","arn":"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf","bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","bucketDomainName":"remix-auth-app-nranganath-mywebassets-ckwszhaf.s3.amazonaws.com","bucketPrefix":"","bucketRegionalDomainName":"remix-auth-app-nranganath-mywebassets-ckwszhaf.s3.us-east-1.amazonaws.com","corsRules":[],"forceDestroy":true,"grants":[{"id":"bd092444b8a8f1460f23ba8dd5250ece27e6e0417f9d1360524fb57b4d6273fc","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hostedZoneId":"Z3AQBSTGFYJSTF","id":"remix-auth-app-nranganath-mywebassets-ckwszhaf","lifecycleRules":[],"loggings":[],"objectLockConfiguration":null,"objectLockEnabled":false,"policy":"","region":"us-east-1","replicationConfigurations":[],"requestPayer":"BucketOwner","serverSideEncryptionConfigurations":[{"rules":[{"applyServerSideEncryptionByDefaults":[{"kmsMasterKeyId":"","sseAlgorithm":"AES256"}],"bucketKeyEnabled":false}]}],"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"versionings":[{"enabled":false,"mfaDelete":false}],"websites":[]},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":252,"timestamp":1722566956,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:iam/role:Role::MyWebServerRole","type":"aws:iam/role:Role","old":{"type":"aws:iam/role:Role","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:iam/role:Role::MyWebServerRole","custom":true,"id":"remix-auth-app-nranganath-MyWebServerRole-useast1","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","inputs":{"__defaults":["forceDetachPolicies","maxSessionDuration","path"],"assumeRolePolicy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"AllowAssumeRole\"}],\"Version\":\"2012-10-17\"}","forceDetachPolicies":false,"inlinePolicies":[],"managedPolicyArns":["arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"],"maxSessionDuration":3600,"name":"remix-auth-app-nranganath-MyWebServerRole-useast1","path":"/","tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"outputs":{"arn":"arn:aws:iam::730335427397:role/remix-auth-app-nranganath-MyWebServerRole-useast1","assumeRolePolicy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"AllowAssumeRole\"}],\"Version\":\"2012-10-17\"}","createDate":"2024-03-29T16:25:00Z","description":"","forceDetachPolicies":false,"id":"remix-auth-app-nranganath-MyWebServerRole-useast1","inlinePolicies":[],"managedPolicyArns":["arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"],"maxSessionDuration":3600,"name":"remix-auth-app-nranganath-MyWebServerRole-useast1","namePrefix":"","path":"/","permissionsBoundary":"","tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"uniqueId":"AROA2UC3CHNCUHGND5NKZ"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:iam/role:Role","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:iam/role:Role::MyWebServerRole","custom":true,"id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","inputs":{"__defaults":["forceDetachPolicies","maxSessionDuration","path"],"assumeRolePolicy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"AllowAssumeRole\"}],\"Version\":\"2012-10-17\"}","forceDetachPolicies":false,"inlinePolicies":[],"managedPolicyArns":["arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"],"maxSessionDuration":3600,"name":"remix-auth-app-nranganath-MyWebServerRole-useast1","path":"/","tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"outputs":{},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":253,"timestamp":1722566956,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:iam/role:Role::MyWebServerRole","type":"aws:iam/role:Role","old":{"type":"aws:iam/role:Role","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:iam/role:Role::MyWebServerRole","custom":true,"id":"remix-auth-app-nranganath-MyWebServerRole-useast1","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","inputs":{"__defaults":["forceDetachPolicies","maxSessionDuration","path"],"assumeRolePolicy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"AllowAssumeRole\"}],\"Version\":\"2012-10-17\"}","forceDetachPolicies":false,"inlinePolicies":[],"managedPolicyArns":["arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"],"maxSessionDuration":3600,"name":"remix-auth-app-nranganath-MyWebServerRole-useast1","path":"/","tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"outputs":{"arn":"arn:aws:iam::730335427397:role/remix-auth-app-nranganath-MyWebServerRole-useast1","assumeRolePolicy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"AllowAssumeRole\"}],\"Version\":\"2012-10-17\"}","createDate":"2024-03-29T16:25:00Z","description":"","forceDetachPolicies":false,"id":"remix-auth-app-nranganath-MyWebServerRole-useast1","inlinePolicies":[],"managedPolicyArns":["arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"],"maxSessionDuration":3600,"name":"remix-auth-app-nranganath-MyWebServerRole-useast1","namePrefix":"","path":"/","permissionsBoundary":"","tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"uniqueId":"AROA2UC3CHNCUHGND5NKZ"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:iam/role:Role","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:iam/role:Role::MyWebServerRole","custom":true,"id":"remix-auth-app-nranganath-MyWebServerRole-useast1","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","inputs":{"__defaults":["forceDetachPolicies","maxSessionDuration","path"],"assumeRolePolicy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"AllowAssumeRole\"}],\"Version\":\"2012-10-17\"}","forceDetachPolicies":false,"inlinePolicies":[],"managedPolicyArns":["arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"],"maxSessionDuration":3600,"name":"remix-auth-app-nranganath-MyWebServerRole-useast1","path":"/","tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"outputs":{"arn":"arn:aws:iam::730335427397:role/remix-auth-app-nranganath-MyWebServerRole-useast1","assumeRolePolicy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"AllowAssumeRole\"}],\"Version\":\"2012-10-17\"}","createDate":"2024-03-29T16:25:00Z","description":"","forceDetachPolicies":false,"id":"remix-auth-app-nranganath-MyWebServerRole-useast1","inlinePolicies":[],"managedPolicyArns":["arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"],"maxSessionDuration":3600,"name":"remix-auth-app-nranganath-MyWebServerRole-useast1","namePrefix":"","path":"/","permissionsBoundary":"","tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"uniqueId":"AROA2UC3CHNCUHGND5NKZ"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":254,"timestamp":1722566956,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketPublicAccessBlock:BucketPublicAccessBlock::MyWebAssetsPublicAccessBlock","type":"aws:s3/bucketPublicAccessBlock:BucketPublicAccessBlock","old":{"type":"aws:s3/bucketPublicAccessBlock:BucketPublicAccessBlock","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketPublicAccessBlock:BucketPublicAccessBlock::MyWebAssetsPublicAccessBlock","custom":true,"id":"remix-auth-app-nranganath-mywebassets-ckwszhaf","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","inputs":{"__defaults":[],"blockPublicAcls":true,"blockPublicPolicy":true,"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","ignorePublicAcls":true,"restrictPublicBuckets":true},"outputs":{"blockPublicAcls":true,"blockPublicPolicy":true,"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","id":"remix-auth-app-nranganath-mywebassets-ckwszhaf","ignorePublicAcls":true,"restrictPublicBuckets":true},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:s3/bucketPublicAccessBlock:BucketPublicAccessBlock","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketPublicAccessBlock:BucketPublicAccessBlock::MyWebAssetsPublicAccessBlock","custom":true,"id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","inputs":{"__defaults":[],"blockPublicAcls":true,"blockPublicPolicy":true,"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","ignorePublicAcls":true,"restrictPublicBuckets":true},"outputs":{},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":255,"timestamp":1722566956,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketPublicAccessBlock:BucketPublicAccessBlock::MyWebAssetsPublicAccessBlock","type":"aws:s3/bucketPublicAccessBlock:BucketPublicAccessBlock","old":{"type":"aws:s3/bucketPublicAccessBlock:BucketPublicAccessBlock","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketPublicAccessBlock:BucketPublicAccessBlock::MyWebAssetsPublicAccessBlock","custom":true,"id":"remix-auth-app-nranganath-mywebassets-ckwszhaf","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","inputs":{"__defaults":[],"blockPublicAcls":true,"blockPublicPolicy":true,"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","ignorePublicAcls":true,"restrictPublicBuckets":true},"outputs":{"blockPublicAcls":true,"blockPublicPolicy":true,"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","id":"remix-auth-app-nranganath-mywebassets-ckwszhaf","ignorePublicAcls":true,"restrictPublicBuckets":true},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:s3/bucketPublicAccessBlock:BucketPublicAccessBlock","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketPublicAccessBlock:BucketPublicAccessBlock::MyWebAssetsPublicAccessBlock","custom":true,"id":"remix-auth-app-nranganath-mywebassets-ckwszhaf","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","inputs":{"__defaults":[],"blockPublicAcls":true,"blockPublicPolicy":true,"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","ignorePublicAcls":true,"restrictPublicBuckets":true},"outputs":{"blockPublicAcls":true,"blockPublicPolicy":true,"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","id":"remix-auth-app-nranganath-mywebassets-ckwszhaf","ignorePublicAcls":true,"restrictPublicBuckets":true},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":256,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebCloudfrontFunctionServerCfFunction[aws:cloudfront/function:Function]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:cloudfront/function:Function::MyWebCloudfrontFunctionServerCfFunction,MyWebCloudfrontFunctionServerCfFunction-dd4a71c,arn,,,arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionServerCfFunction-dd4a71c,code,,,\nfunction handler(event) {\n  var request = event.request;\n  request.headers[\"x-forwarded-host\"] = request.headers.host;\n  return request;\n},comment,,,,etag,,,ETVPDKIKX0DER,id,,,MyWebCloudfrontFunctionServerCfFunction-dd4a71c,liveStageEtag,,,ETVPDKIKX0DER,name,,,MyWebCloudfrontFunctionServerCfFunction-dd4a71c,publish,,,,true,runtime,,,cloudfront-js-1.0,status,,,UNASSOCIATED,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":257,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=pulumi-nodejs:dynamic:Resource, name=MyWebAssetFiles.sst.aws.BucketFiles\n","color":"never","severity":"debug"},"Error":null}
{"sequence":258,"timestamp":1722566956,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketCorsConfigurationV2:BucketCorsConfigurationV2::MyWebAssetsCors","type":"aws:s3/bucketCorsConfigurationV2:BucketCorsConfigurationV2","old":{"type":"aws:s3/bucketCorsConfigurationV2:BucketCorsConfigurationV2","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketCorsConfigurationV2:BucketCorsConfigurationV2::MyWebAssetsCors","custom":true,"id":"remix-auth-app-nranganath-mywebassets-ckwszhaf","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","inputs":{"__defaults":[],"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","corsRules":[{"__defaults":[],"allowedHeaders":["*"],"allowedMethods":["DELETE","GET","HEAD","POST","PUT"],"allowedOrigins":["*"],"maxAgeSeconds":0}]},"outputs":{"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","corsRules":[{"allowedHeaders":["*"],"allowedMethods":["POST","GET","HEAD","DELETE","PUT"],"allowedOrigins":["*"],"exposeHeaders":[],"id":"","maxAgeSeconds":0}],"expectedBucketOwner":"","id":"remix-auth-app-nranganath-mywebassets-ckwszhaf"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:s3/bucketCorsConfigurationV2:BucketCorsConfigurationV2","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketCorsConfigurationV2:BucketCorsConfigurationV2::MyWebAssetsCors","custom":true,"id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","inputs":{"__defaults":[],"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","corsRules":[{"__defaults":[],"allowedHeaders":["*"],"allowedMethods":["DELETE","GET","HEAD","POST","PUT"],"allowedOrigins":["*"],"maxAgeSeconds":0}]},"outputs":{},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":259,"timestamp":1722566956,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketCorsConfigurationV2:BucketCorsConfigurationV2::MyWebAssetsCors","type":"aws:s3/bucketCorsConfigurationV2:BucketCorsConfigurationV2","old":{"type":"aws:s3/bucketCorsConfigurationV2:BucketCorsConfigurationV2","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketCorsConfigurationV2:BucketCorsConfigurationV2::MyWebAssetsCors","custom":true,"id":"remix-auth-app-nranganath-mywebassets-ckwszhaf","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","inputs":{"__defaults":[],"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","corsRules":[{"__defaults":[],"allowedHeaders":["*"],"allowedMethods":["DELETE","GET","HEAD","POST","PUT"],"allowedOrigins":["*"],"maxAgeSeconds":0}]},"outputs":{"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","corsRules":[{"allowedHeaders":["*"],"allowedMethods":["POST","GET","HEAD","DELETE","PUT"],"allowedOrigins":["*"],"exposeHeaders":[],"id":"","maxAgeSeconds":0}],"expectedBucketOwner":"","id":"remix-auth-app-nranganath-mywebassets-ckwszhaf"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:s3/bucketCorsConfigurationV2:BucketCorsConfigurationV2","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketCorsConfigurationV2:BucketCorsConfigurationV2::MyWebAssetsCors","custom":true,"id":"remix-auth-app-nranganath-mywebassets-ckwszhaf","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","inputs":{"__defaults":[],"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","corsRules":[{"__defaults":[],"allowedHeaders":["*"],"allowedMethods":["DELETE","GET","HEAD","POST","PUT"],"allowedOrigins":["*"],"maxAgeSeconds":0}]},"outputs":{"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","corsRules":[{"allowedHeaders":["*"],"allowedMethods":["POST","GET","HEAD","DELETE","PUT"],"allowedOrigins":["*"],"exposeHeaders":[],"id":"","maxAgeSeconds":0}],"expectedBucketOwner":"","id":"remix-auth-app-nranganath-mywebassets-ckwszhaf"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":260,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"Invoke RPC finished: tok=aws:index/getRegion:getRegion; err: null, resp: description,,,US East (N. Virginia),endpoint,,,ec2.us-east-1.amazonaws.com,id,,,us-east-1,name,,,us-east-1,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":261,"timestamp":1722566956,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:lambda/function:Function::MyWebServerFunction","type":"aws:lambda/function:Function","old":{"type":"aws:lambda/function:Function","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:lambda/function:Function::MyWebServerFunction","custom":true,"id":"remix-auth-app-nranganath-MyWebServerFunction","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","inputs":{"__defaults":["packageType","publish","reservedConcurrentExecutions","skipDestroy"],"architectures":["x86_64"],"code":{"4dabf18193072939515e22adb298388d":"0def7320c3a5731c473e5ecbe6d01bc7","hash":"d9cf1a99d862f2257659e0930d41040d34d81e7eab22ed84177778f6453b63a1","path":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/.sst/platform/functions/empty-function"},"description":"MyWeb server","environment":{"__defaults":[],"variables":{}},"handler":"build/server.handler","loggingConfig":{"__defaults":["applicationLogLevel","systemLogLevel"],"applicationLogLevel":"","logFormat":"Text","logGroup":"/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction","systemLogLevel":""},"memorySize":1024,"name":"remix-auth-app-nranganath-MyWebServerFunction","packageType":"Zip","publish":false,"reservedConcurrentExecutions":-1,"role":"arn:aws:iam::730335427397:role/remix-auth-app-nranganath-MyWebServerRole-useast1","runtime":"nodejs20.x","skipDestroy":false,"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"timeout":20},"outputs":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":600000000000,\"delete\":600000000000,\"update\":600000000000}}","architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:730335427397:function:remix-auth-app-nranganath-MyWebServerFunction","code":{"4dabf18193072939515e22adb298388d":"0def7320c3a5731c473e5ecbe6d01bc7","hash":"d9cf1a99d862f2257659e0930d41040d34d81e7eab22ed84177778f6453b63a1","path":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/.sst/platform/functions/empty-function"},"codeSigningConfigArn":"","deadLetterConfig":null,"description":"MyWeb server","environment":null,"ephemeralStorage":{"size":512},"fileSystemConfig":null,"handler":"build/server.handler","id":"remix-auth-app-nranganath-MyWebServerFunction","imageConfig":null,"imageUri":"","invokeArn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:730335427397:function:remix-auth-app-nranganath-MyWebServerFunction/invocations","kmsKeyArn":"","lastModified":"2024-03-29T16:25:08.814+0000","layers":[],"loggingConfig":{"applicationLogLevel":"","logFormat":"Text","logGroup":"/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction","systemLogLevel":""},"memorySize":1024,"name":"remix-auth-app-nranganath-MyWebServerFunction","packageType":"Zip","publish":false,"qualifiedArn":"arn:aws:lambda:us-east-1:730335427397:function:remix-auth-app-nranganath-MyWebServerFunction:$LATEST","qualifiedInvokeArn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:730335427397:function:remix-auth-app-nranganath-MyWebServerFunction:$LATEST/invocations","reservedConcurrentExecutions":-1,"role":"arn:aws:iam::730335427397:role/remix-auth-app-nranganath-MyWebServerRole-useast1","runtime":"nodejs20.x","signingJobArn":"","signingProfileVersionArn":"","skipDestroy":false,"snapStart":null,"sourceCodeHash":"nMBfbHJJg/zBIbosE0rApatHg+J5IQ7+4FW8uR2pCyE=","sourceCodeSize":196,"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"timeout":20,"tracingConfig":{"mode":"PassThrough"},"version":"$LATEST","vpcConfig":null},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:lambda/function:Function","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:lambda/function:Function::MyWebServerFunction","custom":true,"id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","inputs":{"__defaults":["packageType","publish","reservedConcurrentExecutions","skipDestroy"],"architectures":["x86_64"],"code":{"4dabf18193072939515e22adb298388d":"0def7320c3a5731c473e5ecbe6d01bc7","hash":"d9cf1a99d862f2257659e0930d41040d34d81e7eab22ed84177778f6453b63a1","path":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/.sst/platform/functions/empty-function"},"description":"MyWeb server","environment":{"__defaults":[],"variables":{}},"handler":"build/server.handler","loggingConfig":{"__defaults":["applicationLogLevel","systemLogLevel"],"applicationLogLevel":"","logFormat":"Text","logGroup":"/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction","systemLogLevel":""},"memorySize":1024,"name":"remix-auth-app-nranganath-MyWebServerFunction","packageType":"Zip","publish":false,"reservedConcurrentExecutions":-1,"role":"arn:aws:iam::730335427397:role/remix-auth-app-nranganath-MyWebServerRole-useast1","runtime":"nodejs20.x","skipDestroy":false,"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"timeout":20},"outputs":{},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":262,"timestamp":1722566956,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:lambda/function:Function::MyWebServerFunction","type":"aws:lambda/function:Function","old":{"type":"aws:lambda/function:Function","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:lambda/function:Function::MyWebServerFunction","custom":true,"id":"remix-auth-app-nranganath-MyWebServerFunction","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","inputs":{"__defaults":["packageType","publish","reservedConcurrentExecutions","skipDestroy"],"architectures":["x86_64"],"code":{"4dabf18193072939515e22adb298388d":"0def7320c3a5731c473e5ecbe6d01bc7","hash":"d9cf1a99d862f2257659e0930d41040d34d81e7eab22ed84177778f6453b63a1","path":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/.sst/platform/functions/empty-function"},"description":"MyWeb server","environment":{"__defaults":[],"variables":{}},"handler":"build/server.handler","loggingConfig":{"__defaults":["applicationLogLevel","systemLogLevel"],"applicationLogLevel":"","logFormat":"Text","logGroup":"/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction","systemLogLevel":""},"memorySize":1024,"name":"remix-auth-app-nranganath-MyWebServerFunction","packageType":"Zip","publish":false,"reservedConcurrentExecutions":-1,"role":"arn:aws:iam::730335427397:role/remix-auth-app-nranganath-MyWebServerRole-useast1","runtime":"nodejs20.x","skipDestroy":false,"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"timeout":20},"outputs":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":600000000000,\"delete\":600000000000,\"update\":600000000000}}","architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:730335427397:function:remix-auth-app-nranganath-MyWebServerFunction","code":{"4dabf18193072939515e22adb298388d":"0def7320c3a5731c473e5ecbe6d01bc7","hash":"d9cf1a99d862f2257659e0930d41040d34d81e7eab22ed84177778f6453b63a1","path":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/.sst/platform/functions/empty-function"},"codeSigningConfigArn":"","deadLetterConfig":null,"description":"MyWeb server","environment":null,"ephemeralStorage":{"size":512},"fileSystemConfig":null,"handler":"build/server.handler","id":"remix-auth-app-nranganath-MyWebServerFunction","imageConfig":null,"imageUri":"","invokeArn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:730335427397:function:remix-auth-app-nranganath-MyWebServerFunction/invocations","kmsKeyArn":"","lastModified":"2024-03-29T16:25:08.814+0000","layers":[],"loggingConfig":{"applicationLogLevel":"","logFormat":"Text","logGroup":"/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction","systemLogLevel":""},"memorySize":1024,"name":"remix-auth-app-nranganath-MyWebServerFunction","packageType":"Zip","publish":false,"qualifiedArn":"arn:aws:lambda:us-east-1:730335427397:function:remix-auth-app-nranganath-MyWebServerFunction:$LATEST","qualifiedInvokeArn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:730335427397:function:remix-auth-app-nranganath-MyWebServerFunction:$LATEST/invocations","reservedConcurrentExecutions":-1,"role":"arn:aws:iam::730335427397:role/remix-auth-app-nranganath-MyWebServerRole-useast1","runtime":"nodejs20.x","signingJobArn":"","signingProfileVersionArn":"","skipDestroy":false,"snapStart":null,"sourceCodeHash":"nMBfbHJJg/zBIbosE0rApatHg+J5IQ7+4FW8uR2pCyE=","sourceCodeSize":196,"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"timeout":20,"tracingConfig":{"mode":"PassThrough"},"version":"$LATEST","vpcConfig":null},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:lambda/function:Function","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:lambda/function:Function::MyWebServerFunction","custom":true,"id":"remix-auth-app-nranganath-MyWebServerFunction","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","inputs":{"__defaults":["packageType","publish","reservedConcurrentExecutions","skipDestroy"],"architectures":["x86_64"],"code":{"4dabf18193072939515e22adb298388d":"0def7320c3a5731c473e5ecbe6d01bc7","hash":"d9cf1a99d862f2257659e0930d41040d34d81e7eab22ed84177778f6453b63a1","path":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/.sst/platform/functions/empty-function"},"description":"MyWeb server","environment":{"__defaults":[],"variables":{}},"handler":"build/server.handler","loggingConfig":{"__defaults":["applicationLogLevel","systemLogLevel"],"applicationLogLevel":"","logFormat":"Text","logGroup":"/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction","systemLogLevel":""},"memorySize":1024,"name":"remix-auth-app-nranganath-MyWebServerFunction","packageType":"Zip","publish":false,"reservedConcurrentExecutions":-1,"role":"arn:aws:iam::730335427397:role/remix-auth-app-nranganath-MyWebServerRole-useast1","runtime":"nodejs20.x","skipDestroy":false,"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"timeout":20},"outputs":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":600000000000,\"delete\":600000000000,\"update\":600000000000}}","architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:730335427397:function:remix-auth-app-nranganath-MyWebServerFunction","code":{"4dabf18193072939515e22adb298388d":"0def7320c3a5731c473e5ecbe6d01bc7","hash":"d9cf1a99d862f2257659e0930d41040d34d81e7eab22ed84177778f6453b63a1","path":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/.sst/platform/functions/empty-function"},"codeSigningConfigArn":"","deadLetterConfig":null,"description":"MyWeb server","environment":null,"ephemeralStorage":{"size":512},"fileSystemConfig":null,"handler":"build/server.handler","id":"remix-auth-app-nranganath-MyWebServerFunction","imageConfig":null,"imageUri":"","invokeArn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:730335427397:function:remix-auth-app-nranganath-MyWebServerFunction/invocations","kmsKeyArn":"","lastModified":"2024-03-29T16:25:08.814+0000","layers":[],"loggingConfig":{"applicationLogLevel":"","logFormat":"Text","logGroup":"/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction","systemLogLevel":""},"memorySize":1024,"name":"remix-auth-app-nranganath-MyWebServerFunction","packageType":"Zip","publish":false,"qualifiedArn":"arn:aws:lambda:us-east-1:730335427397:function:remix-auth-app-nranganath-MyWebServerFunction:$LATEST","qualifiedInvokeArn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:730335427397:function:remix-auth-app-nranganath-MyWebServerFunction:$LATEST/invocations","reservedConcurrentExecutions":-1,"role":"arn:aws:iam::730335427397:role/remix-auth-app-nranganath-MyWebServerRole-useast1","runtime":"nodejs20.x","signingJobArn":"","signingProfileVersionArn":"","skipDestroy":false,"snapStart":null,"sourceCodeHash":"nMBfbHJJg/zBIbosE0rApatHg+J5IQ7+4FW8uR2pCyE=","sourceCodeSize":196,"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"timeout":20,"tracingConfig":{"mode":"PassThrough"},"version":"$LATEST","vpcConfig":null},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":263,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"Invoke RPC finished: tok=aws:index/getRegion:getRegion; err: null, resp: description,,,US East (N. Virginia),endpoint,,,ec2.us-east-1.amazonaws.com,id,,,us-east-1,name,,,us-east-1,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":264,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=aws:iam/role:Role, name=MyWebServerRole\n","color":"never","severity":"debug"},"Error":null}
{"sequence":265,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"Invoke RPC finished: tok=aws:index/getPartition:getPartition; err: null, resp: dnsSuffix,,,amazonaws.com,id,,,aws,partition,,,aws,reverseDnsPrefix,,,com.amazonaws,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":266,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebCloudfrontFunctionStaticCfFunction[aws:cloudfront/function:Function]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:cloudfront/function:Function::MyWebCloudfrontFunctionStaticCfFunction,MyWebCloudfrontFunctionStaticCfFunction-031993b,arn,,,arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b,code,,,\nfunction handler(event) {\n  var request = event.request;\n  request.uri = request.uri.split('/').map(encodeURIComponent).join('/');\n  return request;\n},comment,,,,etag,,,ETVPDKIKX0DER,id,,,MyWebCloudfrontFunctionStaticCfFunction-031993b,liveStageEtag,,,ETVPDKIKX0DER,name,,,MyWebCloudfrontFunctionStaticCfFunction-031993b,publish,,,,true,runtime,,,cloudfront-js-1.0,status,,,UNASSOCIATED,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":267,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebServerCachePolicy[aws:cloudfront/cachePolicy:CachePolicy]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:cloudfront/cachePolicy:CachePolicy::MyWebServerCachePolicy,161d0728-4fb8-40d6-a98b-d338a62c6e7d,comment,,,SST server response cache policy,defaultTtl,,0,etag,,,E23ZP02F085DFQ,id,,,161d0728-4fb8-40d6-a98b-d338a62c6e7d,maxTtl,,365,minTtl,,0,name,,,MyWebServerCachePolicy-dd315e9,parametersInCacheKeyAndForwardedToOrigin,,,,,cookiesConfig,,,,,cookieBehavior,,,none,cookies,0,enableAcceptEncodingBrotli,,,,true,enableAcceptEncodingGzip,,,,true,headersConfig,,,,,headerBehavior,,,none,headers,0,queryStringsConfig,,,,,queryStringBehavior,,,all,queryStrings,0,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":268,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebServerLogGroup[aws:cloudwatch/logGroup:LogGroup]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:cloudwatch/logGroup:LogGroup::MyWebServerLogGroup,/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction,arn,,,arn:aws:logs:us-east-1:730335427397:log-group:/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction,id,,,/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction,kmsKeyId,,,,logGroupClass,,,STANDARD,name,,,/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction,namePrefix,,,,retentionInDays,,0,skipDestroy,,,,false,tags,,,,,sst:app,,,remix-auth-app,sst:stage,,,nranganath,tagsAll,,,,,sst:app,,,remix-auth-app,sst:stage,,,nranganath,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":269,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebAssetsBucket[aws:s3/bucketV2:BucketV2]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketV2:BucketV2::MyWebAssetsBucket,remix-auth-app-nranganath-mywebassets-ckwszhaf,__meta,,,{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":1200000000000,\"delete\":3600000000000,\"read\":1200000000000,\"update\":1200000000000}},accelerationStatus,,,,arn,,,arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf,bucket,,,remix-auth-app-nranganath-mywebassets-ckwszhaf,bucketDomainName,,,remix-auth-app-nranganath-mywebassets-ckwszhaf.s3.amazonaws.com,bucketPrefix,,,,bucketRegionalDomainName,,,remix-auth-app-nranganath-mywebassets-ckwszhaf.s3.us-east-1.amazonaws.com,corsRules,,,,,,,forceDestroy,,,,true,grants,,,,,,,,,,id,,,bd092444b8a8f1460f23ba8dd5250ece27e6e0417f9d1360524fb57b4d6273fc,permissions,,,,,,,,FULL_CONTROL,type,,,CanonicalUser,uri,,,,hostedZoneId,,,Z3AQBSTGFYJSTF,id,,,remix-auth-app-nranganath-mywebassets-ckwszhaf,lifecycleRules,,,,,,,loggings,,,,,,,objectLockConfiguration,0,objectLockEnabled,,,,false,policy,,,,region,,,us-east-1,replicationConfigurations,,,,,,,requestPayer,,,BucketOwner,serverSideEncryptionConfigurations,,,,,,,,,,rules,,,,,,,,,,applyServerSideEncryptionByDefaults,,,,,,,,,,kmsMasterKeyId,,,,sseAlgorithm,,,AES256,bucketKeyEnabled,,,,false,tags,,,,,sst:app,,,remix-auth-app,sst:stage,,,nranganath,tagsAll,,,,,sst:app,,,remix-auth-app,sst:stage,,,nranganath,versionings,,,,,,,,,,enabled,,,,false,mfaDelete,,,,false,websites,,,,,,,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":270,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=aws:s3/bucketPublicAccessBlock:BucketPublicAccessBlock, name=MyWebAssetsPublicAccessBlock\n","color":"never","severity":"debug"},"Error":null}
{"sequence":271,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=aws:s3/bucketCorsConfigurationV2:BucketCorsConfigurationV2, name=MyWebAssetsCors\n","color":"never","severity":"debug"},"Error":null}
{"sequence":272,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"Invoking function: tok=aws:iam/getPolicyDocument:getPolicyDocument asynchronously\n","color":"never","severity":"debug"},"Error":null}
{"sequence":273,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"Invoking function: tok=aws:iam/getPolicyDocument:getPolicyDocument asynchronously\n","color":"never","severity":"debug"},"Error":null}
{"sequence":274,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":", obj={\"statements\":[{\"effect\":\"Deny\",\"principals\":[{\"type\":\"*\",\"identifiers\":[\"*\"]}],\"actions\":[\"s3:*\"],\"resources\":[\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf\",\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf/*\"],\"conditions\":[{\"test\":\"Bool\",\"variable\":\"aws:SecureTransport\",\"values\":[\"false\"]}]}]}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":275,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":", obj={\"statements\":[{\"principals\":[{\"type\":\"AWS\",\"identifiers\":[\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity EWZX1AN92WK0Z\"]}],\"actions\":[\"s3:GetObject\"],\"resources\":[\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf/*\"]}]}\n","color":"never","severity":"debug"},"Error":null}
{"sequence":276,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebServerRole[aws:iam/role:Role]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:iam/role:Role::MyWebServerRole,remix-auth-app-nranganath-MyWebServerRole-useast1,arn,,,arn:aws:iam::730335427397:role/remix-auth-app-nranganath-MyWebServerRole-useast1,assumeRolePolicy,,,{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Sid\":\"AllowAssumeRole\"}],\"Version\":\"2012-10-17\"},createDate,,,2024-03-29T16:25:00Z,description,,,,forceDetachPolicies,,,,false,id,,,remix-auth-app-nranganath-MyWebServerRole-useast1,inlinePolicies,,,,,,,managedPolicyArns,,,,,,,,arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole,maxSessionDuration,,3600,name,,,remix-auth-app-nranganath-MyWebServerRole-useast1,namePrefix,,,,path,,,/,permissionsBoundary,,,,tags,,,,,sst:app,,,remix-auth-app,sst:stage,,,nranganath,tagsAll,,,,,sst:app,,,remix-auth-app,sst:stage,,,nranganath,uniqueId,,,AROA2UC3CHNCUHGND5NKZ,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":277,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=aws:lambda/function:Function, name=MyWebServerFunction\n","color":"never","severity":"debug"},"Error":null}
{"sequence":278,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"Invoke RPC finished: tok=aws:iam/getPolicyDocument:getPolicyDocument; err: null, resp: id,,,2214763141,json,,,{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Deny\",\n      \"Action\": \"s3:*\",\n      \"Resource\": [\n        \"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf/*\",\n        \"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf\"\n      ],\n      \"Principal\": \"*\",\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": \"false\"\n        }\n      }\n    }\n  ]\n},statements,,,,,,,,,,actions,,,,,,,,s3:*,conditions,,,,,,,,,,test,,,Bool,values,,,,,,,,false,variable,,,aws:SecureTransport,effect,,,Deny,notActions,,,,,,,notPrincipals,,,,,,,notResources,,,,,,,principals,,,,,,,,,,identifiers,,,,,,,,*,type,,,*,resources,,,,,,,,arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf,,,arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf/*,sid,,,,version,,,2012-10-17,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":279,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebAssetsPublicAccessBlock[aws:s3/bucketPublicAccessBlock:BucketPublicAccessBlock]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketPublicAccessBlock:BucketPublicAccessBlock::MyWebAssetsPublicAccessBlock,remix-auth-app-nranganath-mywebassets-ckwszhaf,blockPublicAcls,,,,true,blockPublicPolicy,,,,true,bucket,,,remix-auth-app-nranganath-mywebassets-ckwszhaf,id,,,remix-auth-app-nranganath-mywebassets-ckwszhaf,ignorePublicAcls,,,,true,restrictPublicBuckets,,,,true,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":280,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"Invoke RPC finished: tok=aws:iam/getPolicyDocument:getPolicyDocument; err: null, resp: id,,,1907673673,json,,,{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:GetObject\",\n      \"Resource\": \"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf/*\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity EWZX1AN92WK0Z\"\n      }\n    }\n  ]\n},statements,,,,,,,,,,actions,,,,,,,,s3:GetObject,conditions,,,,,,,effect,,,Allow,notActions,,,,,,,notPrincipals,,,,,,,notResources,,,,,,,principals,,,,,,,,,,identifiers,,,,,,,,arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity EWZX1AN92WK0Z,type,,,AWS,resources,,,,,,,,arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf/*,sid,,,,version,,,2012-10-17,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":281,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=aws:s3/bucketPolicy:BucketPolicy, name=MyWebAssetsPolicy\n","color":"never","severity":"debug"},"Error":null}
{"sequence":282,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebAssetsCors[aws:s3/bucketCorsConfigurationV2:BucketCorsConfigurationV2]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketCorsConfigurationV2:BucketCorsConfigurationV2::MyWebAssetsCors,remix-auth-app-nranganath-mywebassets-ckwszhaf,bucket,,,remix-auth-app-nranganath-mywebassets-ckwszhaf,corsRules,,,,,,,,,,allowedHeaders,,,,,,,,*,allowedMethods,,,,,,,,POST,,,GET,,,HEAD,,,DELETE,,,PUT,allowedOrigins,,,,,,,,*,exposeHeaders,,,,,,,id,,,,maxAgeSeconds,,0,expectedBucketOwner,,,,id,,,remix-auth-app-nranganath-mywebassets-ckwszhaf,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":283,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebServerFunction[aws:lambda/function:Function]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:lambda/function:Function::MyWebServerFunction,remix-auth-app-nranganath-MyWebServerFunction,__meta,,,{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":600000000000,\"delete\":600000000000,\"update\":600000000000}},architectures,,,,,,,,x86_64,arn,,,arn:aws:lambda:us-east-1:730335427397:function:remix-auth-app-nranganath-MyWebServerFunction,code,,,,,4dabf18193072939515e22adb298388d,,,0def7320c3a5731c473e5ecbe6d01bc7,hash,,,d9cf1a99d862f2257659e0930d41040d34d81e7eab22ed84177778f6453b63a1,path,,,/Users/nranganath/personal/my-evite-killer/remix-auth-app/.sst/platform/functions/empty-function,codeSigningConfigArn,,,,deadLetterConfig,0,description,,,MyWeb server,environment,0,ephemeralStorage,,,,,size,,512,fileSystemConfig,0,handler,,,build/server.handler,id,,,remix-auth-app-nranganath-MyWebServerFunction,imageConfig,0,imageUri,,,,invokeArn,,,arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:730335427397:function:remix-auth-app-nranganath-MyWebServerFunction/invocations,kmsKeyArn,,,,lastModified,,,2024-03-29T16:25:08.814+0000,layers,,,,,,,loggingConfig,,,,,applicationLogLevel,,,,logFormat,,,Text,logGroup,,,/aws/lambda/remix-auth-app-nranganath-MyWebServerFunction,systemLogLevel,,,,memorySize,,1024,name,,,remix-auth-app-nranganath-MyWebServerFunction,packageType,,,Zip,publish,,,,false,qualifiedArn,,,arn:aws:lambda:us-east-1:730335427397:function:remix-auth-app-nranganath-MyWebServerFunction:$LATEST,qualifiedInvokeArn,,,arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:730335427397:function:remix-auth-app-nranganath-MyWebServerFunction:$LATEST/invocations,reservedConcurrentExecutions,,-1,role,,,arn:aws:iam::730335427397:role/remix-auth-app-nranganath-MyWebServerRole-useast1,runtime,,,nodejs20.x,signingJobArn,,,,signingProfileVersionArn,,,,skipDestroy,,,,false,snapStart,0,sourceCodeHash,,,nMBfbHJJg/zBIbosE0rApatHg+J5IQ7+4FW8uR2pCyE=,sourceCodeSize,,196,tags,,,,,sst:app,,,remix-auth-app,sst:stage,,,nranganath,tagsAll,,,,,sst:app,,,remix-auth-app,sst:stage,,,nranganath,timeout,,20,tracingConfig,,,,,mode,,,PassThrough,version,,,$LATEST,vpcConfig,0,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":284,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=aws:lambda/functionUrl:FunctionUrl, name=MyWebServerUrl\n","color":"never","severity":"debug"},"Error":null}
{"sequence":285,"timestamp":1722566956,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebAssetFiles.sst.aws.BucketFiles","type":"pulumi-nodejs:dynamic:Resource","old":{"type":"pulumi-nodejs:dynamic:Resource","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebAssetFiles.sst.aws.BucketFiles","custom":true,"id":"files","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nvar __f18_prototype_proto = {};\nObject.defineProperty(__f18_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f19 });\nvar __f18_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f18_prototype, \"constructor\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f18_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f18_prototype, \"serialize\", { configurable: true, writable: true, value: __f21 });\nObject.defineProperty(__f18_prototype, \"deserialize\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f18, \"prototype\", { value: __f18_prototype });\nObject.defineProperty(__f18, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f23 });\nObject.setPrototypeOf(__f18, __f19);\nObject.defineProperty(__provider_proto, \"upload\", { configurable: true, writable: true, value: __f4 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    await this.upload(inputs.bucketName, inputs.files, []);\n    return { id: \"files\" };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    await this.upload(\n      news.bucketName,\n      news.files,\n      news.bucketName === olds.bucketName ? olds.files : []\n    );\n    return {};\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-s3/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-s3/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_sdk_s3_1 = require(\"@aws-sdk/middleware-sdk-s3/dist-cjs/index.js\");\nconst CreateSessionCommand_1 = require(\"@aws-sdk/client-s3/dist-cjs/commands/CreateSessionCommand.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst eventstream_serde_config_resolver_1 = require(\"@smithy/eventstream-serde-config-resolver/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-s3/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\nconst middleware_expect_continue_1 = require(\"@aws-sdk/middleware-expect-continue/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_sdk_s3_1.resolveS3Config)(_config_6, { session: [() =\u003e this, CreateSessionCommand_1.CreateSessionCommand] });\n    const _config_8 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_7);\n    const _config_9 = (0, eventstream_serde_config_resolver_1.resolveEventStreamSerdeConfig)(_config_8);\n    const _config_10 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_9, configuration?.extensions || []);\n    __super.call(this, _config_10);\n    this.config = _config_10;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getValidateBucketNamePlugin)(this.config));\n    this.middlewareStack.use((0, middleware_expect_continue_1.getAddExpectContinuePlugin)(this.config));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getRegionRedirectMiddlewarePlugin)(this.config));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getS3ExpressPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst middleware_ssec_1 = require(\"@aws-sdk/middleware-ssec/dist-cjs/index.js\");\nconst middleware_flexible_checksums_1 = require(\"@aws-sdk/middleware-flexible-checksums/dist-cjs/index.js\");\nconst models_1_1 = require(\"@aws-sdk/client-s3/dist-cjs/models/models_1.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f20(__0, __1, __2) {\n  return (function() {\n    with({ PutObjectCommand: __f18, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, PutObjectCommand.getEndpointParameterInstructions()));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getCheckContentLengthHeaderPlugin)(configuration));\n    this.middlewareStack.use((0, middleware_ssec_1.getSsecPlugin)(configuration));\n    this.middlewareStack.use((0, middleware_flexible_checksums_1.getFlexibleChecksumsPlugin)(configuration, {\n        input: this.input,\n        requestAlgorithmMember: \"ChecksumAlgorithm\",\n        requestChecksumRequired: false,\n    }));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"S3Client\";\n    const commandName = \"PutObjectCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: models_1_1.PutObjectRequestFilterSensitiveLog,\n        outputFilterSensitiveLog: models_1_1.PutObjectOutputFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"AmazonS3\",\n            operation: \"PutObject\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-s3/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f21(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_PutObjectCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_PutObjectCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        Bucket: { type: \"contextParams\", name: \"Bucket\" },\n        Key: { type: \"contextParams\", name: \"Key\" },\n        ForcePathStyle: { type: \"clientContextParams\", name: \"forcePathStyle\" },\n        UseArnRegion: { type: \"clientContextParams\", name: \"useArnRegion\" },\n        DisableMultiRegionAccessPoints: { type: \"clientContextParams\", name: \"disableMultiregionAccessPoints\" },\n        Accelerate: { type: \"clientContextParams\", name: \"useAccelerateEndpoint\" },\n        DisableS3ExpressSessionAuth: { type: \"clientContextParams\", name: \"disableS3ExpressSessionAuth\" },\n        UseGlobalEndpoint: { type: \"builtInParams\", name: \"useGlobalEndpoint\" },\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst fs4 = require(\"fs\");\n\nfunction __f4(__0, __1, __2) {\n  return (function() {\n    with({ useClient: __f5, S3Client2: __f13, PutObjectCommand: __f18, this: undefined, arguments: undefined }) {\n\nreturn async function /*upload*/(bucketName, files, oldFiles) {\n    const oldFilesMap = new Map(oldFiles.map((f) =\u003e [f.key, f]));\n    const s34 = useClient(S3Client2);\n    await Promise.all(\n      files.map(async (file) =\u003e {\n        const oldFile = oldFilesMap.get(file.key);\n        if (oldFile \u0026\u0026 oldFile.hash === file.hash \u0026\u0026 oldFile.cacheControl === file.cacheControl \u0026\u0026 oldFile.contentType === file.contentType) {\n          return;\n        }\n        await s34.send(\n          new PutObjectCommand({\n            Bucket: bucketName,\n            Key: file.key,\n            Body: await fs4.promises.readFile(file.source),\n            CacheControl: file.cacheControl,\n            ContentType: file.contentType\n          })\n        );\n      })\n    );\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","bucketName":"remix-auth-app-nranganath-mywebassets-ckwszhaf","files":[{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"image/vnd.microsoft.icon","hash":"39ff6fa1450c106b5bbc2b7368d888e70f6e799df8f117fccee2a469926b4417","key":"favicon.ico","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/favicon.ico"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"5e4f754315cc5e45139b48e1c25103a1060e26ccd1e8b3221c8e515c0dd7fb20","key":"build/root-CYXR5EWB.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/root-CYXR5EWB.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"a28cd644a5420c7468881277c581063ca730c8913727959d8ff4125329d02621","key":"build/root-CYXR5EWB.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/root-CYXR5EWB.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"659456edc497981dc6fc6836c22fe5db88d3dc0bf23830641aff8136d0b64cb9","key":"build/manifest-E0125D2D.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/manifest-E0125D2D.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"0450cf00a852f8f72332b3d9b6c6ef048ab6dd2bbd6d43f6564b0afc6004a365","key":"build/entry.client-HGBQY5M3.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/entry.client-HGBQY5M3.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"9e18fad211f5788eeecd49e1e30c8972dd65805d2ac8c344f7d30162936d6436","key":"build/entry.client-HGBQY5M3.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/entry.client-HGBQY5M3.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"15c2074131ac985f3f60eb0f35d6005f51f21d95deb8a610828e674f0f147329","key":"build/__remix_entry_dev-UAM4JAVB.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/__remix_entry_dev-UAM4JAVB.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"2822794c0fe88a0f8f98c77ce52db45d64d0508306c2d9344383d808d7112743","key":"build/__remix_entry_dev-UAM4JAVB.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/__remix_entry_dev-UAM4JAVB.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"8596c91edd3d2b4c5cdaa429839bf97285bbc989d8c652cef4154b581b9424eb","key":"build/routes/_index-FMQBIS6B.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/routes/_index-FMQBIS6B.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"8c48ab599269c69e8b6aa745f99624163a91c21ac4a3880cd4dcbae7edb1e503","key":"build/routes/_index-FMQBIS6B.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/routes/_index-FMQBIS6B.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/runtime-GC7QIU56.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/runtime-GC7QIU56.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"eeb1d14ca042715856ce4d8943bc8f1386a40d1fb035e36e4f63cf33dfcb6c1a","key":"build/_shared/runtime-GC7QIU56.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/runtime-GC7QIU56.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/remix_hmr-X4DNBM5E.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/remix_hmr-X4DNBM5E.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"9fb9ad537eaa418b695fcee3f0a39f8ffcc046ef221679ebb43b75239951d9ab","key":"build/_shared/remix_hmr-X4DNBM5E.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/remix_hmr-X4DNBM5E.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/react-dom-BEFB7ICU.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/react-dom-BEFB7ICU.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"d7dddd8175e42f776fc910d9fc0254e55ca85a19407c53b83f874327364a99ea","key":"build/_shared/react-dom-BEFB7ICU.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/react-dom-BEFB7ICU.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/react-3OYUNTOK.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/react-3OYUNTOK.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"99c2db0848177c2865c03a5465b6e6201f6c0e98c43f0312137e00f65c9f21af","key":"build/_shared/react-3OYUNTOK.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/react-3OYUNTOK.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"e6a3f4d199d465a2e938b902a18f5a5126cefbace34541fb2e241bf709da76b0","key":"build/_shared/jsx-runtime-7NXSP56X.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/jsx-runtime-7NXSP56X.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"a94b150c26e860d7289f446d8be85d7732fb443c3b50c9025753608293f28383","key":"build/_shared/jsx-runtime-7NXSP56X.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/jsx-runtime-7NXSP56X.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/jsx-dev-runtime-RDH4Y5YT.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/jsx-dev-runtime-RDH4Y5YT.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"b7ee88a1257b5b7881514f87b1fe7e0631fff3c652a7cb1b05df27ca77e23c1e","key":"build/_shared/jsx-dev-runtime-RDH4Y5YT.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/jsx-dev-runtime-RDH4Y5YT.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/esm-IHSAMRKC.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/esm-IHSAMRKC.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"5a2f8b31e84f0870bb08b3e861e7c53965ea6edc2c07e202aaa5c817435deb6e","key":"build/_shared/esm-IHSAMRKC.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/esm-IHSAMRKC.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/client-DFZR44C7.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/client-DFZR44C7.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"9a30d179d94b48e6b27f48ca5f496341902bed0b70bcdff12c6ed87fd0acdaf2","key":"build/_shared/client-DFZR44C7.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/client-DFZR44C7.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"e814482af64fdd5d329777bc66005d79ce2a9ac145e2b0ec4c92dccde8b20e80","key":"build/_shared/chunk-ZWGWGGVF.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-ZWGWGGVF.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"3e859a24b8b469781395446f1e9fca63bb3ccf4e281046ac1c1b274f90ac2d8c","key":"build/_shared/chunk-ZWGWGGVF.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-ZWGWGGVF.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"61aba8b8cad25631d3a840b965100c20dbcd875e168188a237a0dbb57cc972e7","key":"build/_shared/chunk-XU7DNSPJ.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-XU7DNSPJ.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"50bb08ac62d179f23c01261eb2f14398c46426a988cfa8c8dd00983e6e182573","key":"build/_shared/chunk-XU7DNSPJ.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-XU7DNSPJ.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"64d41014e221099f7a97d502b5624b0b49be2d263c75949536880e035e895dcd","key":"build/_shared/chunk-UWV35TSL.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-UWV35TSL.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"fc7b39d7fdd3db56fa0e9f7174fb0b4501f0ce813c102a0bc914601e6cb91911","key":"build/_shared/chunk-UWV35TSL.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-UWV35TSL.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/chunk-PNG5AS42.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-PNG5AS42.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"20cfeab6d76da15eddf43f07a15dd80850819a7477c269989b508190e15d1423","key":"build/_shared/chunk-PNG5AS42.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-PNG5AS42.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"0b13b12b90b84fb57629a8ad841d93f16a7e3587090d9dd615f1a159f3869c8f","key":"build/_shared/chunk-GIAAE3CH.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-GIAAE3CH.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"8cc8ae08a5c5abfdae44a4e2c323adddc063c1532e88a3f2e67a650c7514c18d","key":"build/_shared/chunk-GIAAE3CH.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-GIAAE3CH.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"2f89cb94845ffaf39adf584bdbce9839541481d30a543af530923ecc9f837d1b","key":"build/_shared/chunk-EZESCYNK.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-EZESCYNK.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"25da4d87acce9d19b1e857ffebc1c0d257427d3fa496f7b2144170682eb8f5df","key":"build/_shared/chunk-EZESCYNK.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-EZESCYNK.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"74746a0ed107b0344a6aa37c8ea3fa6563ca567208ba060151226618d29bb48b","key":"build/_shared/chunk-EZC3IGXS.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-EZC3IGXS.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"65f8a77b391557f954aa00259737e6a267f949e7ce2cf00ef28a1b33b9ccfe6d","key":"build/_shared/chunk-EZC3IGXS.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-EZC3IGXS.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"74b93e22104266342c62c7229f75020e14e5c32cfc4c3431afdc50710cc7ba1f","key":"build/_shared/chunk-BOXFZXVX.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-BOXFZXVX.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"e0d45954cb803cd8ac674b9f9f87e3ae054529f9a865b1bd90c986cf99235a97","key":"build/_shared/chunk-BOXFZXVX.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-BOXFZXVX.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"11f6f0e01e9e47704d5a40750e1851d442b9e1a5a9255f9b0e5b3bf973b47bb9","key":"assets/root-tNoBBM0F.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/assets/root-tNoBBM0F.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"0961e1d8d9c3c10c5ff4077c74513a24ad830e3380260efa36da69b0d61b016a","key":"assets/manifest-c11f8b2c.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/assets/manifest-c11f8b2c.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"4bee559af74b95cd0f7cd7ca6c8e7aedcbbb96ef92d06d9bdb05b021cb4ed3a9","key":"assets/entry.client-KLoKnM-o.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/assets/entry.client-KLoKnM-o.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"c0daaf739e16c1209955d870aa4660f0127861a4bee185638e37569d6a577878","key":"assets/components-DFwzXaoi.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/assets/components-DFwzXaoi.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"bb78c8eb7b073415c2c4dd59c257f5ad11c0c552c1fc2ba60633b7df21412f7f","key":"assets/_index-CVv0LjsW.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/assets/_index-CVv0LjsW.js"}]},"outputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nvar __f18_prototype_proto = {};\nObject.defineProperty(__f18_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f19 });\nvar __f18_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f18_prototype, \"constructor\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f18_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f18_prototype, \"serialize\", { configurable: true, writable: true, value: __f21 });\nObject.defineProperty(__f18_prototype, \"deserialize\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f18, \"prototype\", { value: __f18_prototype });\nObject.defineProperty(__f18, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f23 });\nObject.setPrototypeOf(__f18, __f19);\nObject.defineProperty(__provider_proto, \"upload\", { configurable: true, writable: true, value: __f4 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    await this.upload(inputs.bucketName, inputs.files, []);\n    return { id: \"files\" };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    await this.upload(\n      news.bucketName,\n      news.files,\n      news.bucketName === olds.bucketName ? olds.files : []\n    );\n    return {};\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-s3/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-s3/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_sdk_s3_1 = require(\"@aws-sdk/middleware-sdk-s3/dist-cjs/index.js\");\nconst CreateSessionCommand_1 = require(\"@aws-sdk/client-s3/dist-cjs/commands/CreateSessionCommand.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst eventstream_serde_config_resolver_1 = require(\"@smithy/eventstream-serde-config-resolver/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-s3/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\nconst middleware_expect_continue_1 = require(\"@aws-sdk/middleware-expect-continue/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_sdk_s3_1.resolveS3Config)(_config_6, { session: [() =\u003e this, CreateSessionCommand_1.CreateSessionCommand] });\n    const _config_8 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_7);\n    const _config_9 = (0, eventstream_serde_config_resolver_1.resolveEventStreamSerdeConfig)(_config_8);\n    const _config_10 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_9, configuration?.extensions || []);\n    __super.call(this, _config_10);\n    this.config = _config_10;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getValidateBucketNamePlugin)(this.config));\n    this.middlewareStack.use((0, middleware_expect_continue_1.getAddExpectContinuePlugin)(this.config));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getRegionRedirectMiddlewarePlugin)(this.config));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getS3ExpressPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst middleware_ssec_1 = require(\"@aws-sdk/middleware-ssec/dist-cjs/index.js\");\nconst middleware_flexible_checksums_1 = require(\"@aws-sdk/middleware-flexible-checksums/dist-cjs/index.js\");\nconst models_1_1 = require(\"@aws-sdk/client-s3/dist-cjs/models/models_1.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f20(__0, __1, __2) {\n  return (function() {\n    with({ PutObjectCommand: __f18, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, PutObjectCommand.getEndpointParameterInstructions()));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getCheckContentLengthHeaderPlugin)(configuration));\n    this.middlewareStack.use((0, middleware_ssec_1.getSsecPlugin)(configuration));\n    this.middlewareStack.use((0, middleware_flexible_checksums_1.getFlexibleChecksumsPlugin)(configuration, {\n        input: this.input,\n        requestAlgorithmMember: \"ChecksumAlgorithm\",\n        requestChecksumRequired: false,\n    }));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"S3Client\";\n    const commandName = \"PutObjectCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: models_1_1.PutObjectRequestFilterSensitiveLog,\n        outputFilterSensitiveLog: models_1_1.PutObjectOutputFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"AmazonS3\",\n            operation: \"PutObject\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-s3/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f21(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_PutObjectCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_PutObjectCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        Bucket: { type: \"contextParams\", name: \"Bucket\" },\n        Key: { type: \"contextParams\", name: \"Key\" },\n        ForcePathStyle: { type: \"clientContextParams\", name: \"forcePathStyle\" },\n        UseArnRegion: { type: \"clientContextParams\", name: \"useArnRegion\" },\n        DisableMultiRegionAccessPoints: { type: \"clientContextParams\", name: \"disableMultiregionAccessPoints\" },\n        Accelerate: { type: \"clientContextParams\", name: \"useAccelerateEndpoint\" },\n        DisableS3ExpressSessionAuth: { type: \"clientContextParams\", name: \"disableS3ExpressSessionAuth\" },\n        UseGlobalEndpoint: { type: \"builtInParams\", name: \"useGlobalEndpoint\" },\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst fs4 = require(\"fs\");\n\nfunction __f4(__0, __1, __2) {\n  return (function() {\n    with({ useClient: __f5, S3Client2: __f13, PutObjectCommand: __f18, this: undefined, arguments: undefined }) {\n\nreturn async function /*upload*/(bucketName, files, oldFiles) {\n    const oldFilesMap = new Map(oldFiles.map((f) =\u003e [f.key, f]));\n    const s34 = useClient(S3Client2);\n    await Promise.all(\n      files.map(async (file) =\u003e {\n        const oldFile = oldFilesMap.get(file.key);\n        if (oldFile \u0026\u0026 oldFile.hash === file.hash \u0026\u0026 oldFile.cacheControl === file.cacheControl \u0026\u0026 oldFile.contentType === file.contentType) {\n          return;\n        }\n        await s34.send(\n          new PutObjectCommand({\n            Bucket: bucketName,\n            Key: file.key,\n            Body: await fs4.promises.readFile(file.source),\n            CacheControl: file.cacheControl,\n            ContentType: file.contentType\n          })\n        );\n      })\n    );\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"},"new":{"type":"pulumi-nodejs:dynamic:Resource","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebAssetFiles.sst.aws.BucketFiles","custom":true,"id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nvar __f18_prototype_proto = {};\nObject.defineProperty(__f18_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f19 });\nvar __f18_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f18_prototype, \"constructor\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f18_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f18_prototype, \"serialize\", { configurable: true, writable: true, value: __f21 });\nObject.defineProperty(__f18_prototype, \"deserialize\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f18, \"prototype\", { value: __f18_prototype });\nObject.defineProperty(__f18, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f23 });\nObject.setPrototypeOf(__f18, __f19);\nObject.defineProperty(__provider_proto, \"upload\", { configurable: true, writable: true, value: __f4 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    await this.upload(inputs.bucketName, inputs.files, []);\n    return { id: \"files\" };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    await this.upload(\n      news.bucketName,\n      news.files,\n      news.bucketName === olds.bucketName ? olds.files : []\n    );\n    return {};\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-s3/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-s3/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_sdk_s3_1 = require(\"@aws-sdk/middleware-sdk-s3/dist-cjs/index.js\");\nconst CreateSessionCommand_1 = require(\"@aws-sdk/client-s3/dist-cjs/commands/CreateSessionCommand.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst eventstream_serde_config_resolver_1 = require(\"@smithy/eventstream-serde-config-resolver/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-s3/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\nconst middleware_expect_continue_1 = require(\"@aws-sdk/middleware-expect-continue/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_sdk_s3_1.resolveS3Config)(_config_6, { session: [() =\u003e this, CreateSessionCommand_1.CreateSessionCommand] });\n    const _config_8 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_7);\n    const _config_9 = (0, eventstream_serde_config_resolver_1.resolveEventStreamSerdeConfig)(_config_8);\n    const _config_10 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_9, configuration?.extensions || []);\n    __super.call(this, _config_10);\n    this.config = _config_10;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getValidateBucketNamePlugin)(this.config));\n    this.middlewareStack.use((0, middleware_expect_continue_1.getAddExpectContinuePlugin)(this.config));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getRegionRedirectMiddlewarePlugin)(this.config));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getS3ExpressPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst middleware_ssec_1 = require(\"@aws-sdk/middleware-ssec/dist-cjs/index.js\");\nconst middleware_flexible_checksums_1 = require(\"@aws-sdk/middleware-flexible-checksums/dist-cjs/index.js\");\nconst models_1_1 = require(\"@aws-sdk/client-s3/dist-cjs/models/models_1.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f20(__0, __1, __2) {\n  return (function() {\n    with({ PutObjectCommand: __f18, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, PutObjectCommand.getEndpointParameterInstructions()));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getCheckContentLengthHeaderPlugin)(configuration));\n    this.middlewareStack.use((0, middleware_ssec_1.getSsecPlugin)(configuration));\n    this.middlewareStack.use((0, middleware_flexible_checksums_1.getFlexibleChecksumsPlugin)(configuration, {\n        input: this.input,\n        requestAlgorithmMember: \"ChecksumAlgorithm\",\n        requestChecksumRequired: false,\n    }));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"S3Client\";\n    const commandName = \"PutObjectCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: models_1_1.PutObjectRequestFilterSensitiveLog,\n        outputFilterSensitiveLog: models_1_1.PutObjectOutputFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"AmazonS3\",\n            operation: \"PutObject\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-s3/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f21(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_PutObjectCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_PutObjectCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        Bucket: { type: \"contextParams\", name: \"Bucket\" },\n        Key: { type: \"contextParams\", name: \"Key\" },\n        ForcePathStyle: { type: \"clientContextParams\", name: \"forcePathStyle\" },\n        UseArnRegion: { type: \"clientContextParams\", name: \"useArnRegion\" },\n        DisableMultiRegionAccessPoints: { type: \"clientContextParams\", name: \"disableMultiregionAccessPoints\" },\n        Accelerate: { type: \"clientContextParams\", name: \"useAccelerateEndpoint\" },\n        DisableS3ExpressSessionAuth: { type: \"clientContextParams\", name: \"disableS3ExpressSessionAuth\" },\n        UseGlobalEndpoint: { type: \"builtInParams\", name: \"useGlobalEndpoint\" },\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst fs4 = require(\"fs\");\n\nfunction __f4(__0, __1, __2) {\n  return (function() {\n    with({ useClient: __f5, S3Client2: __f13, PutObjectCommand: __f18, this: undefined, arguments: undefined }) {\n\nreturn async function /*upload*/(bucketName, files, oldFiles) {\n    const oldFilesMap = new Map(oldFiles.map((f) =\u003e [f.key, f]));\n    const s34 = useClient(S3Client2);\n    await Promise.all(\n      files.map(async (file) =\u003e {\n        const oldFile = oldFilesMap.get(file.key);\n        if (oldFile \u0026\u0026 oldFile.hash === file.hash \u0026\u0026 oldFile.cacheControl === file.cacheControl \u0026\u0026 oldFile.contentType === file.contentType) {\n          return;\n        }\n        await s34.send(\n          new PutObjectCommand({\n            Bucket: bucketName,\n            Key: file.key,\n            Body: await fs4.promises.readFile(file.source),\n            CacheControl: file.cacheControl,\n            ContentType: file.contentType\n          })\n        );\n      })\n    );\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","bucketName":"remix-auth-app-nranganath-mywebassets-ckwszhaf","files":[{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"image/vnd.microsoft.icon","hash":"39ff6fa1450c106b5bbc2b7368d888e70f6e799df8f117fccee2a469926b4417","key":"favicon.ico","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/favicon.ico"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"5e4f754315cc5e45139b48e1c25103a1060e26ccd1e8b3221c8e515c0dd7fb20","key":"build/root-CYXR5EWB.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/root-CYXR5EWB.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"a28cd644a5420c7468881277c581063ca730c8913727959d8ff4125329d02621","key":"build/root-CYXR5EWB.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/root-CYXR5EWB.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"659456edc497981dc6fc6836c22fe5db88d3dc0bf23830641aff8136d0b64cb9","key":"build/manifest-E0125D2D.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/manifest-E0125D2D.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"0450cf00a852f8f72332b3d9b6c6ef048ab6dd2bbd6d43f6564b0afc6004a365","key":"build/entry.client-HGBQY5M3.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/entry.client-HGBQY5M3.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"9e18fad211f5788eeecd49e1e30c8972dd65805d2ac8c344f7d30162936d6436","key":"build/entry.client-HGBQY5M3.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/entry.client-HGBQY5M3.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"15c2074131ac985f3f60eb0f35d6005f51f21d95deb8a610828e674f0f147329","key":"build/__remix_entry_dev-UAM4JAVB.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/__remix_entry_dev-UAM4JAVB.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"2822794c0fe88a0f8f98c77ce52db45d64d0508306c2d9344383d808d7112743","key":"build/__remix_entry_dev-UAM4JAVB.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/__remix_entry_dev-UAM4JAVB.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"8596c91edd3d2b4c5cdaa429839bf97285bbc989d8c652cef4154b581b9424eb","key":"build/routes/_index-FMQBIS6B.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/routes/_index-FMQBIS6B.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"8c48ab599269c69e8b6aa745f99624163a91c21ac4a3880cd4dcbae7edb1e503","key":"build/routes/_index-FMQBIS6B.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/routes/_index-FMQBIS6B.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/runtime-GC7QIU56.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/runtime-GC7QIU56.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"eeb1d14ca042715856ce4d8943bc8f1386a40d1fb035e36e4f63cf33dfcb6c1a","key":"build/_shared/runtime-GC7QIU56.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/runtime-GC7QIU56.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/remix_hmr-X4DNBM5E.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/remix_hmr-X4DNBM5E.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"9fb9ad537eaa418b695fcee3f0a39f8ffcc046ef221679ebb43b75239951d9ab","key":"build/_shared/remix_hmr-X4DNBM5E.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/remix_hmr-X4DNBM5E.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/react-dom-BEFB7ICU.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/react-dom-BEFB7ICU.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"d7dddd8175e42f776fc910d9fc0254e55ca85a19407c53b83f874327364a99ea","key":"build/_shared/react-dom-BEFB7ICU.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/react-dom-BEFB7ICU.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/react-3OYUNTOK.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/react-3OYUNTOK.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"99c2db0848177c2865c03a5465b6e6201f6c0e98c43f0312137e00f65c9f21af","key":"build/_shared/react-3OYUNTOK.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/react-3OYUNTOK.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"e6a3f4d199d465a2e938b902a18f5a5126cefbace34541fb2e241bf709da76b0","key":"build/_shared/jsx-runtime-7NXSP56X.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/jsx-runtime-7NXSP56X.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"a94b150c26e860d7289f446d8be85d7732fb443c3b50c9025753608293f28383","key":"build/_shared/jsx-runtime-7NXSP56X.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/jsx-runtime-7NXSP56X.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/jsx-dev-runtime-RDH4Y5YT.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/jsx-dev-runtime-RDH4Y5YT.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"b7ee88a1257b5b7881514f87b1fe7e0631fff3c652a7cb1b05df27ca77e23c1e","key":"build/_shared/jsx-dev-runtime-RDH4Y5YT.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/jsx-dev-runtime-RDH4Y5YT.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/esm-IHSAMRKC.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/esm-IHSAMRKC.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"5a2f8b31e84f0870bb08b3e861e7c53965ea6edc2c07e202aaa5c817435deb6e","key":"build/_shared/esm-IHSAMRKC.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/esm-IHSAMRKC.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/client-DFZR44C7.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/client-DFZR44C7.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"9a30d179d94b48e6b27f48ca5f496341902bed0b70bcdff12c6ed87fd0acdaf2","key":"build/_shared/client-DFZR44C7.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/client-DFZR44C7.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"e814482af64fdd5d329777bc66005d79ce2a9ac145e2b0ec4c92dccde8b20e80","key":"build/_shared/chunk-ZWGWGGVF.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-ZWGWGGVF.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"3e859a24b8b469781395446f1e9fca63bb3ccf4e281046ac1c1b274f90ac2d8c","key":"build/_shared/chunk-ZWGWGGVF.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-ZWGWGGVF.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"61aba8b8cad25631d3a840b965100c20dbcd875e168188a237a0dbb57cc972e7","key":"build/_shared/chunk-XU7DNSPJ.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-XU7DNSPJ.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"50bb08ac62d179f23c01261eb2f14398c46426a988cfa8c8dd00983e6e182573","key":"build/_shared/chunk-XU7DNSPJ.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-XU7DNSPJ.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"64d41014e221099f7a97d502b5624b0b49be2d263c75949536880e035e895dcd","key":"build/_shared/chunk-UWV35TSL.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-UWV35TSL.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"fc7b39d7fdd3db56fa0e9f7174fb0b4501f0ce813c102a0bc914601e6cb91911","key":"build/_shared/chunk-UWV35TSL.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-UWV35TSL.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/chunk-PNG5AS42.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-PNG5AS42.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"20cfeab6d76da15eddf43f07a15dd80850819a7477c269989b508190e15d1423","key":"build/_shared/chunk-PNG5AS42.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-PNG5AS42.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"0b13b12b90b84fb57629a8ad841d93f16a7e3587090d9dd615f1a159f3869c8f","key":"build/_shared/chunk-GIAAE3CH.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-GIAAE3CH.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"8cc8ae08a5c5abfdae44a4e2c323adddc063c1532e88a3f2e67a650c7514c18d","key":"build/_shared/chunk-GIAAE3CH.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-GIAAE3CH.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"2f89cb94845ffaf39adf584bdbce9839541481d30a543af530923ecc9f837d1b","key":"build/_shared/chunk-EZESCYNK.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-EZESCYNK.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"25da4d87acce9d19b1e857ffebc1c0d257427d3fa496f7b2144170682eb8f5df","key":"build/_shared/chunk-EZESCYNK.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-EZESCYNK.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"74746a0ed107b0344a6aa37c8ea3fa6563ca567208ba060151226618d29bb48b","key":"build/_shared/chunk-EZC3IGXS.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-EZC3IGXS.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"65f8a77b391557f954aa00259737e6a267f949e7ce2cf00ef28a1b33b9ccfe6d","key":"build/_shared/chunk-EZC3IGXS.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-EZC3IGXS.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"74b93e22104266342c62c7229f75020e14e5c32cfc4c3431afdc50710cc7ba1f","key":"build/_shared/chunk-BOXFZXVX.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-BOXFZXVX.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"e0d45954cb803cd8ac674b9f9f87e3ae054529f9a865b1bd90c986cf99235a97","key":"build/_shared/chunk-BOXFZXVX.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-BOXFZXVX.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"11f6f0e01e9e47704d5a40750e1851d442b9e1a5a9255f9b0e5b3bf973b47bb9","key":"assets/root-tNoBBM0F.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/assets/root-tNoBBM0F.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"0961e1d8d9c3c10c5ff4077c74513a24ad830e3380260efa36da69b0d61b016a","key":"assets/manifest-c11f8b2c.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/assets/manifest-c11f8b2c.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"4bee559af74b95cd0f7cd7ca6c8e7aedcbbb96ef92d06d9bdb05b021cb4ed3a9","key":"assets/entry.client-KLoKnM-o.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/assets/entry.client-KLoKnM-o.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"c0daaf739e16c1209955d870aa4660f0127861a4bee185638e37569d6a577878","key":"assets/components-DFwzXaoi.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/assets/components-DFwzXaoi.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"bb78c8eb7b073415c2c4dd59c257f5ad11c0c552c1fc2ba60633b7df21412f7f","key":"assets/_index-CVv0LjsW.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/assets/_index-CVv0LjsW.js"}]},"outputs":{},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"}},"Error":null}
{"sequence":286,"timestamp":1722566956,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebAssetFiles.sst.aws.BucketFiles","type":"pulumi-nodejs:dynamic:Resource","old":{"type":"pulumi-nodejs:dynamic:Resource","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebAssetFiles.sst.aws.BucketFiles","custom":true,"id":"files","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nvar __f18_prototype_proto = {};\nObject.defineProperty(__f18_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f19 });\nvar __f18_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f18_prototype, \"constructor\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f18_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f18_prototype, \"serialize\", { configurable: true, writable: true, value: __f21 });\nObject.defineProperty(__f18_prototype, \"deserialize\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f18, \"prototype\", { value: __f18_prototype });\nObject.defineProperty(__f18, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f23 });\nObject.setPrototypeOf(__f18, __f19);\nObject.defineProperty(__provider_proto, \"upload\", { configurable: true, writable: true, value: __f4 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    await this.upload(inputs.bucketName, inputs.files, []);\n    return { id: \"files\" };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    await this.upload(\n      news.bucketName,\n      news.files,\n      news.bucketName === olds.bucketName ? olds.files : []\n    );\n    return {};\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-s3/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-s3/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_sdk_s3_1 = require(\"@aws-sdk/middleware-sdk-s3/dist-cjs/index.js\");\nconst CreateSessionCommand_1 = require(\"@aws-sdk/client-s3/dist-cjs/commands/CreateSessionCommand.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst eventstream_serde_config_resolver_1 = require(\"@smithy/eventstream-serde-config-resolver/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-s3/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\nconst middleware_expect_continue_1 = require(\"@aws-sdk/middleware-expect-continue/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_sdk_s3_1.resolveS3Config)(_config_6, { session: [() =\u003e this, CreateSessionCommand_1.CreateSessionCommand] });\n    const _config_8 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_7);\n    const _config_9 = (0, eventstream_serde_config_resolver_1.resolveEventStreamSerdeConfig)(_config_8);\n    const _config_10 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_9, configuration?.extensions || []);\n    __super.call(this, _config_10);\n    this.config = _config_10;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getValidateBucketNamePlugin)(this.config));\n    this.middlewareStack.use((0, middleware_expect_continue_1.getAddExpectContinuePlugin)(this.config));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getRegionRedirectMiddlewarePlugin)(this.config));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getS3ExpressPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst middleware_ssec_1 = require(\"@aws-sdk/middleware-ssec/dist-cjs/index.js\");\nconst middleware_flexible_checksums_1 = require(\"@aws-sdk/middleware-flexible-checksums/dist-cjs/index.js\");\nconst models_1_1 = require(\"@aws-sdk/client-s3/dist-cjs/models/models_1.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f20(__0, __1, __2) {\n  return (function() {\n    with({ PutObjectCommand: __f18, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, PutObjectCommand.getEndpointParameterInstructions()));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getCheckContentLengthHeaderPlugin)(configuration));\n    this.middlewareStack.use((0, middleware_ssec_1.getSsecPlugin)(configuration));\n    this.middlewareStack.use((0, middleware_flexible_checksums_1.getFlexibleChecksumsPlugin)(configuration, {\n        input: this.input,\n        requestAlgorithmMember: \"ChecksumAlgorithm\",\n        requestChecksumRequired: false,\n    }));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"S3Client\";\n    const commandName = \"PutObjectCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: models_1_1.PutObjectRequestFilterSensitiveLog,\n        outputFilterSensitiveLog: models_1_1.PutObjectOutputFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"AmazonS3\",\n            operation: \"PutObject\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-s3/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f21(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_PutObjectCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_PutObjectCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        Bucket: { type: \"contextParams\", name: \"Bucket\" },\n        Key: { type: \"contextParams\", name: \"Key\" },\n        ForcePathStyle: { type: \"clientContextParams\", name: \"forcePathStyle\" },\n        UseArnRegion: { type: \"clientContextParams\", name: \"useArnRegion\" },\n        DisableMultiRegionAccessPoints: { type: \"clientContextParams\", name: \"disableMultiregionAccessPoints\" },\n        Accelerate: { type: \"clientContextParams\", name: \"useAccelerateEndpoint\" },\n        DisableS3ExpressSessionAuth: { type: \"clientContextParams\", name: \"disableS3ExpressSessionAuth\" },\n        UseGlobalEndpoint: { type: \"builtInParams\", name: \"useGlobalEndpoint\" },\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst fs4 = require(\"fs\");\n\nfunction __f4(__0, __1, __2) {\n  return (function() {\n    with({ useClient: __f5, S3Client2: __f13, PutObjectCommand: __f18, this: undefined, arguments: undefined }) {\n\nreturn async function /*upload*/(bucketName, files, oldFiles) {\n    const oldFilesMap = new Map(oldFiles.map((f) =\u003e [f.key, f]));\n    const s34 = useClient(S3Client2);\n    await Promise.all(\n      files.map(async (file) =\u003e {\n        const oldFile = oldFilesMap.get(file.key);\n        if (oldFile \u0026\u0026 oldFile.hash === file.hash \u0026\u0026 oldFile.cacheControl === file.cacheControl \u0026\u0026 oldFile.contentType === file.contentType) {\n          return;\n        }\n        await s34.send(\n          new PutObjectCommand({\n            Bucket: bucketName,\n            Key: file.key,\n            Body: await fs4.promises.readFile(file.source),\n            CacheControl: file.cacheControl,\n            ContentType: file.contentType\n          })\n        );\n      })\n    );\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","bucketName":"remix-auth-app-nranganath-mywebassets-ckwszhaf","files":[{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"image/vnd.microsoft.icon","hash":"39ff6fa1450c106b5bbc2b7368d888e70f6e799df8f117fccee2a469926b4417","key":"favicon.ico","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/favicon.ico"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"5e4f754315cc5e45139b48e1c25103a1060e26ccd1e8b3221c8e515c0dd7fb20","key":"build/root-CYXR5EWB.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/root-CYXR5EWB.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"a28cd644a5420c7468881277c581063ca730c8913727959d8ff4125329d02621","key":"build/root-CYXR5EWB.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/root-CYXR5EWB.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"659456edc497981dc6fc6836c22fe5db88d3dc0bf23830641aff8136d0b64cb9","key":"build/manifest-E0125D2D.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/manifest-E0125D2D.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"0450cf00a852f8f72332b3d9b6c6ef048ab6dd2bbd6d43f6564b0afc6004a365","key":"build/entry.client-HGBQY5M3.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/entry.client-HGBQY5M3.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"9e18fad211f5788eeecd49e1e30c8972dd65805d2ac8c344f7d30162936d6436","key":"build/entry.client-HGBQY5M3.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/entry.client-HGBQY5M3.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"15c2074131ac985f3f60eb0f35d6005f51f21d95deb8a610828e674f0f147329","key":"build/__remix_entry_dev-UAM4JAVB.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/__remix_entry_dev-UAM4JAVB.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"2822794c0fe88a0f8f98c77ce52db45d64d0508306c2d9344383d808d7112743","key":"build/__remix_entry_dev-UAM4JAVB.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/__remix_entry_dev-UAM4JAVB.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"8596c91edd3d2b4c5cdaa429839bf97285bbc989d8c652cef4154b581b9424eb","key":"build/routes/_index-FMQBIS6B.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/routes/_index-FMQBIS6B.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"8c48ab599269c69e8b6aa745f99624163a91c21ac4a3880cd4dcbae7edb1e503","key":"build/routes/_index-FMQBIS6B.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/routes/_index-FMQBIS6B.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/runtime-GC7QIU56.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/runtime-GC7QIU56.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"eeb1d14ca042715856ce4d8943bc8f1386a40d1fb035e36e4f63cf33dfcb6c1a","key":"build/_shared/runtime-GC7QIU56.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/runtime-GC7QIU56.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/remix_hmr-X4DNBM5E.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/remix_hmr-X4DNBM5E.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"9fb9ad537eaa418b695fcee3f0a39f8ffcc046ef221679ebb43b75239951d9ab","key":"build/_shared/remix_hmr-X4DNBM5E.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/remix_hmr-X4DNBM5E.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/react-dom-BEFB7ICU.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/react-dom-BEFB7ICU.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"d7dddd8175e42f776fc910d9fc0254e55ca85a19407c53b83f874327364a99ea","key":"build/_shared/react-dom-BEFB7ICU.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/react-dom-BEFB7ICU.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/react-3OYUNTOK.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/react-3OYUNTOK.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"99c2db0848177c2865c03a5465b6e6201f6c0e98c43f0312137e00f65c9f21af","key":"build/_shared/react-3OYUNTOK.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/react-3OYUNTOK.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"e6a3f4d199d465a2e938b902a18f5a5126cefbace34541fb2e241bf709da76b0","key":"build/_shared/jsx-runtime-7NXSP56X.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/jsx-runtime-7NXSP56X.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"a94b150c26e860d7289f446d8be85d7732fb443c3b50c9025753608293f28383","key":"build/_shared/jsx-runtime-7NXSP56X.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/jsx-runtime-7NXSP56X.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/jsx-dev-runtime-RDH4Y5YT.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/jsx-dev-runtime-RDH4Y5YT.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"b7ee88a1257b5b7881514f87b1fe7e0631fff3c652a7cb1b05df27ca77e23c1e","key":"build/_shared/jsx-dev-runtime-RDH4Y5YT.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/jsx-dev-runtime-RDH4Y5YT.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/esm-IHSAMRKC.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/esm-IHSAMRKC.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"5a2f8b31e84f0870bb08b3e861e7c53965ea6edc2c07e202aaa5c817435deb6e","key":"build/_shared/esm-IHSAMRKC.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/esm-IHSAMRKC.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/client-DFZR44C7.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/client-DFZR44C7.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"9a30d179d94b48e6b27f48ca5f496341902bed0b70bcdff12c6ed87fd0acdaf2","key":"build/_shared/client-DFZR44C7.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/client-DFZR44C7.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"e814482af64fdd5d329777bc66005d79ce2a9ac145e2b0ec4c92dccde8b20e80","key":"build/_shared/chunk-ZWGWGGVF.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-ZWGWGGVF.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"3e859a24b8b469781395446f1e9fca63bb3ccf4e281046ac1c1b274f90ac2d8c","key":"build/_shared/chunk-ZWGWGGVF.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-ZWGWGGVF.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"61aba8b8cad25631d3a840b965100c20dbcd875e168188a237a0dbb57cc972e7","key":"build/_shared/chunk-XU7DNSPJ.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-XU7DNSPJ.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"50bb08ac62d179f23c01261eb2f14398c46426a988cfa8c8dd00983e6e182573","key":"build/_shared/chunk-XU7DNSPJ.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-XU7DNSPJ.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"64d41014e221099f7a97d502b5624b0b49be2d263c75949536880e035e895dcd","key":"build/_shared/chunk-UWV35TSL.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-UWV35TSL.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"fc7b39d7fdd3db56fa0e9f7174fb0b4501f0ce813c102a0bc914601e6cb91911","key":"build/_shared/chunk-UWV35TSL.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-UWV35TSL.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/chunk-PNG5AS42.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-PNG5AS42.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"20cfeab6d76da15eddf43f07a15dd80850819a7477c269989b508190e15d1423","key":"build/_shared/chunk-PNG5AS42.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-PNG5AS42.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"0b13b12b90b84fb57629a8ad841d93f16a7e3587090d9dd615f1a159f3869c8f","key":"build/_shared/chunk-GIAAE3CH.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-GIAAE3CH.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"8cc8ae08a5c5abfdae44a4e2c323adddc063c1532e88a3f2e67a650c7514c18d","key":"build/_shared/chunk-GIAAE3CH.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-GIAAE3CH.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"2f89cb94845ffaf39adf584bdbce9839541481d30a543af530923ecc9f837d1b","key":"build/_shared/chunk-EZESCYNK.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-EZESCYNK.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"25da4d87acce9d19b1e857ffebc1c0d257427d3fa496f7b2144170682eb8f5df","key":"build/_shared/chunk-EZESCYNK.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-EZESCYNK.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"74746a0ed107b0344a6aa37c8ea3fa6563ca567208ba060151226618d29bb48b","key":"build/_shared/chunk-EZC3IGXS.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-EZC3IGXS.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"65f8a77b391557f954aa00259737e6a267f949e7ce2cf00ef28a1b33b9ccfe6d","key":"build/_shared/chunk-EZC3IGXS.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-EZC3IGXS.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"74b93e22104266342c62c7229f75020e14e5c32cfc4c3431afdc50710cc7ba1f","key":"build/_shared/chunk-BOXFZXVX.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-BOXFZXVX.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"e0d45954cb803cd8ac674b9f9f87e3ae054529f9a865b1bd90c986cf99235a97","key":"build/_shared/chunk-BOXFZXVX.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-BOXFZXVX.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"11f6f0e01e9e47704d5a40750e1851d442b9e1a5a9255f9b0e5b3bf973b47bb9","key":"assets/root-tNoBBM0F.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/assets/root-tNoBBM0F.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"0961e1d8d9c3c10c5ff4077c74513a24ad830e3380260efa36da69b0d61b016a","key":"assets/manifest-c11f8b2c.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/assets/manifest-c11f8b2c.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"4bee559af74b95cd0f7cd7ca6c8e7aedcbbb96ef92d06d9bdb05b021cb4ed3a9","key":"assets/entry.client-KLoKnM-o.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/assets/entry.client-KLoKnM-o.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"c0daaf739e16c1209955d870aa4660f0127861a4bee185638e37569d6a577878","key":"assets/components-DFwzXaoi.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/assets/components-DFwzXaoi.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"bb78c8eb7b073415c2c4dd59c257f5ad11c0c552c1fc2ba60633b7df21412f7f","key":"assets/_index-CVv0LjsW.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/assets/_index-CVv0LjsW.js"}]},"outputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nvar __f18_prototype_proto = {};\nObject.defineProperty(__f18_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f19 });\nvar __f18_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f18_prototype, \"constructor\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f18_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f18_prototype, \"serialize\", { configurable: true, writable: true, value: __f21 });\nObject.defineProperty(__f18_prototype, \"deserialize\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f18, \"prototype\", { value: __f18_prototype });\nObject.defineProperty(__f18, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f23 });\nObject.setPrototypeOf(__f18, __f19);\nObject.defineProperty(__provider_proto, \"upload\", { configurable: true, writable: true, value: __f4 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    await this.upload(inputs.bucketName, inputs.files, []);\n    return { id: \"files\" };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    await this.upload(\n      news.bucketName,\n      news.files,\n      news.bucketName === olds.bucketName ? olds.files : []\n    );\n    return {};\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-s3/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-s3/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_sdk_s3_1 = require(\"@aws-sdk/middleware-sdk-s3/dist-cjs/index.js\");\nconst CreateSessionCommand_1 = require(\"@aws-sdk/client-s3/dist-cjs/commands/CreateSessionCommand.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst eventstream_serde_config_resolver_1 = require(\"@smithy/eventstream-serde-config-resolver/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-s3/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\nconst middleware_expect_continue_1 = require(\"@aws-sdk/middleware-expect-continue/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_sdk_s3_1.resolveS3Config)(_config_6, { session: [() =\u003e this, CreateSessionCommand_1.CreateSessionCommand] });\n    const _config_8 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_7);\n    const _config_9 = (0, eventstream_serde_config_resolver_1.resolveEventStreamSerdeConfig)(_config_8);\n    const _config_10 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_9, configuration?.extensions || []);\n    __super.call(this, _config_10);\n    this.config = _config_10;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getValidateBucketNamePlugin)(this.config));\n    this.middlewareStack.use((0, middleware_expect_continue_1.getAddExpectContinuePlugin)(this.config));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getRegionRedirectMiddlewarePlugin)(this.config));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getS3ExpressPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst middleware_ssec_1 = require(\"@aws-sdk/middleware-ssec/dist-cjs/index.js\");\nconst middleware_flexible_checksums_1 = require(\"@aws-sdk/middleware-flexible-checksums/dist-cjs/index.js\");\nconst models_1_1 = require(\"@aws-sdk/client-s3/dist-cjs/models/models_1.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f20(__0, __1, __2) {\n  return (function() {\n    with({ PutObjectCommand: __f18, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, PutObjectCommand.getEndpointParameterInstructions()));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getCheckContentLengthHeaderPlugin)(configuration));\n    this.middlewareStack.use((0, middleware_ssec_1.getSsecPlugin)(configuration));\n    this.middlewareStack.use((0, middleware_flexible_checksums_1.getFlexibleChecksumsPlugin)(configuration, {\n        input: this.input,\n        requestAlgorithmMember: \"ChecksumAlgorithm\",\n        requestChecksumRequired: false,\n    }));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"S3Client\";\n    const commandName = \"PutObjectCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: models_1_1.PutObjectRequestFilterSensitiveLog,\n        outputFilterSensitiveLog: models_1_1.PutObjectOutputFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"AmazonS3\",\n            operation: \"PutObject\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-s3/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f21(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_PutObjectCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_PutObjectCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        Bucket: { type: \"contextParams\", name: \"Bucket\" },\n        Key: { type: \"contextParams\", name: \"Key\" },\n        ForcePathStyle: { type: \"clientContextParams\", name: \"forcePathStyle\" },\n        UseArnRegion: { type: \"clientContextParams\", name: \"useArnRegion\" },\n        DisableMultiRegionAccessPoints: { type: \"clientContextParams\", name: \"disableMultiregionAccessPoints\" },\n        Accelerate: { type: \"clientContextParams\", name: \"useAccelerateEndpoint\" },\n        DisableS3ExpressSessionAuth: { type: \"clientContextParams\", name: \"disableS3ExpressSessionAuth\" },\n        UseGlobalEndpoint: { type: \"builtInParams\", name: \"useGlobalEndpoint\" },\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst fs4 = require(\"fs\");\n\nfunction __f4(__0, __1, __2) {\n  return (function() {\n    with({ useClient: __f5, S3Client2: __f13, PutObjectCommand: __f18, this: undefined, arguments: undefined }) {\n\nreturn async function /*upload*/(bucketName, files, oldFiles) {\n    const oldFilesMap = new Map(oldFiles.map((f) =\u003e [f.key, f]));\n    const s34 = useClient(S3Client2);\n    await Promise.all(\n      files.map(async (file) =\u003e {\n        const oldFile = oldFilesMap.get(file.key);\n        if (oldFile \u0026\u0026 oldFile.hash === file.hash \u0026\u0026 oldFile.cacheControl === file.cacheControl \u0026\u0026 oldFile.contentType === file.contentType) {\n          return;\n        }\n        await s34.send(\n          new PutObjectCommand({\n            Bucket: bucketName,\n            Key: file.key,\n            Body: await fs4.promises.readFile(file.source),\n            CacheControl: file.cacheControl,\n            ContentType: file.contentType\n          })\n        );\n      })\n    );\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"},"new":{"type":"pulumi-nodejs:dynamic:Resource","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebAssetFiles.sst.aws.BucketFiles","custom":true,"id":"files","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nvar __f18_prototype_proto = {};\nObject.defineProperty(__f18_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f19 });\nvar __f18_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f18_prototype, \"constructor\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f18_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f18_prototype, \"serialize\", { configurable: true, writable: true, value: __f21 });\nObject.defineProperty(__f18_prototype, \"deserialize\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f18, \"prototype\", { value: __f18_prototype });\nObject.defineProperty(__f18, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f23 });\nObject.setPrototypeOf(__f18, __f19);\nObject.defineProperty(__provider_proto, \"upload\", { configurable: true, writable: true, value: __f4 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    await this.upload(inputs.bucketName, inputs.files, []);\n    return { id: \"files\" };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    await this.upload(\n      news.bucketName,\n      news.files,\n      news.bucketName === olds.bucketName ? olds.files : []\n    );\n    return {};\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-s3/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-s3/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_sdk_s3_1 = require(\"@aws-sdk/middleware-sdk-s3/dist-cjs/index.js\");\nconst CreateSessionCommand_1 = require(\"@aws-sdk/client-s3/dist-cjs/commands/CreateSessionCommand.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst eventstream_serde_config_resolver_1 = require(\"@smithy/eventstream-serde-config-resolver/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-s3/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\nconst middleware_expect_continue_1 = require(\"@aws-sdk/middleware-expect-continue/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_sdk_s3_1.resolveS3Config)(_config_6, { session: [() =\u003e this, CreateSessionCommand_1.CreateSessionCommand] });\n    const _config_8 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_7);\n    const _config_9 = (0, eventstream_serde_config_resolver_1.resolveEventStreamSerdeConfig)(_config_8);\n    const _config_10 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_9, configuration?.extensions || []);\n    __super.call(this, _config_10);\n    this.config = _config_10;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getValidateBucketNamePlugin)(this.config));\n    this.middlewareStack.use((0, middleware_expect_continue_1.getAddExpectContinuePlugin)(this.config));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getRegionRedirectMiddlewarePlugin)(this.config));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getS3ExpressPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst middleware_ssec_1 = require(\"@aws-sdk/middleware-ssec/dist-cjs/index.js\");\nconst middleware_flexible_checksums_1 = require(\"@aws-sdk/middleware-flexible-checksums/dist-cjs/index.js\");\nconst models_1_1 = require(\"@aws-sdk/client-s3/dist-cjs/models/models_1.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f20(__0, __1, __2) {\n  return (function() {\n    with({ PutObjectCommand: __f18, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, PutObjectCommand.getEndpointParameterInstructions()));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getCheckContentLengthHeaderPlugin)(configuration));\n    this.middlewareStack.use((0, middleware_ssec_1.getSsecPlugin)(configuration));\n    this.middlewareStack.use((0, middleware_flexible_checksums_1.getFlexibleChecksumsPlugin)(configuration, {\n        input: this.input,\n        requestAlgorithmMember: \"ChecksumAlgorithm\",\n        requestChecksumRequired: false,\n    }));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"S3Client\";\n    const commandName = \"PutObjectCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: models_1_1.PutObjectRequestFilterSensitiveLog,\n        outputFilterSensitiveLog: models_1_1.PutObjectOutputFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"AmazonS3\",\n            operation: \"PutObject\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-s3/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f21(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_PutObjectCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_PutObjectCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        Bucket: { type: \"contextParams\", name: \"Bucket\" },\n        Key: { type: \"contextParams\", name: \"Key\" },\n        ForcePathStyle: { type: \"clientContextParams\", name: \"forcePathStyle\" },\n        UseArnRegion: { type: \"clientContextParams\", name: \"useArnRegion\" },\n        DisableMultiRegionAccessPoints: { type: \"clientContextParams\", name: \"disableMultiregionAccessPoints\" },\n        Accelerate: { type: \"clientContextParams\", name: \"useAccelerateEndpoint\" },\n        DisableS3ExpressSessionAuth: { type: \"clientContextParams\", name: \"disableS3ExpressSessionAuth\" },\n        UseGlobalEndpoint: { type: \"builtInParams\", name: \"useGlobalEndpoint\" },\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst fs4 = require(\"fs\");\n\nfunction __f4(__0, __1, __2) {\n  return (function() {\n    with({ useClient: __f5, S3Client2: __f13, PutObjectCommand: __f18, this: undefined, arguments: undefined }) {\n\nreturn async function /*upload*/(bucketName, files, oldFiles) {\n    const oldFilesMap = new Map(oldFiles.map((f) =\u003e [f.key, f]));\n    const s34 = useClient(S3Client2);\n    await Promise.all(\n      files.map(async (file) =\u003e {\n        const oldFile = oldFilesMap.get(file.key);\n        if (oldFile \u0026\u0026 oldFile.hash === file.hash \u0026\u0026 oldFile.cacheControl === file.cacheControl \u0026\u0026 oldFile.contentType === file.contentType) {\n          return;\n        }\n        await s34.send(\n          new PutObjectCommand({\n            Bucket: bucketName,\n            Key: file.key,\n            Body: await fs4.promises.readFile(file.source),\n            CacheControl: file.cacheControl,\n            ContentType: file.contentType\n          })\n        );\n      })\n    );\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","bucketName":"remix-auth-app-nranganath-mywebassets-ckwszhaf","files":[{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"image/vnd.microsoft.icon","hash":"39ff6fa1450c106b5bbc2b7368d888e70f6e799df8f117fccee2a469926b4417","key":"favicon.ico","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/favicon.ico"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"5e4f754315cc5e45139b48e1c25103a1060e26ccd1e8b3221c8e515c0dd7fb20","key":"build/root-CYXR5EWB.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/root-CYXR5EWB.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"a28cd644a5420c7468881277c581063ca730c8913727959d8ff4125329d02621","key":"build/root-CYXR5EWB.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/root-CYXR5EWB.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"659456edc497981dc6fc6836c22fe5db88d3dc0bf23830641aff8136d0b64cb9","key":"build/manifest-E0125D2D.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/manifest-E0125D2D.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"0450cf00a852f8f72332b3d9b6c6ef048ab6dd2bbd6d43f6564b0afc6004a365","key":"build/entry.client-HGBQY5M3.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/entry.client-HGBQY5M3.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"9e18fad211f5788eeecd49e1e30c8972dd65805d2ac8c344f7d30162936d6436","key":"build/entry.client-HGBQY5M3.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/entry.client-HGBQY5M3.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"15c2074131ac985f3f60eb0f35d6005f51f21d95deb8a610828e674f0f147329","key":"build/__remix_entry_dev-UAM4JAVB.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/__remix_entry_dev-UAM4JAVB.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"2822794c0fe88a0f8f98c77ce52db45d64d0508306c2d9344383d808d7112743","key":"build/__remix_entry_dev-UAM4JAVB.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/__remix_entry_dev-UAM4JAVB.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"8596c91edd3d2b4c5cdaa429839bf97285bbc989d8c652cef4154b581b9424eb","key":"build/routes/_index-FMQBIS6B.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/routes/_index-FMQBIS6B.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"8c48ab599269c69e8b6aa745f99624163a91c21ac4a3880cd4dcbae7edb1e503","key":"build/routes/_index-FMQBIS6B.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/routes/_index-FMQBIS6B.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/runtime-GC7QIU56.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/runtime-GC7QIU56.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"eeb1d14ca042715856ce4d8943bc8f1386a40d1fb035e36e4f63cf33dfcb6c1a","key":"build/_shared/runtime-GC7QIU56.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/runtime-GC7QIU56.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/remix_hmr-X4DNBM5E.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/remix_hmr-X4DNBM5E.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"9fb9ad537eaa418b695fcee3f0a39f8ffcc046ef221679ebb43b75239951d9ab","key":"build/_shared/remix_hmr-X4DNBM5E.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/remix_hmr-X4DNBM5E.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/react-dom-BEFB7ICU.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/react-dom-BEFB7ICU.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"d7dddd8175e42f776fc910d9fc0254e55ca85a19407c53b83f874327364a99ea","key":"build/_shared/react-dom-BEFB7ICU.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/react-dom-BEFB7ICU.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/react-3OYUNTOK.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/react-3OYUNTOK.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"99c2db0848177c2865c03a5465b6e6201f6c0e98c43f0312137e00f65c9f21af","key":"build/_shared/react-3OYUNTOK.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/react-3OYUNTOK.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"e6a3f4d199d465a2e938b902a18f5a5126cefbace34541fb2e241bf709da76b0","key":"build/_shared/jsx-runtime-7NXSP56X.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/jsx-runtime-7NXSP56X.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"a94b150c26e860d7289f446d8be85d7732fb443c3b50c9025753608293f28383","key":"build/_shared/jsx-runtime-7NXSP56X.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/jsx-runtime-7NXSP56X.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/jsx-dev-runtime-RDH4Y5YT.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/jsx-dev-runtime-RDH4Y5YT.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"b7ee88a1257b5b7881514f87b1fe7e0631fff3c652a7cb1b05df27ca77e23c1e","key":"build/_shared/jsx-dev-runtime-RDH4Y5YT.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/jsx-dev-runtime-RDH4Y5YT.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/esm-IHSAMRKC.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/esm-IHSAMRKC.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"5a2f8b31e84f0870bb08b3e861e7c53965ea6edc2c07e202aaa5c817435deb6e","key":"build/_shared/esm-IHSAMRKC.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/esm-IHSAMRKC.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/client-DFZR44C7.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/client-DFZR44C7.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"9a30d179d94b48e6b27f48ca5f496341902bed0b70bcdff12c6ed87fd0acdaf2","key":"build/_shared/client-DFZR44C7.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/client-DFZR44C7.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"e814482af64fdd5d329777bc66005d79ce2a9ac145e2b0ec4c92dccde8b20e80","key":"build/_shared/chunk-ZWGWGGVF.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-ZWGWGGVF.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"3e859a24b8b469781395446f1e9fca63bb3ccf4e281046ac1c1b274f90ac2d8c","key":"build/_shared/chunk-ZWGWGGVF.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-ZWGWGGVF.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"61aba8b8cad25631d3a840b965100c20dbcd875e168188a237a0dbb57cc972e7","key":"build/_shared/chunk-XU7DNSPJ.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-XU7DNSPJ.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"50bb08ac62d179f23c01261eb2f14398c46426a988cfa8c8dd00983e6e182573","key":"build/_shared/chunk-XU7DNSPJ.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-XU7DNSPJ.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"64d41014e221099f7a97d502b5624b0b49be2d263c75949536880e035e895dcd","key":"build/_shared/chunk-UWV35TSL.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-UWV35TSL.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"fc7b39d7fdd3db56fa0e9f7174fb0b4501f0ce813c102a0bc914601e6cb91911","key":"build/_shared/chunk-UWV35TSL.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-UWV35TSL.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"ed562b0bba7ee7214e56ac7f728054b3496bec4597c94a4eb7b4179e6f5cb1c9","key":"build/_shared/chunk-PNG5AS42.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-PNG5AS42.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"20cfeab6d76da15eddf43f07a15dd80850819a7477c269989b508190e15d1423","key":"build/_shared/chunk-PNG5AS42.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-PNG5AS42.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"0b13b12b90b84fb57629a8ad841d93f16a7e3587090d9dd615f1a159f3869c8f","key":"build/_shared/chunk-GIAAE3CH.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-GIAAE3CH.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"8cc8ae08a5c5abfdae44a4e2c323adddc063c1532e88a3f2e67a650c7514c18d","key":"build/_shared/chunk-GIAAE3CH.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-GIAAE3CH.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"2f89cb94845ffaf39adf584bdbce9839541481d30a543af530923ecc9f837d1b","key":"build/_shared/chunk-EZESCYNK.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-EZESCYNK.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"25da4d87acce9d19b1e857ffebc1c0d257427d3fa496f7b2144170682eb8f5df","key":"build/_shared/chunk-EZESCYNK.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-EZESCYNK.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"74746a0ed107b0344a6aa37c8ea3fa6563ca567208ba060151226618d29bb48b","key":"build/_shared/chunk-EZC3IGXS.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-EZC3IGXS.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"65f8a77b391557f954aa00259737e6a267f949e7ce2cf00ef28a1b33b9ccfe6d","key":"build/_shared/chunk-EZC3IGXS.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-EZC3IGXS.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"application/octet-stream","hash":"74b93e22104266342c62c7229f75020e14e5c32cfc4c3431afdc50710cc7ba1f","key":"build/_shared/chunk-BOXFZXVX.js.map","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-BOXFZXVX.js.map"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"e0d45954cb803cd8ac674b9f9f87e3ae054529f9a865b1bd90c986cf99235a97","key":"build/_shared/chunk-BOXFZXVX.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/build/_shared/chunk-BOXFZXVX.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"11f6f0e01e9e47704d5a40750e1851d442b9e1a5a9255f9b0e5b3bf973b47bb9","key":"assets/root-tNoBBM0F.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/assets/root-tNoBBM0F.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"0961e1d8d9c3c10c5ff4077c74513a24ad830e3380260efa36da69b0d61b016a","key":"assets/manifest-c11f8b2c.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/assets/manifest-c11f8b2c.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"4bee559af74b95cd0f7cd7ca6c8e7aedcbbb96ef92d06d9bdb05b021cb4ed3a9","key":"assets/entry.client-KLoKnM-o.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/assets/entry.client-KLoKnM-o.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"c0daaf739e16c1209955d870aa4660f0127861a4bee185638e37569d6a577878","key":"assets/components-DFwzXaoi.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/assets/components-DFwzXaoi.js"},{"cacheControl":"public,max-age=0,s-maxage=86400,stale-while-revalidate=86400","contentType":"text/javascript;charset=UTF-8","hash":"bb78c8eb7b073415c2c4dd59c257f5ad11c0c552c1fc2ba60633b7df21412f7f","key":"assets/_index-CVv0LjsW.js","source":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/build/client/assets/_index-CVv0LjsW.js"}]},"outputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nvar __f18_prototype_proto = {};\nObject.defineProperty(__f18_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f19 });\nvar __f18_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f18_prototype, \"constructor\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f18_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f18_prototype, \"serialize\", { configurable: true, writable: true, value: __f21 });\nObject.defineProperty(__f18_prototype, \"deserialize\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f18, \"prototype\", { value: __f18_prototype });\nObject.defineProperty(__f18, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f23 });\nObject.setPrototypeOf(__f18, __f19);\nObject.defineProperty(__provider_proto, \"upload\", { configurable: true, writable: true, value: __f4 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    await this.upload(inputs.bucketName, inputs.files, []);\n    return { id: \"files\" };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    await this.upload(\n      news.bucketName,\n      news.files,\n      news.bucketName === olds.bucketName ? olds.files : []\n    );\n    return {};\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-s3/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-s3/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_sdk_s3_1 = require(\"@aws-sdk/middleware-sdk-s3/dist-cjs/index.js\");\nconst CreateSessionCommand_1 = require(\"@aws-sdk/client-s3/dist-cjs/commands/CreateSessionCommand.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst eventstream_serde_config_resolver_1 = require(\"@smithy/eventstream-serde-config-resolver/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-s3/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\nconst middleware_expect_continue_1 = require(\"@aws-sdk/middleware-expect-continue/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_sdk_s3_1.resolveS3Config)(_config_6, { session: [() =\u003e this, CreateSessionCommand_1.CreateSessionCommand] });\n    const _config_8 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_7);\n    const _config_9 = (0, eventstream_serde_config_resolver_1.resolveEventStreamSerdeConfig)(_config_8);\n    const _config_10 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_9, configuration?.extensions || []);\n    __super.call(this, _config_10);\n    this.config = _config_10;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getValidateBucketNamePlugin)(this.config));\n    this.middlewareStack.use((0, middleware_expect_continue_1.getAddExpectContinuePlugin)(this.config));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getRegionRedirectMiddlewarePlugin)(this.config));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getS3ExpressPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst middleware_ssec_1 = require(\"@aws-sdk/middleware-ssec/dist-cjs/index.js\");\nconst middleware_flexible_checksums_1 = require(\"@aws-sdk/middleware-flexible-checksums/dist-cjs/index.js\");\nconst models_1_1 = require(\"@aws-sdk/client-s3/dist-cjs/models/models_1.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f20(__0, __1, __2) {\n  return (function() {\n    with({ PutObjectCommand: __f18, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, PutObjectCommand.getEndpointParameterInstructions()));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getCheckContentLengthHeaderPlugin)(configuration));\n    this.middlewareStack.use((0, middleware_ssec_1.getSsecPlugin)(configuration));\n    this.middlewareStack.use((0, middleware_flexible_checksums_1.getFlexibleChecksumsPlugin)(configuration, {\n        input: this.input,\n        requestAlgorithmMember: \"ChecksumAlgorithm\",\n        requestChecksumRequired: false,\n    }));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"S3Client\";\n    const commandName = \"PutObjectCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: models_1_1.PutObjectRequestFilterSensitiveLog,\n        outputFilterSensitiveLog: models_1_1.PutObjectOutputFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"AmazonS3\",\n            operation: \"PutObject\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-s3/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f21(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_PutObjectCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_PutObjectCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        Bucket: { type: \"contextParams\", name: \"Bucket\" },\n        Key: { type: \"contextParams\", name: \"Key\" },\n        ForcePathStyle: { type: \"clientContextParams\", name: \"forcePathStyle\" },\n        UseArnRegion: { type: \"clientContextParams\", name: \"useArnRegion\" },\n        DisableMultiRegionAccessPoints: { type: \"clientContextParams\", name: \"disableMultiregionAccessPoints\" },\n        Accelerate: { type: \"clientContextParams\", name: \"useAccelerateEndpoint\" },\n        DisableS3ExpressSessionAuth: { type: \"clientContextParams\", name: \"disableS3ExpressSessionAuth\" },\n        UseGlobalEndpoint: { type: \"builtInParams\", name: \"useGlobalEndpoint\" },\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst fs4 = require(\"fs\");\n\nfunction __f4(__0, __1, __2) {\n  return (function() {\n    with({ useClient: __f5, S3Client2: __f13, PutObjectCommand: __f18, this: undefined, arguments: undefined }) {\n\nreturn async function /*upload*/(bucketName, files, oldFiles) {\n    const oldFilesMap = new Map(oldFiles.map((f) =\u003e [f.key, f]));\n    const s34 = useClient(S3Client2);\n    await Promise.all(\n      files.map(async (file) =\u003e {\n        const oldFile = oldFilesMap.get(file.key);\n        if (oldFile \u0026\u0026 oldFile.hash === file.hash \u0026\u0026 oldFile.cacheControl === file.cacheControl \u0026\u0026 oldFile.contentType === file.contentType) {\n          return;\n        }\n        await s34.send(\n          new PutObjectCommand({\n            Bucket: bucketName,\n            Key: file.key,\n            Body: await fs4.promises.readFile(file.source),\n            CacheControl: file.cacheControl,\n            ContentType: file.contentType\n          })\n        );\n      })\n    );\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"}},"Error":null}
{"sequence":287,"timestamp":1722566956,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketPolicy:BucketPolicy::MyWebAssetsPolicy","type":"aws:s3/bucketPolicy:BucketPolicy","old":{"type":"aws:s3/bucketPolicy:BucketPolicy","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketPolicy:BucketPolicy::MyWebAssetsPolicy","custom":true,"id":"remix-auth-app-nranganath-mywebassets-ckwszhaf","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","inputs":{"__defaults":[],"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Deny\",\"Action\":\"s3:*\",\"Resource\":[\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf/*\",\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf\"],\"Principal\":\"*\",\"Condition\":{\"Bool\":{\"aws:SecureTransport\":\"false\"}}},{\"Effect\":\"Allow\",\"Action\":\"s3:GetObject\",\"Resource\":\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf/*\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity EWZX1AN92WK0Z\"}}]}"},"outputs":{"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","id":"remix-auth-app-nranganath-mywebassets-ckwszhaf","policy":"{\"Statement\":[{\"Action\":\"s3:*\",\"Condition\":{\"Bool\":{\"aws:SecureTransport\":\"false\"}},\"Effect\":\"Deny\",\"Principal\":\"*\",\"Resource\":[\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf/*\",\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf\"]},{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity EWZX1AN92WK0Z\"},\"Resource\":\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf/*\"}],\"Version\":\"2012-10-17\"}"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:s3/bucketPolicy:BucketPolicy","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketPolicy:BucketPolicy::MyWebAssetsPolicy","custom":true,"id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","inputs":{"__defaults":[],"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Deny\",\"Action\":\"s3:*\",\"Resource\":[\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf/*\",\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf\"],\"Principal\":\"*\",\"Condition\":{\"Bool\":{\"aws:SecureTransport\":\"false\"}}},{\"Effect\":\"Allow\",\"Action\":\"s3:GetObject\",\"Resource\":\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf/*\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity EWZX1AN92WK0Z\"}}]}"},"outputs":{},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":288,"timestamp":1722566956,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketPolicy:BucketPolicy::MyWebAssetsPolicy","type":"aws:s3/bucketPolicy:BucketPolicy","old":{"type":"aws:s3/bucketPolicy:BucketPolicy","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketPolicy:BucketPolicy::MyWebAssetsPolicy","custom":true,"id":"remix-auth-app-nranganath-mywebassets-ckwszhaf","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","inputs":{"__defaults":[],"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Deny\",\"Action\":\"s3:*\",\"Resource\":[\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf/*\",\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf\"],\"Principal\":\"*\",\"Condition\":{\"Bool\":{\"aws:SecureTransport\":\"false\"}}},{\"Effect\":\"Allow\",\"Action\":\"s3:GetObject\",\"Resource\":\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf/*\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity EWZX1AN92WK0Z\"}}]}"},"outputs":{"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","id":"remix-auth-app-nranganath-mywebassets-ckwszhaf","policy":"{\"Statement\":[{\"Action\":\"s3:*\",\"Condition\":{\"Bool\":{\"aws:SecureTransport\":\"false\"}},\"Effect\":\"Deny\",\"Principal\":\"*\",\"Resource\":[\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf/*\",\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf\"]},{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity EWZX1AN92WK0Z\"},\"Resource\":\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf/*\"}],\"Version\":\"2012-10-17\"}"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:s3/bucketPolicy:BucketPolicy","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketPolicy:BucketPolicy::MyWebAssetsPolicy","custom":true,"id":"remix-auth-app-nranganath-mywebassets-ckwszhaf","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket::MyWebAssets","inputs":{"__defaults":[],"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Deny\",\"Action\":\"s3:*\",\"Resource\":[\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf/*\",\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf\"],\"Principal\":\"*\",\"Condition\":{\"Bool\":{\"aws:SecureTransport\":\"false\"}}},{\"Effect\":\"Allow\",\"Action\":\"s3:GetObject\",\"Resource\":\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf/*\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity EWZX1AN92WK0Z\"}}]}"},"outputs":{"bucket":"remix-auth-app-nranganath-mywebassets-ckwszhaf","id":"remix-auth-app-nranganath-mywebassets-ckwszhaf","policy":"{\"Statement\":[{\"Action\":\"s3:*\",\"Condition\":{\"Bool\":{\"aws:SecureTransport\":\"false\"}},\"Effect\":\"Deny\",\"Principal\":\"*\",\"Resource\":[\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf/*\",\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf\"]},{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity EWZX1AN92WK0Z\"},\"Resource\":\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf/*\"}],\"Version\":\"2012-10-17\"}"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":289,"timestamp":1722566956,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:lambda/functionUrl:FunctionUrl::MyWebServerUrl","type":"aws:lambda/functionUrl:FunctionUrl","old":{"type":"aws:lambda/functionUrl:FunctionUrl","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:lambda/functionUrl:FunctionUrl::MyWebServerUrl","custom":true,"id":"remix-auth-app-nranganath-MyWebServerFunction","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","inputs":{"__defaults":[],"authorizationType":"NONE","cors":{"__defaults":[],"allowHeaders":["*"],"allowMethods":["*"],"allowOrigins":["*"]},"functionName":"remix-auth-app-nranganath-MyWebServerFunction","invokeMode":"BUFFERED"},"outputs":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":600000000000}}","authorizationType":"NONE","cors":{"allowCredentials":false,"allowHeaders":["*"],"allowMethods":["*"],"allowOrigins":["*"],"exposeHeaders":[],"maxAge":0},"functionArn":"arn:aws:lambda:us-east-1:730335427397:function:remix-auth-app-nranganath-MyWebServerFunction","functionName":"remix-auth-app-nranganath-MyWebServerFunction","functionUrl":"https://y6z3ks7qwxfiswleqpox5bthhq0tatlw.lambda-url.us-east-1.on.aws/","id":"remix-auth-app-nranganath-MyWebServerFunction","invokeMode":"BUFFERED","qualifier":"","urlId":"y6z3ks7qwxfiswleqpox5bthhq0tatlw"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:lambda/functionUrl:FunctionUrl","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:lambda/functionUrl:FunctionUrl::MyWebServerUrl","custom":true,"id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","inputs":{"__defaults":[],"authorizationType":"NONE","cors":{"__defaults":[],"allowHeaders":["*"],"allowMethods":["*"],"allowOrigins":["*"]},"functionName":"remix-auth-app-nranganath-MyWebServerFunction","invokeMode":"BUFFERED"},"outputs":{},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":290,"timestamp":1722566956,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:lambda/functionUrl:FunctionUrl::MyWebServerUrl","type":"aws:lambda/functionUrl:FunctionUrl","old":{"type":"aws:lambda/functionUrl:FunctionUrl","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:lambda/functionUrl:FunctionUrl::MyWebServerUrl","custom":true,"id":"remix-auth-app-nranganath-MyWebServerFunction","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","inputs":{"__defaults":[],"authorizationType":"NONE","cors":{"__defaults":[],"allowHeaders":["*"],"allowMethods":["*"],"allowOrigins":["*"]},"functionName":"remix-auth-app-nranganath-MyWebServerFunction","invokeMode":"BUFFERED"},"outputs":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":600000000000}}","authorizationType":"NONE","cors":{"allowCredentials":false,"allowHeaders":["*"],"allowMethods":["*"],"allowOrigins":["*"],"exposeHeaders":[],"maxAge":0},"functionArn":"arn:aws:lambda:us-east-1:730335427397:function:remix-auth-app-nranganath-MyWebServerFunction","functionName":"remix-auth-app-nranganath-MyWebServerFunction","functionUrl":"https://y6z3ks7qwxfiswleqpox5bthhq0tatlw.lambda-url.us-east-1.on.aws/","id":"remix-auth-app-nranganath-MyWebServerFunction","invokeMode":"BUFFERED","qualifier":"","urlId":"y6z3ks7qwxfiswleqpox5bthhq0tatlw"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:lambda/functionUrl:FunctionUrl","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:lambda/functionUrl:FunctionUrl::MyWebServerUrl","custom":true,"id":"remix-auth-app-nranganath-MyWebServerFunction","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","inputs":{"__defaults":[],"authorizationType":"NONE","cors":{"__defaults":[],"allowHeaders":["*"],"allowMethods":["*"],"allowOrigins":["*"]},"functionName":"remix-auth-app-nranganath-MyWebServerFunction","invokeMode":"BUFFERED"},"outputs":{"__meta":"{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":600000000000}}","authorizationType":"NONE","cors":{"allowCredentials":false,"allowHeaders":["*"],"allowMethods":["*"],"allowOrigins":["*"],"exposeHeaders":[],"maxAge":0},"functionArn":"arn:aws:lambda:us-east-1:730335427397:function:remix-auth-app-nranganath-MyWebServerFunction","functionName":"remix-auth-app-nranganath-MyWebServerFunction","functionUrl":"https://y6z3ks7qwxfiswleqpox5bthhq0tatlw.lambda-url.us-east-1.on.aws/","id":"remix-auth-app-nranganath-MyWebServerFunction","invokeMode":"BUFFERED","qualifier":"","urlId":"y6z3ks7qwxfiswleqpox5bthhq0tatlw"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":291,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebAssetFiles.sst.aws.BucketFiles[pulumi-nodejs:dynamic:Resource]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebAssetFiles.sst.aws.BucketFiles,files,__provider,,,exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nvar __f18_prototype_proto = {};\nObject.defineProperty(__f18_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f19 });\nvar __f18_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f18_prototype, \"constructor\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f18_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f18_prototype, \"serialize\", { configurable: true, writable: true, value: __f21 });\nObject.defineProperty(__f18_prototype, \"deserialize\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f18, \"prototype\", { value: __f18_prototype });\nObject.defineProperty(__f18, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f23 });\nObject.setPrototypeOf(__f18, __f19);\nObject.defineProperty(__provider_proto, \"upload\", { configurable: true, writable: true, value: __f4 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    await this.upload(inputs.bucketName, inputs.files, []);\n    return { id: \"files\" };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    await this.upload(\n      news.bucketName,\n      news.files,\n      news.bucketName === olds.bucketName ? olds.files : []\n    );\n    return {};\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-s3/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-s3/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_sdk_s3_1 = require(\"@aws-sdk/middleware-sdk-s3/dist-cjs/index.js\");\nconst CreateSessionCommand_1 = require(\"@aws-sdk/client-s3/dist-cjs/commands/CreateSessionCommand.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst eventstream_serde_config_resolver_1 = require(\"@smithy/eventstream-serde-config-resolver/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-s3/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-s3/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\nconst middleware_expect_continue_1 = require(\"@aws-sdk/middleware-expect-continue/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_sdk_s3_1.resolveS3Config)(_config_6, { session: [() =\u003e this, CreateSessionCommand_1.CreateSessionCommand] });\n    const _config_8 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_7);\n    const _config_9 = (0, eventstream_serde_config_resolver_1.resolveEventStreamSerdeConfig)(_config_8);\n    const _config_10 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_9, configuration?.extensions || []);\n    __super.call(this, _config_10);\n    this.config = _config_10;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getValidateBucketNamePlugin)(this.config));\n    this.middlewareStack.use((0, middleware_expect_continue_1.getAddExpectContinuePlugin)(this.config));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getRegionRedirectMiddlewarePlugin)(this.config));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getS3ExpressPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst middleware_ssec_1 = require(\"@aws-sdk/middleware-ssec/dist-cjs/index.js\");\nconst middleware_flexible_checksums_1 = require(\"@aws-sdk/middleware-flexible-checksums/dist-cjs/index.js\");\nconst models_1_1 = require(\"@aws-sdk/client-s3/dist-cjs/models/models_1.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f20(__0, __1, __2) {\n  return (function() {\n    with({ PutObjectCommand: __f18, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, PutObjectCommand.getEndpointParameterInstructions()));\n    this.middlewareStack.use((0, middleware_sdk_s3_1.getCheckContentLengthHeaderPlugin)(configuration));\n    this.middlewareStack.use((0, middleware_ssec_1.getSsecPlugin)(configuration));\n    this.middlewareStack.use((0, middleware_flexible_checksums_1.getFlexibleChecksumsPlugin)(configuration, {\n        input: this.input,\n        requestAlgorithmMember: \"ChecksumAlgorithm\",\n        requestChecksumRequired: false,\n    }));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"S3Client\";\n    const commandName = \"PutObjectCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: models_1_1.PutObjectRequestFilterSensitiveLog,\n        outputFilterSensitiveLog: models_1_1.PutObjectOutputFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"AmazonS3\",\n            operation: \"PutObject\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-s3/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f21(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_PutObjectCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_PutObjectCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        Bucket: { type: \"contextParams\", name: \"Bucket\" },\n        Key: { type: \"contextParams\", name: \"Key\" },\n        ForcePathStyle: { type: \"clientContextParams\", name: \"forcePathStyle\" },\n        UseArnRegion: { type: \"clientContextParams\", name: \"useArnRegion\" },\n        DisableMultiRegionAccessPoints: { type: \"clientContextParams\", name: \"disableMultiregionAccessPoints\" },\n        Accelerate: { type: \"clientContextParams\", name: \"useAccelerateEndpoint\" },\n        DisableS3ExpressSessionAuth: { type: \"clientContextParams\", name: \"disableS3ExpressSessionAuth\" },\n        UseGlobalEndpoint: { type: \"builtInParams\", name: \"useGlobalEndpoint\" },\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst fs4 = require(\"fs\");\n\nfunction __f4(__0, __1, __2) {\n  return (function() {\n    with({ useClient: __f5, S3Client2: __f13, PutObjectCommand: __f18, this: undefined, arguments: undefined }) {\n\nreturn async function /*upload*/(bucketName, files, oldFiles) {\n    const oldFilesMap = new Map(oldFiles.map((f) =\u003e [f.key, f]));\n    const s34 = useClient(S3Client2);\n    await Promise.all(\n      files.map(async (file) =\u003e {\n        const oldFile = oldFilesMap.get(file.key);\n        if (oldFile \u0026\u0026 oldFile.hash === file.hash \u0026\u0026 oldFile.cacheControl === file.cacheControl \u0026\u0026 oldFile.contentType === file.contentType) {\n          return;\n        }\n        await s34.send(\n          new PutObjectCommand({\n            Bucket: bucketName,\n            Key: file.key,\n            Body: await fs4.promises.readFile(file.source),\n            CacheControl: file.cacheControl,\n            ContentType: file.contentType\n          })\n        );\n      })\n    );\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":292,"timestamp":1722566956,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN::MyWebCdn","type":"sst:aws:CDN","old":{"type":"sst:aws:CDN","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN::MyWebCdn","id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{},"outputs":{},"provider":""},"new":{"type":"sst:aws:CDN","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN::MyWebCdn","id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{},"outputs":{},"provider":""},"detailedDiff":null,"logical":true,"provider":""}},"Error":null}
{"sequence":293,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebAssetsPolicy[aws:s3/bucketPolicy:BucketPolicy]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Bucket$aws:s3/bucketPolicy:BucketPolicy::MyWebAssetsPolicy,remix-auth-app-nranganath-mywebassets-ckwszhaf,bucket,,,remix-auth-app-nranganath-mywebassets-ckwszhaf,id,,,remix-auth-app-nranganath-mywebassets-ckwszhaf,policy,,,{\"Statement\":[{\"Action\":\"s3:*\",\"Condition\":{\"Bool\":{\"aws:SecureTransport\":\"false\"}},\"Effect\":\"Deny\",\"Principal\":\"*\",\"Resource\":[\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf/*\",\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf\"]},{\"Action\":\"s3:GetObject\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity EWZX1AN92WK0Z\"},\"Resource\":\"arn:aws:s3:::remix-auth-app-nranganath-mywebassets-ckwszhaf/*\"}],\"Version\":\"2012-10-17\"},,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":294,"timestamp":1722566956,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN::MyWebCdn","type":"sst:aws:CDN","old":{"type":"sst:aws:CDN","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN::MyWebCdn","id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{},"outputs":{},"provider":""},"new":{"type":"sst:aws:CDN","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN::MyWebCdn","id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{},"outputs":{},"provider":""},"detailedDiff":null,"logical":true,"provider":""}},"Error":null}
{"sequence":295,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=sst:aws:CDN, name=MyWebCdn\n","color":"never","severity":"debug"},"Error":null}
{"sequence":296,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebServerUrl[aws:lambda/functionUrl:FunctionUrl]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:lambda/functionUrl:FunctionUrl::MyWebServerUrl,remix-auth-app-nranganath-MyWebServerFunction,__meta,,,{\"e2bfb730-ecaa-11e6-8f88-34363bc7c4c0\":{\"create\":600000000000}},authorizationType,,,NONE,cors,,,,,allowCredentials,,,,false,allowHeaders,,,,,,,,*,allowMethods,,,,,,,,*,allowOrigins,,,,,,,,*,exposeHeaders,,,,,,,maxAge,,0,functionArn,,,arn:aws:lambda:us-east-1:730335427397:function:remix-auth-app-nranganath-MyWebServerFunction,functionName,,,remix-auth-app-nranganath-MyWebServerFunction,functionUrl,,,https://y6z3ks7qwxfiswleqpox5bthhq0tatlw.lambda-url.us-east-1.on.aws/,id,,,remix-auth-app-nranganath-MyWebServerFunction,invokeMode,,,BUFFERED,qualifier,,,,urlId,,,y6z3ks7qwxfiswleqpox5bthhq0tatlw,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":297,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebCdn[sst:aws:CDN]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN::MyWebCdn,,,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":298,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=aws:cloudfront/distribution:Distribution, name=MyWebCdnDistribution\n","color":"never","severity":"debug"},"Error":null}
{"sequence":299,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResourceOutputs RPC prepared: urn=urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN::MyWebCdn\n","color":"never","severity":"debug"},"Error":null}
{"sequence":300,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResourceOutputs RPC finished: urn=urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN::MyWebCdn; err: null, resp: \n","color":"never","severity":"debug"},"Error":null}
{"sequence":301,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResourceOutputs RPC finished: urn=urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN::MyWebCdn; err: null, resp: \n","color":"never","severity":"debug"},"Error":null}
{"sequence":302,"timestamp":1722566956,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN$aws:cloudfront/distribution:Distribution::MyWebCdnDistribution","type":"aws:cloudfront/distribution:Distribution","old":{"type":"aws:cloudfront/distribution:Distribution","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN$aws:cloudfront/distribution:Distribution::MyWebCdnDistribution","custom":true,"id":"E2BOXJ5EIAVU52","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN::MyWebCdn","inputs":{"__defaults":["httpVersion","isIpv6Enabled","priceClass","retainOnDelete","staging"],"aliases":[],"comment":"MyWeb app","defaultCacheBehavior":{"__defaults":["minTtl"],"allowedMethods":["DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT"],"cachePolicyId":"161d0728-4fb8-40d6-a98b-d338a62c6e7d","cachedMethods":["GET","HEAD"],"compress":true,"functionAssociations":[{"__defaults":[],"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionServerCfFunction-dd4a71c"}],"lambdaFunctionAssociations":[],"minTtl":0,"originRequestPolicyId":"b689b0a8-53d0-40ab-baf2-68738e2966ac","targetOriginId":"server","viewerProtocolPolicy":"redirect-to-https"},"defaultRootObject":"","enabled":true,"httpVersion":"http2","isIpv6Enabled":false,"orderedCacheBehaviors":[{"__defaults":["minTtl"],"allowedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","cachedMethods":["GET","HEAD"],"compress":true,"functionAssociations":[{"__defaults":[],"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b"}],"minTtl":0,"pathPattern":"assets/*","targetOriginId":"s3","viewerProtocolPolicy":"redirect-to-https"},{"__defaults":["minTtl"],"allowedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","cachedMethods":["GET","HEAD"],"compress":true,"functionAssociations":[{"__defaults":[],"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b"}],"minTtl":0,"pathPattern":"build/*","targetOriginId":"s3","viewerProtocolPolicy":"redirect-to-https"},{"__defaults":["minTtl"],"allowedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","cachedMethods":["GET","HEAD"],"compress":true,"functionAssociations":[{"__defaults":[],"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b"}],"minTtl":0,"pathPattern":"favicon.ico","targetOriginId":"s3","viewerProtocolPolicy":"redirect-to-https"}],"originGroups":[],"origins":[{"__defaults":["connectionAttempts","connectionTimeout","originPath"],"connectionAttempts":3,"connectionTimeout":10,"customOriginConfig":{"__defaults":["originKeepaliveTimeout"],"httpPort":80,"httpsPort":443,"originKeepaliveTimeout":5,"originProtocolPolicy":"https-only","originReadTimeout":20,"originSslProtocols":["TLSv1.2"]},"domainName":"y6z3ks7qwxfiswleqpox5bthhq0tatlw.lambda-url.us-east-1.on.aws","originId":"server","originPath":""},{"__defaults":["connectionAttempts","connectionTimeout"],"connectionAttempts":3,"connectionTimeout":10,"domainName":"remix-auth-app-nranganath-mywebassets-ckwszhaf.s3.us-east-1.amazonaws.com","originId":"s3","originPath":"","s3OriginConfig":{"__defaults":[],"originAccessIdentity":"origin-access-identity/cloudfront/EWZX1AN92WK0Z"}}],"priceClass":"PriceClass_All","restrictions":{"__defaults":[],"geoRestriction":{"__defaults":[],"restrictionType":"none"}},"retainOnDelete":false,"staging":false,"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"viewerCertificate":{"__defaults":["minimumProtocolVersion"],"cloudfrontDefaultCertificate":true,"minimumProtocolVersion":"TLSv1"},"waitForDeployment":false},"outputs":{"__meta":"{\"schema_version\":\"1\"}","aliases":[],"arn":"arn:aws:cloudfront::730335427397:distribution/E2BOXJ5EIAVU52","callerReference":"terraform-20240329162514865000000001","comment":"MyWeb app","continuousDeploymentPolicyId":"","customErrorResponses":[],"defaultCacheBehavior":{"allowedMethods":["POST","GET","HEAD","PATCH","DELETE","OPTIONS","PUT"],"cachePolicyId":"161d0728-4fb8-40d6-a98b-d338a62c6e7d","cachedMethods":["GET","HEAD"],"compress":true,"defaultTtl":0,"fieldLevelEncryptionId":"","forwardedValues":null,"functionAssociations":[{"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionServerCfFunction-dd4a71c"}],"lambdaFunctionAssociations":[],"maxTtl":0,"minTtl":0,"originRequestPolicyId":"b689b0a8-53d0-40ab-baf2-68738e2966ac","realtimeLogConfigArn":"","responseHeadersPolicyId":"","smoothStreaming":false,"targetOriginId":"server","trustedKeyGroups":[],"trustedSigners":[],"viewerProtocolPolicy":"redirect-to-https"},"defaultRootObject":"","domainName":"d387jpi3pnyu3.cloudfront.net","enabled":true,"etag":"EUBOWUTNQRZUQ","hostedZoneId":"Z2FDTNDATAQYW2","httpVersion":"http2","id":"E2BOXJ5EIAVU52","inProgressValidationBatches":0,"isIpv6Enabled":false,"lastModifiedTime":"2024-03-29 16:25:15.301 +0000 UTC","loggingConfig":null,"orderedCacheBehaviors":[{"allowedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","cachedMethods":["GET","HEAD"],"compress":true,"defaultTtl":0,"fieldLevelEncryptionId":"","forwardedValues":null,"functionAssociations":[{"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b"}],"lambdaFunctionAssociations":[],"maxTtl":0,"minTtl":0,"originRequestPolicyId":"","pathPattern":"assets/*","realtimeLogConfigArn":"","responseHeadersPolicyId":"","smoothStreaming":false,"targetOriginId":"s3","trustedKeyGroups":[],"trustedSigners":[],"viewerProtocolPolicy":"redirect-to-https"},{"allowedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","cachedMethods":["GET","HEAD"],"compress":true,"defaultTtl":0,"fieldLevelEncryptionId":"","forwardedValues":null,"functionAssociations":[{"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b"}],"lambdaFunctionAssociations":[],"maxTtl":0,"minTtl":0,"originRequestPolicyId":"","pathPattern":"build/*","realtimeLogConfigArn":"","responseHeadersPolicyId":"","smoothStreaming":false,"targetOriginId":"s3","trustedKeyGroups":[],"trustedSigners":[],"viewerProtocolPolicy":"redirect-to-https"},{"allowedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","cachedMethods":["GET","HEAD"],"compress":true,"defaultTtl":0,"fieldLevelEncryptionId":"","forwardedValues":null,"functionAssociations":[{"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b"}],"lambdaFunctionAssociations":[],"maxTtl":0,"minTtl":0,"originRequestPolicyId":"","pathPattern":"favicon.ico","realtimeLogConfigArn":"","responseHeadersPolicyId":"","smoothStreaming":false,"targetOriginId":"s3","trustedKeyGroups":[],"trustedSigners":[],"viewerProtocolPolicy":"redirect-to-https"}],"origins":[{"connectionAttempts":3,"connectionTimeout":10,"customHeaders":[],"customOriginConfig":{"httpPort":80,"httpsPort":443,"originKeepaliveTimeout":5,"originProtocolPolicy":"https-only","originReadTimeout":20,"originSslProtocols":["TLSv1.2"]},"domainName":"y6z3ks7qwxfiswleqpox5bthhq0tatlw.lambda-url.us-east-1.on.aws","originAccessControlId":"","originId":"server","originPath":"","originShield":null,"s3OriginConfig":null},{"connectionAttempts":3,"connectionTimeout":10,"customHeaders":[],"customOriginConfig":null,"domainName":"remix-auth-app-nranganath-mywebassets-ckwszhaf.s3.us-east-1.amazonaws.com","originAccessControlId":"","originId":"s3","originPath":"","originShield":null,"s3OriginConfig":{"originAccessIdentity":"origin-access-identity/cloudfront/EWZX1AN92WK0Z"}}],"priceClass":"PriceClass_All","restrictions":{"geoRestriction":{"locations":[],"restrictionType":"none"}},"retainOnDelete":false,"staging":false,"status":"InProgress","tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"trustedKeyGroups":[{"enabled":false,"items":[]}],"trustedSigners":[{"enabled":false,"items":[]}],"viewerCertificate":{"acmCertificateArn":"","cloudfrontDefaultCertificate":true,"iamCertificateId":"","minimumProtocolVersion":"TLSv1","sslSupportMethod":""},"waitForDeployment":false,"webAclId":""},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:cloudfront/distribution:Distribution","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN$aws:cloudfront/distribution:Distribution::MyWebCdnDistribution","custom":true,"id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN::MyWebCdn","inputs":{"__defaults":["httpVersion","isIpv6Enabled","priceClass","retainOnDelete","staging"],"aliases":[],"comment":"MyWeb app","defaultCacheBehavior":{"__defaults":["minTtl"],"allowedMethods":["DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT"],"cachePolicyId":"161d0728-4fb8-40d6-a98b-d338a62c6e7d","cachedMethods":["GET","HEAD"],"compress":true,"functionAssociations":[{"__defaults":[],"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionServerCfFunction-dd4a71c"}],"lambdaFunctionAssociations":[],"minTtl":0,"originRequestPolicyId":"b689b0a8-53d0-40ab-baf2-68738e2966ac","targetOriginId":"server","viewerProtocolPolicy":"redirect-to-https"},"defaultRootObject":"","enabled":true,"httpVersion":"http2","isIpv6Enabled":false,"orderedCacheBehaviors":[{"__defaults":["minTtl"],"allowedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","cachedMethods":["GET","HEAD"],"compress":true,"functionAssociations":[{"__defaults":[],"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b"}],"minTtl":0,"pathPattern":"assets/*","targetOriginId":"s3","viewerProtocolPolicy":"redirect-to-https"},{"__defaults":["minTtl"],"allowedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","cachedMethods":["GET","HEAD"],"compress":true,"functionAssociations":[{"__defaults":[],"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b"}],"minTtl":0,"pathPattern":"build/*","targetOriginId":"s3","viewerProtocolPolicy":"redirect-to-https"},{"__defaults":["minTtl"],"allowedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","cachedMethods":["GET","HEAD"],"compress":true,"functionAssociations":[{"__defaults":[],"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b"}],"minTtl":0,"pathPattern":"favicon.ico","targetOriginId":"s3","viewerProtocolPolicy":"redirect-to-https"}],"originGroups":[],"origins":[{"__defaults":["connectionAttempts","connectionTimeout","originPath"],"connectionAttempts":3,"connectionTimeout":10,"customOriginConfig":{"__defaults":["originKeepaliveTimeout"],"httpPort":80,"httpsPort":443,"originKeepaliveTimeout":5,"originProtocolPolicy":"https-only","originReadTimeout":20,"originSslProtocols":["TLSv1.2"]},"domainName":"y6z3ks7qwxfiswleqpox5bthhq0tatlw.lambda-url.us-east-1.on.aws","originId":"server","originPath":""},{"__defaults":["connectionAttempts","connectionTimeout"],"connectionAttempts":3,"connectionTimeout":10,"domainName":"remix-auth-app-nranganath-mywebassets-ckwszhaf.s3.us-east-1.amazonaws.com","originId":"s3","originPath":"","s3OriginConfig":{"__defaults":[],"originAccessIdentity":"origin-access-identity/cloudfront/EWZX1AN92WK0Z"}}],"priceClass":"PriceClass_All","restrictions":{"__defaults":[],"geoRestriction":{"__defaults":[],"restrictionType":"none"}},"retainOnDelete":false,"staging":false,"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"viewerCertificate":{"__defaults":["minimumProtocolVersion"],"cloudfrontDefaultCertificate":true,"minimumProtocolVersion":"TLSv1"},"waitForDeployment":false},"outputs":{},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":303,"timestamp":1722566956,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN$aws:cloudfront/distribution:Distribution::MyWebCdnDistribution","type":"aws:cloudfront/distribution:Distribution","old":{"type":"aws:cloudfront/distribution:Distribution","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN$aws:cloudfront/distribution:Distribution::MyWebCdnDistribution","custom":true,"id":"E2BOXJ5EIAVU52","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN::MyWebCdn","inputs":{"__defaults":["httpVersion","isIpv6Enabled","priceClass","retainOnDelete","staging"],"aliases":[],"comment":"MyWeb app","defaultCacheBehavior":{"__defaults":["minTtl"],"allowedMethods":["DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT"],"cachePolicyId":"161d0728-4fb8-40d6-a98b-d338a62c6e7d","cachedMethods":["GET","HEAD"],"compress":true,"functionAssociations":[{"__defaults":[],"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionServerCfFunction-dd4a71c"}],"lambdaFunctionAssociations":[],"minTtl":0,"originRequestPolicyId":"b689b0a8-53d0-40ab-baf2-68738e2966ac","targetOriginId":"server","viewerProtocolPolicy":"redirect-to-https"},"defaultRootObject":"","enabled":true,"httpVersion":"http2","isIpv6Enabled":false,"orderedCacheBehaviors":[{"__defaults":["minTtl"],"allowedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","cachedMethods":["GET","HEAD"],"compress":true,"functionAssociations":[{"__defaults":[],"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b"}],"minTtl":0,"pathPattern":"assets/*","targetOriginId":"s3","viewerProtocolPolicy":"redirect-to-https"},{"__defaults":["minTtl"],"allowedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","cachedMethods":["GET","HEAD"],"compress":true,"functionAssociations":[{"__defaults":[],"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b"}],"minTtl":0,"pathPattern":"build/*","targetOriginId":"s3","viewerProtocolPolicy":"redirect-to-https"},{"__defaults":["minTtl"],"allowedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","cachedMethods":["GET","HEAD"],"compress":true,"functionAssociations":[{"__defaults":[],"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b"}],"minTtl":0,"pathPattern":"favicon.ico","targetOriginId":"s3","viewerProtocolPolicy":"redirect-to-https"}],"originGroups":[],"origins":[{"__defaults":["connectionAttempts","connectionTimeout","originPath"],"connectionAttempts":3,"connectionTimeout":10,"customOriginConfig":{"__defaults":["originKeepaliveTimeout"],"httpPort":80,"httpsPort":443,"originKeepaliveTimeout":5,"originProtocolPolicy":"https-only","originReadTimeout":20,"originSslProtocols":["TLSv1.2"]},"domainName":"y6z3ks7qwxfiswleqpox5bthhq0tatlw.lambda-url.us-east-1.on.aws","originId":"server","originPath":""},{"__defaults":["connectionAttempts","connectionTimeout"],"connectionAttempts":3,"connectionTimeout":10,"domainName":"remix-auth-app-nranganath-mywebassets-ckwszhaf.s3.us-east-1.amazonaws.com","originId":"s3","originPath":"","s3OriginConfig":{"__defaults":[],"originAccessIdentity":"origin-access-identity/cloudfront/EWZX1AN92WK0Z"}}],"priceClass":"PriceClass_All","restrictions":{"__defaults":[],"geoRestriction":{"__defaults":[],"restrictionType":"none"}},"retainOnDelete":false,"staging":false,"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"viewerCertificate":{"__defaults":["minimumProtocolVersion"],"cloudfrontDefaultCertificate":true,"minimumProtocolVersion":"TLSv1"},"waitForDeployment":false},"outputs":{"__meta":"{\"schema_version\":\"1\"}","aliases":[],"arn":"arn:aws:cloudfront::730335427397:distribution/E2BOXJ5EIAVU52","callerReference":"terraform-20240329162514865000000001","comment":"MyWeb app","continuousDeploymentPolicyId":"","customErrorResponses":[],"defaultCacheBehavior":{"allowedMethods":["POST","GET","HEAD","PATCH","DELETE","OPTIONS","PUT"],"cachePolicyId":"161d0728-4fb8-40d6-a98b-d338a62c6e7d","cachedMethods":["GET","HEAD"],"compress":true,"defaultTtl":0,"fieldLevelEncryptionId":"","forwardedValues":null,"functionAssociations":[{"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionServerCfFunction-dd4a71c"}],"lambdaFunctionAssociations":[],"maxTtl":0,"minTtl":0,"originRequestPolicyId":"b689b0a8-53d0-40ab-baf2-68738e2966ac","realtimeLogConfigArn":"","responseHeadersPolicyId":"","smoothStreaming":false,"targetOriginId":"server","trustedKeyGroups":[],"trustedSigners":[],"viewerProtocolPolicy":"redirect-to-https"},"defaultRootObject":"","domainName":"d387jpi3pnyu3.cloudfront.net","enabled":true,"etag":"EUBOWUTNQRZUQ","hostedZoneId":"Z2FDTNDATAQYW2","httpVersion":"http2","id":"E2BOXJ5EIAVU52","inProgressValidationBatches":0,"isIpv6Enabled":false,"lastModifiedTime":"2024-03-29 16:25:15.301 +0000 UTC","loggingConfig":null,"orderedCacheBehaviors":[{"allowedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","cachedMethods":["GET","HEAD"],"compress":true,"defaultTtl":0,"fieldLevelEncryptionId":"","forwardedValues":null,"functionAssociations":[{"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b"}],"lambdaFunctionAssociations":[],"maxTtl":0,"minTtl":0,"originRequestPolicyId":"","pathPattern":"assets/*","realtimeLogConfigArn":"","responseHeadersPolicyId":"","smoothStreaming":false,"targetOriginId":"s3","trustedKeyGroups":[],"trustedSigners":[],"viewerProtocolPolicy":"redirect-to-https"},{"allowedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","cachedMethods":["GET","HEAD"],"compress":true,"defaultTtl":0,"fieldLevelEncryptionId":"","forwardedValues":null,"functionAssociations":[{"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b"}],"lambdaFunctionAssociations":[],"maxTtl":0,"minTtl":0,"originRequestPolicyId":"","pathPattern":"build/*","realtimeLogConfigArn":"","responseHeadersPolicyId":"","smoothStreaming":false,"targetOriginId":"s3","trustedKeyGroups":[],"trustedSigners":[],"viewerProtocolPolicy":"redirect-to-https"},{"allowedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","cachedMethods":["GET","HEAD"],"compress":true,"defaultTtl":0,"fieldLevelEncryptionId":"","forwardedValues":null,"functionAssociations":[{"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b"}],"lambdaFunctionAssociations":[],"maxTtl":0,"minTtl":0,"originRequestPolicyId":"","pathPattern":"favicon.ico","realtimeLogConfigArn":"","responseHeadersPolicyId":"","smoothStreaming":false,"targetOriginId":"s3","trustedKeyGroups":[],"trustedSigners":[],"viewerProtocolPolicy":"redirect-to-https"}],"origins":[{"connectionAttempts":3,"connectionTimeout":10,"customHeaders":[],"customOriginConfig":{"httpPort":80,"httpsPort":443,"originKeepaliveTimeout":5,"originProtocolPolicy":"https-only","originReadTimeout":20,"originSslProtocols":["TLSv1.2"]},"domainName":"y6z3ks7qwxfiswleqpox5bthhq0tatlw.lambda-url.us-east-1.on.aws","originAccessControlId":"","originId":"server","originPath":"","originShield":null,"s3OriginConfig":null},{"connectionAttempts":3,"connectionTimeout":10,"customHeaders":[],"customOriginConfig":null,"domainName":"remix-auth-app-nranganath-mywebassets-ckwszhaf.s3.us-east-1.amazonaws.com","originAccessControlId":"","originId":"s3","originPath":"","originShield":null,"s3OriginConfig":{"originAccessIdentity":"origin-access-identity/cloudfront/EWZX1AN92WK0Z"}}],"priceClass":"PriceClass_All","restrictions":{"geoRestriction":{"locations":[],"restrictionType":"none"}},"retainOnDelete":false,"staging":false,"status":"InProgress","tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"trustedKeyGroups":[{"enabled":false,"items":[]}],"trustedSigners":[{"enabled":false,"items":[]}],"viewerCertificate":{"acmCertificateArn":"","cloudfrontDefaultCertificate":true,"iamCertificateId":"","minimumProtocolVersion":"TLSv1","sslSupportMethod":""},"waitForDeployment":false,"webAclId":""},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:cloudfront/distribution:Distribution","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN$aws:cloudfront/distribution:Distribution::MyWebCdnDistribution","custom":true,"id":"E2BOXJ5EIAVU52","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN::MyWebCdn","inputs":{"__defaults":["httpVersion","isIpv6Enabled","priceClass","retainOnDelete","staging"],"aliases":[],"comment":"MyWeb app","defaultCacheBehavior":{"__defaults":["minTtl"],"allowedMethods":["DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT"],"cachePolicyId":"161d0728-4fb8-40d6-a98b-d338a62c6e7d","cachedMethods":["GET","HEAD"],"compress":true,"functionAssociations":[{"__defaults":[],"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionServerCfFunction-dd4a71c"}],"lambdaFunctionAssociations":[],"minTtl":0,"originRequestPolicyId":"b689b0a8-53d0-40ab-baf2-68738e2966ac","targetOriginId":"server","viewerProtocolPolicy":"redirect-to-https"},"defaultRootObject":"","enabled":true,"httpVersion":"http2","isIpv6Enabled":false,"orderedCacheBehaviors":[{"__defaults":["minTtl"],"allowedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","cachedMethods":["GET","HEAD"],"compress":true,"functionAssociations":[{"__defaults":[],"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b"}],"minTtl":0,"pathPattern":"assets/*","targetOriginId":"s3","viewerProtocolPolicy":"redirect-to-https"},{"__defaults":["minTtl"],"allowedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","cachedMethods":["GET","HEAD"],"compress":true,"functionAssociations":[{"__defaults":[],"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b"}],"minTtl":0,"pathPattern":"build/*","targetOriginId":"s3","viewerProtocolPolicy":"redirect-to-https"},{"__defaults":["minTtl"],"allowedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","cachedMethods":["GET","HEAD"],"compress":true,"functionAssociations":[{"__defaults":[],"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b"}],"minTtl":0,"pathPattern":"favicon.ico","targetOriginId":"s3","viewerProtocolPolicy":"redirect-to-https"}],"originGroups":[],"origins":[{"__defaults":["connectionAttempts","connectionTimeout","originPath"],"connectionAttempts":3,"connectionTimeout":10,"customOriginConfig":{"__defaults":["originKeepaliveTimeout"],"httpPort":80,"httpsPort":443,"originKeepaliveTimeout":5,"originProtocolPolicy":"https-only","originReadTimeout":20,"originSslProtocols":["TLSv1.2"]},"domainName":"y6z3ks7qwxfiswleqpox5bthhq0tatlw.lambda-url.us-east-1.on.aws","originId":"server","originPath":""},{"__defaults":["connectionAttempts","connectionTimeout"],"connectionAttempts":3,"connectionTimeout":10,"domainName":"remix-auth-app-nranganath-mywebassets-ckwszhaf.s3.us-east-1.amazonaws.com","originId":"s3","originPath":"","s3OriginConfig":{"__defaults":[],"originAccessIdentity":"origin-access-identity/cloudfront/EWZX1AN92WK0Z"}}],"priceClass":"PriceClass_All","restrictions":{"__defaults":[],"geoRestriction":{"__defaults":[],"restrictionType":"none"}},"retainOnDelete":false,"staging":false,"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"viewerCertificate":{"__defaults":["minimumProtocolVersion"],"cloudfrontDefaultCertificate":true,"minimumProtocolVersion":"TLSv1"},"waitForDeployment":false},"outputs":{"__meta":"{\"schema_version\":\"1\"}","aliases":[],"arn":"arn:aws:cloudfront::730335427397:distribution/E2BOXJ5EIAVU52","callerReference":"terraform-20240329162514865000000001","comment":"MyWeb app","continuousDeploymentPolicyId":"","customErrorResponses":[],"defaultCacheBehavior":{"allowedMethods":["POST","GET","HEAD","PATCH","DELETE","OPTIONS","PUT"],"cachePolicyId":"161d0728-4fb8-40d6-a98b-d338a62c6e7d","cachedMethods":["GET","HEAD"],"compress":true,"defaultTtl":0,"fieldLevelEncryptionId":"","forwardedValues":null,"functionAssociations":[{"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionServerCfFunction-dd4a71c"}],"lambdaFunctionAssociations":[],"maxTtl":0,"minTtl":0,"originRequestPolicyId":"b689b0a8-53d0-40ab-baf2-68738e2966ac","realtimeLogConfigArn":"","responseHeadersPolicyId":"","smoothStreaming":false,"targetOriginId":"server","trustedKeyGroups":[],"trustedSigners":[],"viewerProtocolPolicy":"redirect-to-https"},"defaultRootObject":"","domainName":"d387jpi3pnyu3.cloudfront.net","enabled":true,"etag":"EUBOWUTNQRZUQ","hostedZoneId":"Z2FDTNDATAQYW2","httpVersion":"http2","id":"E2BOXJ5EIAVU52","inProgressValidationBatches":0,"isIpv6Enabled":false,"lastModifiedTime":"2024-03-29 16:25:15.301 +0000 UTC","loggingConfig":null,"orderedCacheBehaviors":[{"allowedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","cachedMethods":["GET","HEAD"],"compress":true,"defaultTtl":0,"fieldLevelEncryptionId":"","forwardedValues":null,"functionAssociations":[{"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b"}],"lambdaFunctionAssociations":[],"maxTtl":0,"minTtl":0,"originRequestPolicyId":"","pathPattern":"assets/*","realtimeLogConfigArn":"","responseHeadersPolicyId":"","smoothStreaming":false,"targetOriginId":"s3","trustedKeyGroups":[],"trustedSigners":[],"viewerProtocolPolicy":"redirect-to-https"},{"allowedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","cachedMethods":["GET","HEAD"],"compress":true,"defaultTtl":0,"fieldLevelEncryptionId":"","forwardedValues":null,"functionAssociations":[{"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b"}],"lambdaFunctionAssociations":[],"maxTtl":0,"minTtl":0,"originRequestPolicyId":"","pathPattern":"build/*","realtimeLogConfigArn":"","responseHeadersPolicyId":"","smoothStreaming":false,"targetOriginId":"s3","trustedKeyGroups":[],"trustedSigners":[],"viewerProtocolPolicy":"redirect-to-https"},{"allowedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","cachedMethods":["GET","HEAD"],"compress":true,"defaultTtl":0,"fieldLevelEncryptionId":"","forwardedValues":null,"functionAssociations":[{"eventType":"viewer-request","functionArn":"arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b"}],"lambdaFunctionAssociations":[],"maxTtl":0,"minTtl":0,"originRequestPolicyId":"","pathPattern":"favicon.ico","realtimeLogConfigArn":"","responseHeadersPolicyId":"","smoothStreaming":false,"targetOriginId":"s3","trustedKeyGroups":[],"trustedSigners":[],"viewerProtocolPolicy":"redirect-to-https"}],"origins":[{"connectionAttempts":3,"connectionTimeout":10,"customHeaders":[],"customOriginConfig":{"httpPort":80,"httpsPort":443,"originKeepaliveTimeout":5,"originProtocolPolicy":"https-only","originReadTimeout":20,"originSslProtocols":["TLSv1.2"]},"domainName":"y6z3ks7qwxfiswleqpox5bthhq0tatlw.lambda-url.us-east-1.on.aws","originAccessControlId":"","originId":"server","originPath":"","originShield":null,"s3OriginConfig":null},{"connectionAttempts":3,"connectionTimeout":10,"customHeaders":[],"customOriginConfig":null,"domainName":"remix-auth-app-nranganath-mywebassets-ckwszhaf.s3.us-east-1.amazonaws.com","originAccessControlId":"","originId":"s3","originPath":"","originShield":null,"s3OriginConfig":{"originAccessIdentity":"origin-access-identity/cloudfront/EWZX1AN92WK0Z"}}],"priceClass":"PriceClass_All","restrictions":{"geoRestriction":{"locations":[],"restrictionType":"none"}},"retainOnDelete":false,"staging":false,"status":"InProgress","tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"trustedKeyGroups":[{"enabled":false,"items":[]}],"trustedSigners":[{"enabled":false,"items":[]}],"viewerCertificate":{"acmCertificateArn":"","cloudfrontDefaultCertificate":true,"iamCertificateId":"","minimumProtocolVersion":"TLSv1","sslSupportMethod":""},"waitForDeployment":false,"webAclId":""},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":304,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=pulumi-nodejs:dynamic:Resource, name=MyWebCdnWaiter.sst.aws.DistributionDeploymentWaiter\n","color":"never","severity":"debug"},"Error":null}
{"sequence":305,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebCdnDistribution[aws:cloudfront/distribution:Distribution]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN$aws:cloudfront/distribution:Distribution::MyWebCdnDistribution,E2BOXJ5EIAVU52,__meta,,,{\"schema_version\":\"1\"},aliases,,,,,,,arn,,,arn:aws:cloudfront::730335427397:distribution/E2BOXJ5EIAVU52,callerReference,,,terraform-20240329162514865000000001,comment,,,MyWeb app,continuousDeploymentPolicyId,,,,customErrorResponses,,,,,,,defaultCacheBehavior,,,,,allowedMethods,,,,,,,,POST,,,GET,,,HEAD,,,PATCH,,,DELETE,,,OPTIONS,,,PUT,cachePolicyId,,,161d0728-4fb8-40d6-a98b-d338a62c6e7d,cachedMethods,,,,,,,,GET,,,HEAD,compress,,,,true,defaultTtl,,0,fieldLevelEncryptionId,,,,forwardedValues,0,functionAssociations,,,,,,,,,,eventType,,,viewer-request,functionArn,,,arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionServerCfFunction-dd4a71c,lambdaFunctionAssociations,,,,,,,maxTtl,,0,minTtl,,0,originRequestPolicyId,,,b689b0a8-53d0-40ab-baf2-68738e2966ac,realtimeLogConfigArn,,,,responseHeadersPolicyId,,,,smoothStreaming,,,,false,targetOriginId,,,server,trustedKeyGroups,,,,,,,trustedSigners,,,,,,,viewerProtocolPolicy,,,redirect-to-https,defaultRootObject,,,,domainName,,,d387jpi3pnyu3.cloudfront.net,enabled,,,,true,etag,,,EUBOWUTNQRZUQ,hostedZoneId,,,Z2FDTNDATAQYW2,httpVersion,,,http2,id,,,E2BOXJ5EIAVU52,inProgressValidationBatches,,0,isIpv6Enabled,,,,false,lastModifiedTime,,,2024-03-29 16:25:15.301 +0000 UTC,loggingConfig,0,orderedCacheBehaviors,,,,,,,,,,allowedMethods,,,,,,,,GET,,,HEAD,,,OPTIONS,cachePolicyId,,,658327ea-f89d-4fab-a63d-7e88639e58f6,cachedMethods,,,,,,,,GET,,,HEAD,compress,,,,true,defaultTtl,,0,fieldLevelEncryptionId,,,,forwardedValues,0,functionAssociations,,,,,,,,,,eventType,,,viewer-request,functionArn,,,arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b,lambdaFunctionAssociations,,,,,,,maxTtl,,0,minTtl,,0,originRequestPolicyId,,,,pathPattern,,,assets/*,realtimeLogConfigArn,,,,responseHeadersPolicyId,,,,smoothStreaming,,,,false,targetOriginId,,,s3,trustedKeyGroups,,,,,,,trustedSigners,,,,,,,viewerProtocolPolicy,,,redirect-to-https,,,,,allowedMethods,,,,,,,,GET,,,HEAD,,,OPTIONS,cachePolicyId,,,658327ea-f89d-4fab-a63d-7e88639e58f6,cachedMethods,,,,,,,,GET,,,HEAD,compress,,,,true,defaultTtl,,0,fieldLevelEncryptionId,,,,forwardedValues,0,functionAssociations,,,,,,,,,,eventType,,,viewer-request,functionArn,,,arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b,lambdaFunctionAssociations,,,,,,,maxTtl,,0,minTtl,,0,originRequestPolicyId,,,,pathPattern,,,build/*,realtimeLogConfigArn,,,,responseHeadersPolicyId,,,,smoothStreaming,,,,false,targetOriginId,,,s3,trustedKeyGroups,,,,,,,trustedSigners,,,,,,,viewerProtocolPolicy,,,redirect-to-https,,,,,allowedMethods,,,,,,,,GET,,,HEAD,,,OPTIONS,cachePolicyId,,,658327ea-f89d-4fab-a63d-7e88639e58f6,cachedMethods,,,,,,,,GET,,,HEAD,compress,,,,true,defaultTtl,,0,fieldLevelEncryptionId,,,,forwardedValues,0,functionAssociations,,,,,,,,,,eventType,,,viewer-request,functionArn,,,arn:aws:cloudfront::730335427397:function/MyWebCloudfrontFunctionStaticCfFunction-031993b,lambdaFunctionAssociations,,,,,,,maxTtl,,0,minTtl,,0,originRequestPolicyId,,,,pathPattern,,,favicon.ico,realtimeLogConfigArn,,,,responseHeadersPolicyId,,,,smoothStreaming,,,,false,targetOriginId,,,s3,trustedKeyGroups,,,,,,,trustedSigners,,,,,,,viewerProtocolPolicy,,,redirect-to-https,origins,,,,,,,,,,connectionAttempts,,3,connectionTimeout,,10,customHeaders,,,,,,,customOriginConfig,,,,,httpPort,,80,httpsPort,,443,originKeepaliveTimeout,,5,originProtocolPolicy,,,https-only,originReadTimeout,,20,originSslProtocols,,,,,,,,TLSv1.2,domainName,,,y6z3ks7qwxfiswleqpox5bthhq0tatlw.lambda-url.us-east-1.on.aws,originAccessControlId,,,,originId,,,server,originPath,,,,originShield,0,s3OriginConfig,0,,,,,connectionAttempts,,3,connectionTimeout,,10,customHeaders,,,,,,,customOriginConfig,0,domainName,,,remix-auth-app-nranganath-mywebassets-ckwszhaf.s3.us-east-1.amazonaws.com,originAccessControlId,,,,originId,,,s3,originPath,,,,originShield,0,s3OriginConfig,,,,,originAccessIdentity,,,origin-access-identity/cloudfront/EWZX1AN92WK0Z,priceClass,,,PriceClass_All,restrictions,,,,,geoRestriction,,,,,locations,,,,,,,restrictionType,,,none,retainOnDelete,,,,false,staging,,,,false,status,,,InProgress,tags,,,,,sst:app,,,remix-auth-app,sst:stage,,,nranganath,tagsAll,,,,,sst:app,,,remix-auth-app,sst:stage,,,nranganath,trustedKeyGroups,,,,,,,,,,enabled,,,,false,items,,,,,,,trustedSigners,,,,,,,,,,enabled,,,,false,items,,,,,,,viewerCertificate,,,,,acmCertificateArn,,,,cloudfrontDefaultCertificate,,,,true,iamCertificateId,,,,minimumProtocolVersion,,,TLSv1,sslSupportMethod,,,,waitForDeployment,,,,false,webAclId,,,,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":306,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=pulumi-nodejs:dynamic:Resource, name=MyWebInvalidation.sst.aws.DistributionInvalidation\n","color":"never","severity":"debug"},"Error":null}
{"sequence":307,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=aws:iam/policy:Policy, name=MyWebInvalidationPolicy\n","color":"never","severity":"debug"},"Error":null}
{"sequence":308,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResourceOutputs RPC prepared: urn=urn:pulumi:nranganath::remix-auth-app::pulumi:pulumi:Stack::remix-auth-app-nranganath\n","color":"never","severity":"debug"},"Error":null}
{"sequence":309,"timestamp":1722566956,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::pulumi:pulumi:Stack::remix-auth-app-nranganath","type":"pulumi:pulumi:Stack","old":{"type":"pulumi:pulumi:Stack","urn":"urn:pulumi:nranganath::remix-auth-app::pulumi:pulumi:Stack::remix-auth-app-nranganath","id":"","parent":"","inputs":{},"outputs":{"_hints":{"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb":"https://d387jpi3pnyu3.cloudfront.net"},"_links":{"MyWeb":{"type":"sst.aws.Remix","url":"https://d387jpi3pnyu3.cloudfront.net"}},"_receivers":{"build/server.handler":{"environment":{},"links":[]}},"_warps":{}},"provider":""},"new":{"type":"pulumi:pulumi:Stack","urn":"urn:pulumi:nranganath::remix-auth-app::pulumi:pulumi:Stack::remix-auth-app-nranganath","id":"","parent":"","inputs":{},"outputs":{"_hints":{"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb":"https://d387jpi3pnyu3.cloudfront.net"},"_links":{"MyWeb":{"type":"sst.aws.Remix","url":"https://d387jpi3pnyu3.cloudfront.net"}},"_receivers":{"build/server.handler":{"environment":{},"links":[]}},"_warps":{}},"provider":""},"detailedDiff":null,"logical":true,"provider":""}},"Error":null}
{"sequence":310,"timestamp":1722566956,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:iam/policy:Policy::MyWebInvalidationPolicy","type":"aws:iam/policy:Policy","old":{"type":"aws:iam/policy:Policy","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:iam/policy:Policy::MyWebInvalidationPolicy","custom":true,"id":"arn:aws:iam::730335427397:policy/MyWebInvalidationPolicy-0fd463c","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__defaults":["name","path"],"name":"MyWebInvalidationPolicy-0fd463c","path":"/","policy":"{\n            \"Version\": \"2012-10-17\",\n            \"Statement\": [\n              {\n                \"Action\": \"cloudfront:CreateInvalidation\",\n                \"Effect\": \"Allow\",\n                \"Resource\": \"arn:aws:cloudfront::730335427397:distribution/E2BOXJ5EIAVU52\"\n              }\n            ]\n          }","tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"outputs":{"arn":"arn:aws:iam::730335427397:policy/MyWebInvalidationPolicy-0fd463c","description":"","id":"arn:aws:iam::730335427397:policy/MyWebInvalidationPolicy-0fd463c","name":"MyWebInvalidationPolicy-0fd463c","namePrefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":\"cloudfront:CreateInvalidation\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:cloudfront::730335427397:distribution/E2BOXJ5EIAVU52\"}],\"Version\":\"2012-10-17\"}","policyId":"ANPA2UC3CHNC34BSP5K4U","tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:iam/policy:Policy","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:iam/policy:Policy::MyWebInvalidationPolicy","custom":true,"id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__defaults":["name","path"],"name":"MyWebInvalidationPolicy-0fd463c","path":"/","policy":"{\n            \"Version\": \"2012-10-17\",\n            \"Statement\": [\n              {\n                \"Action\": \"cloudfront:CreateInvalidation\",\n                \"Effect\": \"Allow\",\n                \"Resource\": \"arn:aws:cloudfront::730335427397:distribution/E2BOXJ5EIAVU52\"\n              }\n            ]\n          }","tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"outputs":{},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":311,"timestamp":1722566956,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:iam/policy:Policy::MyWebInvalidationPolicy","type":"aws:iam/policy:Policy","old":{"type":"aws:iam/policy:Policy","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:iam/policy:Policy::MyWebInvalidationPolicy","custom":true,"id":"arn:aws:iam::730335427397:policy/MyWebInvalidationPolicy-0fd463c","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__defaults":["name","path"],"name":"MyWebInvalidationPolicy-0fd463c","path":"/","policy":"{\n            \"Version\": \"2012-10-17\",\n            \"Statement\": [\n              {\n                \"Action\": \"cloudfront:CreateInvalidation\",\n                \"Effect\": \"Allow\",\n                \"Resource\": \"arn:aws:cloudfront::730335427397:distribution/E2BOXJ5EIAVU52\"\n              }\n            ]\n          }","tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"outputs":{"arn":"arn:aws:iam::730335427397:policy/MyWebInvalidationPolicy-0fd463c","description":"","id":"arn:aws:iam::730335427397:policy/MyWebInvalidationPolicy-0fd463c","name":"MyWebInvalidationPolicy-0fd463c","namePrefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":\"cloudfront:CreateInvalidation\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:cloudfront::730335427397:distribution/E2BOXJ5EIAVU52\"}],\"Version\":\"2012-10-17\"}","policyId":"ANPA2UC3CHNC34BSP5K4U","tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:iam/policy:Policy","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:iam/policy:Policy::MyWebInvalidationPolicy","custom":true,"id":"arn:aws:iam::730335427397:policy/MyWebInvalidationPolicy-0fd463c","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__defaults":["name","path"],"name":"MyWebInvalidationPolicy-0fd463c","path":"/","policy":"{\n            \"Version\": \"2012-10-17\",\n            \"Statement\": [\n              {\n                \"Action\": \"cloudfront:CreateInvalidation\",\n                \"Effect\": \"Allow\",\n                \"Resource\": \"arn:aws:cloudfront::730335427397:distribution/E2BOXJ5EIAVU52\"\n              }\n            ]\n          }","tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"outputs":{"arn":"arn:aws:iam::730335427397:policy/MyWebInvalidationPolicy-0fd463c","description":"","id":"arn:aws:iam::730335427397:policy/MyWebInvalidationPolicy-0fd463c","name":"MyWebInvalidationPolicy-0fd463c","namePrefix":"","path":"/","policy":"{\"Statement\":[{\"Action\":\"cloudfront:CreateInvalidation\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:cloudfront::730335427397:distribution/E2BOXJ5EIAVU52\"}],\"Version\":\"2012-10-17\"}","policyId":"ANPA2UC3CHNC34BSP5K4U","tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":312,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResourceOutputs RPC finished: urn=urn:pulumi:nranganath::remix-auth-app::pulumi:pulumi:Stack::remix-auth-app-nranganath; err: null, resp: \n","color":"never","severity":"debug"},"Error":null}
{"sequence":313,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebInvalidationPolicy[aws:iam/policy:Policy]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:iam/policy:Policy::MyWebInvalidationPolicy,arn:aws:iam::730335427397:policy/MyWebInvalidationPolicy-0fd463c,arn,,,arn:aws:iam::730335427397:policy/MyWebInvalidationPolicy-0fd463c,description,,,,id,,,arn:aws:iam::730335427397:policy/MyWebInvalidationPolicy-0fd463c,name,,,MyWebInvalidationPolicy-0fd463c,namePrefix,,,,path,,,/,policy,,,{\"Statement\":[{\"Action\":\"cloudfront:CreateInvalidation\",\"Effect\":\"Allow\",\"Resource\":\"arn:aws:cloudfront::730335427397:distribution/E2BOXJ5EIAVU52\"}],\"Version\":\"2012-10-17\"},policyId,,,ANPA2UC3CHNC34BSP5K4U,tags,,,,,sst:app,,,remix-auth-app,sst:stage,,,nranganath,tagsAll,,,,,sst:app,,,remix-auth-app,sst:stage,,,nranganath,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":314,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResourceOutputs RPC finished: urn=urn:pulumi:nranganath::remix-auth-app::pulumi:pulumi:Stack::remix-auth-app-nranganath; err: null, resp: \n","color":"never","severity":"debug"},"Error":null}
{"sequence":315,"timestamp":1722566956,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebInvalidation.sst.aws.DistributionInvalidation","type":"pulumi-nodejs:dynamic:Resource","old":{"type":"pulumi-nodejs:dynamic:Resource","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebInvalidation.sst.aws.DistributionInvalidation","custom":true,"id":"invalidation","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nObject.defineProperty(__provider_proto, \"handle\", { configurable: true, writable: true, value: __f4 });\nObject.defineProperty(__provider_proto, \"invalidate\", { configurable: true, writable: true, value: __f18 });\nvar __f20_prototype_proto = {};\nObject.defineProperty(__f20_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f21 });\nvar __f20_prototype = Object.create(__f20_prototype_proto);\nObject.defineProperty(__f20_prototype, \"constructor\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f20_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f20_prototype, \"serialize\", { configurable: true, writable: true, value: __f23 });\nObject.defineProperty(__f20_prototype, \"deserialize\", { configurable: true, writable: true, value: __f24 });\nObject.defineProperty(__f20, \"prototype\", { value: __f20_prototype });\nObject.defineProperty(__f20, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f25 });\nObject.setPrototypeOf(__f20, __f21);\nObject.defineProperty(__provider_proto, \"invalidateChunk\", { configurable: true, writable: true, value: __f19 });\nObject.defineProperty(__provider_proto, \"waitForInvalidation\", { configurable: true, writable: true, value: __f26 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    await this.handle(inputs);\n    return { id: \"invalidation\" };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    await this.handle(news);\n    return {};\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_7, configuration?.extensions || []);\n    __super.call(this, _config_8);\n    this.config = _config_8;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4(__0) {\n  return (function() {\n    with({ useClient: __f5, CloudFrontClient2: __f13, this: undefined, arguments: undefined }) {\n\nreturn async function /*handle*/(inputs) {\n    const client = useClient(CloudFrontClient2);\n    const ids = await this.invalidate(client, inputs);\n    if (inputs.wait) {\n      await this.waitForInvalidation(client, inputs, ids);\n    }\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0, __1) {\n  return (function() {\n    with({ FILE_LIMIT: 3000, WILDCARD_LIMIT: 15, this: undefined, arguments: undefined }) {\n\nreturn async function /*invalidate*/(client, inputs) {\n    const { distributionId, paths } = inputs;\n    const pathsFile = [];\n    const pathsWildcard = [];\n    for (const path17 of paths) {\n      if (path17.trim().endsWith(\"*\")) {\n        pathsWildcard.push(path17);\n      } else {\n        pathsFile.push(path17);\n      }\n    }\n    const stepsCount = Math.max(\n      Math.ceil(pathsFile.length / FILE_LIMIT),\n      Math.ceil(pathsWildcard.length / WILDCARD_LIMIT)\n    );\n    const invalidationIds = [];\n    for (let i = 0; i \u003c stepsCount; i++) {\n      const stepPaths = [\n        ...pathsFile.slice(i * FILE_LIMIT, (i + 1) * FILE_LIMIT),\n        ...pathsWildcard.slice(i * WILDCARD_LIMIT, (i + 1) * WILDCARD_LIMIT)\n      ];\n      invalidationIds.push(\n        await this.invalidateChunk(client, distributionId, stepPaths)\n      );\n    }\n    return invalidationIds;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f21() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f20(__0) {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f22(__0, __1, __2) {\n  return (function() {\n    with({ CreateInvalidationCommand: __f20, __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, CreateInvalidationCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"CreateInvalidationCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"CreateInvalidation\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f23(__0, __1) {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_CreateInvalidationCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f24(__0, __1) {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_CreateInvalidationCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f25() {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19(__0, __1, __2) {\n  return (function() {\n    with({ CreateInvalidationCommand: __f20, this: undefined, arguments: undefined }) {\n\nreturn async function /*invalidateChunk*/(client, distributionId, paths) {\n    const result2 = await client.send(\n      new CreateInvalidationCommand({\n        DistributionId: distributionId,\n        InvalidationBatch: {\n          CallerReference: Date.now().toString(),\n          Paths: {\n            Quantity: paths.length,\n            Items: paths\n          }\n        }\n      })\n    );\n    const invalidationId = result2.Invalidation?.Id;\n    if (!invalidationId) {\n      throw new Error(\"Invalidation ID not found\");\n    }\n    return invalidationId;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst GetInvalidationCommand_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/commands/GetInvalidationCommand.js\");\nconst util_waiter_1 = require(\"@smithy/util-waiter/dist-cjs/index.js\");\n\nfunction __f28(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async (client, input) =\u003e {\n    let reason;\n    try {\n        const result = await client.send(new GetInvalidationCommand_1.GetInvalidationCommand(input));\n        reason = result;\n        try {\n            const returnComparator = () =\u003e {\n                return result.Invalidation.Status;\n            };\n            if (returnComparator() === \"Completed\") {\n                return { state: util_waiter_1.WaiterState.SUCCESS, reason };\n            }\n        }\n        catch (e) { }\n    }\n    catch (exception) {\n        reason = exception;\n    }\n    return { state: util_waiter_1.WaiterState.RETRY, reason };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f27(__0, __1) {\n  return (function() {\n    with({ checkState: __f28, this: undefined, arguments: undefined }) {\n\nreturn async (params, input) =\u003e {\n    const serviceDefaults = { minDelay: 20, maxDelay: 120 };\n    const result = await (0, util_waiter_1.createWaiter)({ ...serviceDefaults, ...params }, input, checkState);\n    return (0, util_waiter_1.checkExceptions)(result);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f26(__0, __1, __2) {\n  return (function() {\n    with({ waitUntilInvalidationCompleted: __f27, this: undefined, arguments: undefined }) {\n\nreturn async function /*waitForInvalidation*/(client, inputs, invalidationIds) {\n    const { distributionId } = inputs;\n    for (const invalidationId of invalidationIds) {\n      try {\n        await waitUntilInvalidationCompleted(\n          {\n            client,\n            maxWaitTime: 600\n          },\n          {\n            DistributionId: distributionId,\n            Id: invalidationId\n          }\n        );\n      } catch (e) {\n      }\n    }\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","distributionId":"E2BOXJ5EIAVU52","paths":["/*"],"version":"34e8d2bb020322aa61661c213a0adff7","wait":true},"outputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nObject.defineProperty(__provider_proto, \"handle\", { configurable: true, writable: true, value: __f4 });\nObject.defineProperty(__provider_proto, \"invalidate\", { configurable: true, writable: true, value: __f18 });\nvar __f20_prototype_proto = {};\nObject.defineProperty(__f20_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f21 });\nvar __f20_prototype = Object.create(__f20_prototype_proto);\nObject.defineProperty(__f20_prototype, \"constructor\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f20_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f20_prototype, \"serialize\", { configurable: true, writable: true, value: __f23 });\nObject.defineProperty(__f20_prototype, \"deserialize\", { configurable: true, writable: true, value: __f24 });\nObject.defineProperty(__f20, \"prototype\", { value: __f20_prototype });\nObject.defineProperty(__f20, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f25 });\nObject.setPrototypeOf(__f20, __f21);\nObject.defineProperty(__provider_proto, \"invalidateChunk\", { configurable: true, writable: true, value: __f19 });\nObject.defineProperty(__provider_proto, \"waitForInvalidation\", { configurable: true, writable: true, value: __f26 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    await this.handle(inputs);\n    return { id: \"invalidation\" };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    await this.handle(news);\n    return {};\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_7, configuration?.extensions || []);\n    __super.call(this, _config_8);\n    this.config = _config_8;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4(__0) {\n  return (function() {\n    with({ useClient: __f5, CloudFrontClient2: __f13, this: undefined, arguments: undefined }) {\n\nreturn async function /*handle*/(inputs) {\n    const client = useClient(CloudFrontClient2);\n    const ids = await this.invalidate(client, inputs);\n    if (inputs.wait) {\n      await this.waitForInvalidation(client, inputs, ids);\n    }\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0, __1) {\n  return (function() {\n    with({ FILE_LIMIT: 3000, WILDCARD_LIMIT: 15, this: undefined, arguments: undefined }) {\n\nreturn async function /*invalidate*/(client, inputs) {\n    const { distributionId, paths } = inputs;\n    const pathsFile = [];\n    const pathsWildcard = [];\n    for (const path17 of paths) {\n      if (path17.trim().endsWith(\"*\")) {\n        pathsWildcard.push(path17);\n      } else {\n        pathsFile.push(path17);\n      }\n    }\n    const stepsCount = Math.max(\n      Math.ceil(pathsFile.length / FILE_LIMIT),\n      Math.ceil(pathsWildcard.length / WILDCARD_LIMIT)\n    );\n    const invalidationIds = [];\n    for (let i = 0; i \u003c stepsCount; i++) {\n      const stepPaths = [\n        ...pathsFile.slice(i * FILE_LIMIT, (i + 1) * FILE_LIMIT),\n        ...pathsWildcard.slice(i * WILDCARD_LIMIT, (i + 1) * WILDCARD_LIMIT)\n      ];\n      invalidationIds.push(\n        await this.invalidateChunk(client, distributionId, stepPaths)\n      );\n    }\n    return invalidationIds;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f21() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f20(__0) {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f22(__0, __1, __2) {\n  return (function() {\n    with({ CreateInvalidationCommand: __f20, __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, CreateInvalidationCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"CreateInvalidationCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"CreateInvalidation\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f23(__0, __1) {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_CreateInvalidationCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f24(__0, __1) {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_CreateInvalidationCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f25() {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19(__0, __1, __2) {\n  return (function() {\n    with({ CreateInvalidationCommand: __f20, this: undefined, arguments: undefined }) {\n\nreturn async function /*invalidateChunk*/(client, distributionId, paths) {\n    const result2 = await client.send(\n      new CreateInvalidationCommand({\n        DistributionId: distributionId,\n        InvalidationBatch: {\n          CallerReference: Date.now().toString(),\n          Paths: {\n            Quantity: paths.length,\n            Items: paths\n          }\n        }\n      })\n    );\n    const invalidationId = result2.Invalidation?.Id;\n    if (!invalidationId) {\n      throw new Error(\"Invalidation ID not found\");\n    }\n    return invalidationId;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst GetInvalidationCommand_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/commands/GetInvalidationCommand.js\");\nconst util_waiter_1 = require(\"@smithy/util-waiter/dist-cjs/index.js\");\n\nfunction __f28(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async (client, input) =\u003e {\n    let reason;\n    try {\n        const result = await client.send(new GetInvalidationCommand_1.GetInvalidationCommand(input));\n        reason = result;\n        try {\n            const returnComparator = () =\u003e {\n                return result.Invalidation.Status;\n            };\n            if (returnComparator() === \"Completed\") {\n                return { state: util_waiter_1.WaiterState.SUCCESS, reason };\n            }\n        }\n        catch (e) { }\n    }\n    catch (exception) {\n        reason = exception;\n    }\n    return { state: util_waiter_1.WaiterState.RETRY, reason };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f27(__0, __1) {\n  return (function() {\n    with({ checkState: __f28, this: undefined, arguments: undefined }) {\n\nreturn async (params, input) =\u003e {\n    const serviceDefaults = { minDelay: 20, maxDelay: 120 };\n    const result = await (0, util_waiter_1.createWaiter)({ ...serviceDefaults, ...params }, input, checkState);\n    return (0, util_waiter_1.checkExceptions)(result);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f26(__0, __1, __2) {\n  return (function() {\n    with({ waitUntilInvalidationCompleted: __f27, this: undefined, arguments: undefined }) {\n\nreturn async function /*waitForInvalidation*/(client, inputs, invalidationIds) {\n    const { distributionId } = inputs;\n    for (const invalidationId of invalidationIds) {\n      try {\n        await waitUntilInvalidationCompleted(\n          {\n            client,\n            maxWaitTime: 600\n          },\n          {\n            DistributionId: distributionId,\n            Id: invalidationId\n          }\n        );\n      } catch (e) {\n      }\n    }\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"},"new":{"type":"pulumi-nodejs:dynamic:Resource","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebInvalidation.sst.aws.DistributionInvalidation","custom":true,"id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nObject.defineProperty(__provider_proto, \"handle\", { configurable: true, writable: true, value: __f4 });\nObject.defineProperty(__provider_proto, \"invalidate\", { configurable: true, writable: true, value: __f18 });\nvar __f20_prototype_proto = {};\nObject.defineProperty(__f20_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f21 });\nvar __f20_prototype = Object.create(__f20_prototype_proto);\nObject.defineProperty(__f20_prototype, \"constructor\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f20_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f20_prototype, \"serialize\", { configurable: true, writable: true, value: __f23 });\nObject.defineProperty(__f20_prototype, \"deserialize\", { configurable: true, writable: true, value: __f24 });\nObject.defineProperty(__f20, \"prototype\", { value: __f20_prototype });\nObject.defineProperty(__f20, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f25 });\nObject.setPrototypeOf(__f20, __f21);\nObject.defineProperty(__provider_proto, \"invalidateChunk\", { configurable: true, writable: true, value: __f19 });\nObject.defineProperty(__provider_proto, \"waitForInvalidation\", { configurable: true, writable: true, value: __f26 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    await this.handle(inputs);\n    return { id: \"invalidation\" };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    await this.handle(news);\n    return {};\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_7, configuration?.extensions || []);\n    __super.call(this, _config_8);\n    this.config = _config_8;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4(__0) {\n  return (function() {\n    with({ useClient: __f5, CloudFrontClient2: __f13, this: undefined, arguments: undefined }) {\n\nreturn async function /*handle*/(inputs) {\n    const client = useClient(CloudFrontClient2);\n    const ids = await this.invalidate(client, inputs);\n    if (inputs.wait) {\n      await this.waitForInvalidation(client, inputs, ids);\n    }\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0, __1) {\n  return (function() {\n    with({ FILE_LIMIT: 3000, WILDCARD_LIMIT: 15, this: undefined, arguments: undefined }) {\n\nreturn async function /*invalidate*/(client, inputs) {\n    const { distributionId, paths } = inputs;\n    const pathsFile = [];\n    const pathsWildcard = [];\n    for (const path17 of paths) {\n      if (path17.trim().endsWith(\"*\")) {\n        pathsWildcard.push(path17);\n      } else {\n        pathsFile.push(path17);\n      }\n    }\n    const stepsCount = Math.max(\n      Math.ceil(pathsFile.length / FILE_LIMIT),\n      Math.ceil(pathsWildcard.length / WILDCARD_LIMIT)\n    );\n    const invalidationIds = [];\n    for (let i = 0; i \u003c stepsCount; i++) {\n      const stepPaths = [\n        ...pathsFile.slice(i * FILE_LIMIT, (i + 1) * FILE_LIMIT),\n        ...pathsWildcard.slice(i * WILDCARD_LIMIT, (i + 1) * WILDCARD_LIMIT)\n      ];\n      invalidationIds.push(\n        await this.invalidateChunk(client, distributionId, stepPaths)\n      );\n    }\n    return invalidationIds;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f21() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f20(__0) {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f22(__0, __1, __2) {\n  return (function() {\n    with({ CreateInvalidationCommand: __f20, __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, CreateInvalidationCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"CreateInvalidationCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"CreateInvalidation\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f23(__0, __1) {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_CreateInvalidationCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f24(__0, __1) {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_CreateInvalidationCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f25() {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19(__0, __1, __2) {\n  return (function() {\n    with({ CreateInvalidationCommand: __f20, this: undefined, arguments: undefined }) {\n\nreturn async function /*invalidateChunk*/(client, distributionId, paths) {\n    const result2 = await client.send(\n      new CreateInvalidationCommand({\n        DistributionId: distributionId,\n        InvalidationBatch: {\n          CallerReference: Date.now().toString(),\n          Paths: {\n            Quantity: paths.length,\n            Items: paths\n          }\n        }\n      })\n    );\n    const invalidationId = result2.Invalidation?.Id;\n    if (!invalidationId) {\n      throw new Error(\"Invalidation ID not found\");\n    }\n    return invalidationId;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst GetInvalidationCommand_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/commands/GetInvalidationCommand.js\");\nconst util_waiter_1 = require(\"@smithy/util-waiter/dist-cjs/index.js\");\n\nfunction __f28(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async (client, input) =\u003e {\n    let reason;\n    try {\n        const result = await client.send(new GetInvalidationCommand_1.GetInvalidationCommand(input));\n        reason = result;\n        try {\n            const returnComparator = () =\u003e {\n                return result.Invalidation.Status;\n            };\n            if (returnComparator() === \"Completed\") {\n                return { state: util_waiter_1.WaiterState.SUCCESS, reason };\n            }\n        }\n        catch (e) { }\n    }\n    catch (exception) {\n        reason = exception;\n    }\n    return { state: util_waiter_1.WaiterState.RETRY, reason };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f27(__0, __1) {\n  return (function() {\n    with({ checkState: __f28, this: undefined, arguments: undefined }) {\n\nreturn async (params, input) =\u003e {\n    const serviceDefaults = { minDelay: 20, maxDelay: 120 };\n    const result = await (0, util_waiter_1.createWaiter)({ ...serviceDefaults, ...params }, input, checkState);\n    return (0, util_waiter_1.checkExceptions)(result);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f26(__0, __1, __2) {\n  return (function() {\n    with({ waitUntilInvalidationCompleted: __f27, this: undefined, arguments: undefined }) {\n\nreturn async function /*waitForInvalidation*/(client, inputs, invalidationIds) {\n    const { distributionId } = inputs;\n    for (const invalidationId of invalidationIds) {\n      try {\n        await waitUntilInvalidationCompleted(\n          {\n            client,\n            maxWaitTime: 600\n          },\n          {\n            DistributionId: distributionId,\n            Id: invalidationId\n          }\n        );\n      } catch (e) {\n      }\n    }\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","distributionId":"E2BOXJ5EIAVU52","paths":["/*"],"version":"34e8d2bb020322aa61661c213a0adff7","wait":true},"outputs":{},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"}},"Error":null}
{"sequence":316,"timestamp":1722566956,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebInvalidation.sst.aws.DistributionInvalidation","type":"pulumi-nodejs:dynamic:Resource","old":{"type":"pulumi-nodejs:dynamic:Resource","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebInvalidation.sst.aws.DistributionInvalidation","custom":true,"id":"invalidation","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nObject.defineProperty(__provider_proto, \"handle\", { configurable: true, writable: true, value: __f4 });\nObject.defineProperty(__provider_proto, \"invalidate\", { configurable: true, writable: true, value: __f18 });\nvar __f20_prototype_proto = {};\nObject.defineProperty(__f20_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f21 });\nvar __f20_prototype = Object.create(__f20_prototype_proto);\nObject.defineProperty(__f20_prototype, \"constructor\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f20_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f20_prototype, \"serialize\", { configurable: true, writable: true, value: __f23 });\nObject.defineProperty(__f20_prototype, \"deserialize\", { configurable: true, writable: true, value: __f24 });\nObject.defineProperty(__f20, \"prototype\", { value: __f20_prototype });\nObject.defineProperty(__f20, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f25 });\nObject.setPrototypeOf(__f20, __f21);\nObject.defineProperty(__provider_proto, \"invalidateChunk\", { configurable: true, writable: true, value: __f19 });\nObject.defineProperty(__provider_proto, \"waitForInvalidation\", { configurable: true, writable: true, value: __f26 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    await this.handle(inputs);\n    return { id: \"invalidation\" };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    await this.handle(news);\n    return {};\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_7, configuration?.extensions || []);\n    __super.call(this, _config_8);\n    this.config = _config_8;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4(__0) {\n  return (function() {\n    with({ useClient: __f5, CloudFrontClient2: __f13, this: undefined, arguments: undefined }) {\n\nreturn async function /*handle*/(inputs) {\n    const client = useClient(CloudFrontClient2);\n    const ids = await this.invalidate(client, inputs);\n    if (inputs.wait) {\n      await this.waitForInvalidation(client, inputs, ids);\n    }\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0, __1) {\n  return (function() {\n    with({ FILE_LIMIT: 3000, WILDCARD_LIMIT: 15, this: undefined, arguments: undefined }) {\n\nreturn async function /*invalidate*/(client, inputs) {\n    const { distributionId, paths } = inputs;\n    const pathsFile = [];\n    const pathsWildcard = [];\n    for (const path17 of paths) {\n      if (path17.trim().endsWith(\"*\")) {\n        pathsWildcard.push(path17);\n      } else {\n        pathsFile.push(path17);\n      }\n    }\n    const stepsCount = Math.max(\n      Math.ceil(pathsFile.length / FILE_LIMIT),\n      Math.ceil(pathsWildcard.length / WILDCARD_LIMIT)\n    );\n    const invalidationIds = [];\n    for (let i = 0; i \u003c stepsCount; i++) {\n      const stepPaths = [\n        ...pathsFile.slice(i * FILE_LIMIT, (i + 1) * FILE_LIMIT),\n        ...pathsWildcard.slice(i * WILDCARD_LIMIT, (i + 1) * WILDCARD_LIMIT)\n      ];\n      invalidationIds.push(\n        await this.invalidateChunk(client, distributionId, stepPaths)\n      );\n    }\n    return invalidationIds;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f21() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f20(__0) {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f22(__0, __1, __2) {\n  return (function() {\n    with({ CreateInvalidationCommand: __f20, __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, CreateInvalidationCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"CreateInvalidationCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"CreateInvalidation\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f23(__0, __1) {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_CreateInvalidationCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f24(__0, __1) {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_CreateInvalidationCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f25() {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19(__0, __1, __2) {\n  return (function() {\n    with({ CreateInvalidationCommand: __f20, this: undefined, arguments: undefined }) {\n\nreturn async function /*invalidateChunk*/(client, distributionId, paths) {\n    const result2 = await client.send(\n      new CreateInvalidationCommand({\n        DistributionId: distributionId,\n        InvalidationBatch: {\n          CallerReference: Date.now().toString(),\n          Paths: {\n            Quantity: paths.length,\n            Items: paths\n          }\n        }\n      })\n    );\n    const invalidationId = result2.Invalidation?.Id;\n    if (!invalidationId) {\n      throw new Error(\"Invalidation ID not found\");\n    }\n    return invalidationId;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst GetInvalidationCommand_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/commands/GetInvalidationCommand.js\");\nconst util_waiter_1 = require(\"@smithy/util-waiter/dist-cjs/index.js\");\n\nfunction __f28(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async (client, input) =\u003e {\n    let reason;\n    try {\n        const result = await client.send(new GetInvalidationCommand_1.GetInvalidationCommand(input));\n        reason = result;\n        try {\n            const returnComparator = () =\u003e {\n                return result.Invalidation.Status;\n            };\n            if (returnComparator() === \"Completed\") {\n                return { state: util_waiter_1.WaiterState.SUCCESS, reason };\n            }\n        }\n        catch (e) { }\n    }\n    catch (exception) {\n        reason = exception;\n    }\n    return { state: util_waiter_1.WaiterState.RETRY, reason };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f27(__0, __1) {\n  return (function() {\n    with({ checkState: __f28, this: undefined, arguments: undefined }) {\n\nreturn async (params, input) =\u003e {\n    const serviceDefaults = { minDelay: 20, maxDelay: 120 };\n    const result = await (0, util_waiter_1.createWaiter)({ ...serviceDefaults, ...params }, input, checkState);\n    return (0, util_waiter_1.checkExceptions)(result);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f26(__0, __1, __2) {\n  return (function() {\n    with({ waitUntilInvalidationCompleted: __f27, this: undefined, arguments: undefined }) {\n\nreturn async function /*waitForInvalidation*/(client, inputs, invalidationIds) {\n    const { distributionId } = inputs;\n    for (const invalidationId of invalidationIds) {\n      try {\n        await waitUntilInvalidationCompleted(\n          {\n            client,\n            maxWaitTime: 600\n          },\n          {\n            DistributionId: distributionId,\n            Id: invalidationId\n          }\n        );\n      } catch (e) {\n      }\n    }\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","distributionId":"E2BOXJ5EIAVU52","paths":["/*"],"version":"34e8d2bb020322aa61661c213a0adff7","wait":true},"outputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nObject.defineProperty(__provider_proto, \"handle\", { configurable: true, writable: true, value: __f4 });\nObject.defineProperty(__provider_proto, \"invalidate\", { configurable: true, writable: true, value: __f18 });\nvar __f20_prototype_proto = {};\nObject.defineProperty(__f20_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f21 });\nvar __f20_prototype = Object.create(__f20_prototype_proto);\nObject.defineProperty(__f20_prototype, \"constructor\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f20_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f20_prototype, \"serialize\", { configurable: true, writable: true, value: __f23 });\nObject.defineProperty(__f20_prototype, \"deserialize\", { configurable: true, writable: true, value: __f24 });\nObject.defineProperty(__f20, \"prototype\", { value: __f20_prototype });\nObject.defineProperty(__f20, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f25 });\nObject.setPrototypeOf(__f20, __f21);\nObject.defineProperty(__provider_proto, \"invalidateChunk\", { configurable: true, writable: true, value: __f19 });\nObject.defineProperty(__provider_proto, \"waitForInvalidation\", { configurable: true, writable: true, value: __f26 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    await this.handle(inputs);\n    return { id: \"invalidation\" };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    await this.handle(news);\n    return {};\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_7, configuration?.extensions || []);\n    __super.call(this, _config_8);\n    this.config = _config_8;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4(__0) {\n  return (function() {\n    with({ useClient: __f5, CloudFrontClient2: __f13, this: undefined, arguments: undefined }) {\n\nreturn async function /*handle*/(inputs) {\n    const client = useClient(CloudFrontClient2);\n    const ids = await this.invalidate(client, inputs);\n    if (inputs.wait) {\n      await this.waitForInvalidation(client, inputs, ids);\n    }\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0, __1) {\n  return (function() {\n    with({ FILE_LIMIT: 3000, WILDCARD_LIMIT: 15, this: undefined, arguments: undefined }) {\n\nreturn async function /*invalidate*/(client, inputs) {\n    const { distributionId, paths } = inputs;\n    const pathsFile = [];\n    const pathsWildcard = [];\n    for (const path17 of paths) {\n      if (path17.trim().endsWith(\"*\")) {\n        pathsWildcard.push(path17);\n      } else {\n        pathsFile.push(path17);\n      }\n    }\n    const stepsCount = Math.max(\n      Math.ceil(pathsFile.length / FILE_LIMIT),\n      Math.ceil(pathsWildcard.length / WILDCARD_LIMIT)\n    );\n    const invalidationIds = [];\n    for (let i = 0; i \u003c stepsCount; i++) {\n      const stepPaths = [\n        ...pathsFile.slice(i * FILE_LIMIT, (i + 1) * FILE_LIMIT),\n        ...pathsWildcard.slice(i * WILDCARD_LIMIT, (i + 1) * WILDCARD_LIMIT)\n      ];\n      invalidationIds.push(\n        await this.invalidateChunk(client, distributionId, stepPaths)\n      );\n    }\n    return invalidationIds;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f21() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f20(__0) {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f22(__0, __1, __2) {\n  return (function() {\n    with({ CreateInvalidationCommand: __f20, __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, CreateInvalidationCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"CreateInvalidationCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"CreateInvalidation\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f23(__0, __1) {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_CreateInvalidationCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f24(__0, __1) {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_CreateInvalidationCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f25() {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19(__0, __1, __2) {\n  return (function() {\n    with({ CreateInvalidationCommand: __f20, this: undefined, arguments: undefined }) {\n\nreturn async function /*invalidateChunk*/(client, distributionId, paths) {\n    const result2 = await client.send(\n      new CreateInvalidationCommand({\n        DistributionId: distributionId,\n        InvalidationBatch: {\n          CallerReference: Date.now().toString(),\n          Paths: {\n            Quantity: paths.length,\n            Items: paths\n          }\n        }\n      })\n    );\n    const invalidationId = result2.Invalidation?.Id;\n    if (!invalidationId) {\n      throw new Error(\"Invalidation ID not found\");\n    }\n    return invalidationId;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst GetInvalidationCommand_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/commands/GetInvalidationCommand.js\");\nconst util_waiter_1 = require(\"@smithy/util-waiter/dist-cjs/index.js\");\n\nfunction __f28(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async (client, input) =\u003e {\n    let reason;\n    try {\n        const result = await client.send(new GetInvalidationCommand_1.GetInvalidationCommand(input));\n        reason = result;\n        try {\n            const returnComparator = () =\u003e {\n                return result.Invalidation.Status;\n            };\n            if (returnComparator() === \"Completed\") {\n                return { state: util_waiter_1.WaiterState.SUCCESS, reason };\n            }\n        }\n        catch (e) { }\n    }\n    catch (exception) {\n        reason = exception;\n    }\n    return { state: util_waiter_1.WaiterState.RETRY, reason };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f27(__0, __1) {\n  return (function() {\n    with({ checkState: __f28, this: undefined, arguments: undefined }) {\n\nreturn async (params, input) =\u003e {\n    const serviceDefaults = { minDelay: 20, maxDelay: 120 };\n    const result = await (0, util_waiter_1.createWaiter)({ ...serviceDefaults, ...params }, input, checkState);\n    return (0, util_waiter_1.checkExceptions)(result);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f26(__0, __1, __2) {\n  return (function() {\n    with({ waitUntilInvalidationCompleted: __f27, this: undefined, arguments: undefined }) {\n\nreturn async function /*waitForInvalidation*/(client, inputs, invalidationIds) {\n    const { distributionId } = inputs;\n    for (const invalidationId of invalidationIds) {\n      try {\n        await waitUntilInvalidationCompleted(\n          {\n            client,\n            maxWaitTime: 600\n          },\n          {\n            DistributionId: distributionId,\n            Id: invalidationId\n          }\n        );\n      } catch (e) {\n      }\n    }\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"},"new":{"type":"pulumi-nodejs:dynamic:Resource","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebInvalidation.sst.aws.DistributionInvalidation","custom":true,"id":"invalidation","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nObject.defineProperty(__provider_proto, \"handle\", { configurable: true, writable: true, value: __f4 });\nObject.defineProperty(__provider_proto, \"invalidate\", { configurable: true, writable: true, value: __f18 });\nvar __f20_prototype_proto = {};\nObject.defineProperty(__f20_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f21 });\nvar __f20_prototype = Object.create(__f20_prototype_proto);\nObject.defineProperty(__f20_prototype, \"constructor\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f20_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f20_prototype, \"serialize\", { configurable: true, writable: true, value: __f23 });\nObject.defineProperty(__f20_prototype, \"deserialize\", { configurable: true, writable: true, value: __f24 });\nObject.defineProperty(__f20, \"prototype\", { value: __f20_prototype });\nObject.defineProperty(__f20, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f25 });\nObject.setPrototypeOf(__f20, __f21);\nObject.defineProperty(__provider_proto, \"invalidateChunk\", { configurable: true, writable: true, value: __f19 });\nObject.defineProperty(__provider_proto, \"waitForInvalidation\", { configurable: true, writable: true, value: __f26 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    await this.handle(inputs);\n    return { id: \"invalidation\" };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    await this.handle(news);\n    return {};\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_7, configuration?.extensions || []);\n    __super.call(this, _config_8);\n    this.config = _config_8;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4(__0) {\n  return (function() {\n    with({ useClient: __f5, CloudFrontClient2: __f13, this: undefined, arguments: undefined }) {\n\nreturn async function /*handle*/(inputs) {\n    const client = useClient(CloudFrontClient2);\n    const ids = await this.invalidate(client, inputs);\n    if (inputs.wait) {\n      await this.waitForInvalidation(client, inputs, ids);\n    }\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0, __1) {\n  return (function() {\n    with({ FILE_LIMIT: 3000, WILDCARD_LIMIT: 15, this: undefined, arguments: undefined }) {\n\nreturn async function /*invalidate*/(client, inputs) {\n    const { distributionId, paths } = inputs;\n    const pathsFile = [];\n    const pathsWildcard = [];\n    for (const path17 of paths) {\n      if (path17.trim().endsWith(\"*\")) {\n        pathsWildcard.push(path17);\n      } else {\n        pathsFile.push(path17);\n      }\n    }\n    const stepsCount = Math.max(\n      Math.ceil(pathsFile.length / FILE_LIMIT),\n      Math.ceil(pathsWildcard.length / WILDCARD_LIMIT)\n    );\n    const invalidationIds = [];\n    for (let i = 0; i \u003c stepsCount; i++) {\n      const stepPaths = [\n        ...pathsFile.slice(i * FILE_LIMIT, (i + 1) * FILE_LIMIT),\n        ...pathsWildcard.slice(i * WILDCARD_LIMIT, (i + 1) * WILDCARD_LIMIT)\n      ];\n      invalidationIds.push(\n        await this.invalidateChunk(client, distributionId, stepPaths)\n      );\n    }\n    return invalidationIds;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f21() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f20(__0) {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f22(__0, __1, __2) {\n  return (function() {\n    with({ CreateInvalidationCommand: __f20, __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, CreateInvalidationCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"CreateInvalidationCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"CreateInvalidation\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f23(__0, __1) {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_CreateInvalidationCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f24(__0, __1) {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_CreateInvalidationCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f25() {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19(__0, __1, __2) {\n  return (function() {\n    with({ CreateInvalidationCommand: __f20, this: undefined, arguments: undefined }) {\n\nreturn async function /*invalidateChunk*/(client, distributionId, paths) {\n    const result2 = await client.send(\n      new CreateInvalidationCommand({\n        DistributionId: distributionId,\n        InvalidationBatch: {\n          CallerReference: Date.now().toString(),\n          Paths: {\n            Quantity: paths.length,\n            Items: paths\n          }\n        }\n      })\n    );\n    const invalidationId = result2.Invalidation?.Id;\n    if (!invalidationId) {\n      throw new Error(\"Invalidation ID not found\");\n    }\n    return invalidationId;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst GetInvalidationCommand_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/commands/GetInvalidationCommand.js\");\nconst util_waiter_1 = require(\"@smithy/util-waiter/dist-cjs/index.js\");\n\nfunction __f28(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async (client, input) =\u003e {\n    let reason;\n    try {\n        const result = await client.send(new GetInvalidationCommand_1.GetInvalidationCommand(input));\n        reason = result;\n        try {\n            const returnComparator = () =\u003e {\n                return result.Invalidation.Status;\n            };\n            if (returnComparator() === \"Completed\") {\n                return { state: util_waiter_1.WaiterState.SUCCESS, reason };\n            }\n        }\n        catch (e) { }\n    }\n    catch (exception) {\n        reason = exception;\n    }\n    return { state: util_waiter_1.WaiterState.RETRY, reason };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f27(__0, __1) {\n  return (function() {\n    with({ checkState: __f28, this: undefined, arguments: undefined }) {\n\nreturn async (params, input) =\u003e {\n    const serviceDefaults = { minDelay: 20, maxDelay: 120 };\n    const result = await (0, util_waiter_1.createWaiter)({ ...serviceDefaults, ...params }, input, checkState);\n    return (0, util_waiter_1.checkExceptions)(result);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f26(__0, __1, __2) {\n  return (function() {\n    with({ waitUntilInvalidationCompleted: __f27, this: undefined, arguments: undefined }) {\n\nreturn async function /*waitForInvalidation*/(client, inputs, invalidationIds) {\n    const { distributionId } = inputs;\n    for (const invalidationId of invalidationIds) {\n      try {\n        await waitUntilInvalidationCompleted(\n          {\n            client,\n            maxWaitTime: 600\n          },\n          {\n            DistributionId: distributionId,\n            Id: invalidationId\n          }\n        );\n      } catch (e) {\n      }\n    }\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","distributionId":"E2BOXJ5EIAVU52","paths":["/*"],"version":"34e8d2bb020322aa61661c213a0adff7","wait":true},"outputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nObject.defineProperty(__provider_proto, \"handle\", { configurable: true, writable: true, value: __f4 });\nObject.defineProperty(__provider_proto, \"invalidate\", { configurable: true, writable: true, value: __f18 });\nvar __f20_prototype_proto = {};\nObject.defineProperty(__f20_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f21 });\nvar __f20_prototype = Object.create(__f20_prototype_proto);\nObject.defineProperty(__f20_prototype, \"constructor\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f20_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f20_prototype, \"serialize\", { configurable: true, writable: true, value: __f23 });\nObject.defineProperty(__f20_prototype, \"deserialize\", { configurable: true, writable: true, value: __f24 });\nObject.defineProperty(__f20, \"prototype\", { value: __f20_prototype });\nObject.defineProperty(__f20, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f25 });\nObject.setPrototypeOf(__f20, __f21);\nObject.defineProperty(__provider_proto, \"invalidateChunk\", { configurable: true, writable: true, value: __f19 });\nObject.defineProperty(__provider_proto, \"waitForInvalidation\", { configurable: true, writable: true, value: __f26 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    await this.handle(inputs);\n    return { id: \"invalidation\" };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    await this.handle(news);\n    return {};\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_7, configuration?.extensions || []);\n    __super.call(this, _config_8);\n    this.config = _config_8;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4(__0) {\n  return (function() {\n    with({ useClient: __f5, CloudFrontClient2: __f13, this: undefined, arguments: undefined }) {\n\nreturn async function /*handle*/(inputs) {\n    const client = useClient(CloudFrontClient2);\n    const ids = await this.invalidate(client, inputs);\n    if (inputs.wait) {\n      await this.waitForInvalidation(client, inputs, ids);\n    }\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0, __1) {\n  return (function() {\n    with({ FILE_LIMIT: 3000, WILDCARD_LIMIT: 15, this: undefined, arguments: undefined }) {\n\nreturn async function /*invalidate*/(client, inputs) {\n    const { distributionId, paths } = inputs;\n    const pathsFile = [];\n    const pathsWildcard = [];\n    for (const path17 of paths) {\n      if (path17.trim().endsWith(\"*\")) {\n        pathsWildcard.push(path17);\n      } else {\n        pathsFile.push(path17);\n      }\n    }\n    const stepsCount = Math.max(\n      Math.ceil(pathsFile.length / FILE_LIMIT),\n      Math.ceil(pathsWildcard.length / WILDCARD_LIMIT)\n    );\n    const invalidationIds = [];\n    for (let i = 0; i \u003c stepsCount; i++) {\n      const stepPaths = [\n        ...pathsFile.slice(i * FILE_LIMIT, (i + 1) * FILE_LIMIT),\n        ...pathsWildcard.slice(i * WILDCARD_LIMIT, (i + 1) * WILDCARD_LIMIT)\n      ];\n      invalidationIds.push(\n        await this.invalidateChunk(client, distributionId, stepPaths)\n      );\n    }\n    return invalidationIds;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f21() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f20(__0) {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f22(__0, __1, __2) {\n  return (function() {\n    with({ CreateInvalidationCommand: __f20, __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, CreateInvalidationCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"CreateInvalidationCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"CreateInvalidation\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f23(__0, __1) {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_CreateInvalidationCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f24(__0, __1) {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_CreateInvalidationCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f25() {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19(__0, __1, __2) {\n  return (function() {\n    with({ CreateInvalidationCommand: __f20, this: undefined, arguments: undefined }) {\n\nreturn async function /*invalidateChunk*/(client, distributionId, paths) {\n    const result2 = await client.send(\n      new CreateInvalidationCommand({\n        DistributionId: distributionId,\n        InvalidationBatch: {\n          CallerReference: Date.now().toString(),\n          Paths: {\n            Quantity: paths.length,\n            Items: paths\n          }\n        }\n      })\n    );\n    const invalidationId = result2.Invalidation?.Id;\n    if (!invalidationId) {\n      throw new Error(\"Invalidation ID not found\");\n    }\n    return invalidationId;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst GetInvalidationCommand_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/commands/GetInvalidationCommand.js\");\nconst util_waiter_1 = require(\"@smithy/util-waiter/dist-cjs/index.js\");\n\nfunction __f28(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async (client, input) =\u003e {\n    let reason;\n    try {\n        const result = await client.send(new GetInvalidationCommand_1.GetInvalidationCommand(input));\n        reason = result;\n        try {\n            const returnComparator = () =\u003e {\n                return result.Invalidation.Status;\n            };\n            if (returnComparator() === \"Completed\") {\n                return { state: util_waiter_1.WaiterState.SUCCESS, reason };\n            }\n        }\n        catch (e) { }\n    }\n    catch (exception) {\n        reason = exception;\n    }\n    return { state: util_waiter_1.WaiterState.RETRY, reason };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f27(__0, __1) {\n  return (function() {\n    with({ checkState: __f28, this: undefined, arguments: undefined }) {\n\nreturn async (params, input) =\u003e {\n    const serviceDefaults = { minDelay: 20, maxDelay: 120 };\n    const result = await (0, util_waiter_1.createWaiter)({ ...serviceDefaults, ...params }, input, checkState);\n    return (0, util_waiter_1.checkExceptions)(result);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f26(__0, __1, __2) {\n  return (function() {\n    with({ waitUntilInvalidationCompleted: __f27, this: undefined, arguments: undefined }) {\n\nreturn async function /*waitForInvalidation*/(client, inputs, invalidationIds) {\n    const { distributionId } = inputs;\n    for (const invalidationId of invalidationIds) {\n      try {\n        await waitUntilInvalidationCompleted(\n          {\n            client,\n            maxWaitTime: 600\n          },\n          {\n            DistributionId: distributionId,\n            Id: invalidationId\n          }\n        );\n      } catch (e) {\n      }\n    }\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"}},"Error":null}
{"sequence":317,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebInvalidation.sst.aws.DistributionInvalidation[pulumi-nodejs:dynamic:Resource]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$pulumi-nodejs:dynamic:Resource::MyWebInvalidation.sst.aws.DistributionInvalidation,invalidation,__provider,,,exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nObject.defineProperty(__provider_proto, \"handle\", { configurable: true, writable: true, value: __f4 });\nObject.defineProperty(__provider_proto, \"invalidate\", { configurable: true, writable: true, value: __f18 });\nvar __f20_prototype_proto = {};\nObject.defineProperty(__f20_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f21 });\nvar __f20_prototype = Object.create(__f20_prototype_proto);\nObject.defineProperty(__f20_prototype, \"constructor\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f20_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f20_prototype, \"serialize\", { configurable: true, writable: true, value: __f23 });\nObject.defineProperty(__f20_prototype, \"deserialize\", { configurable: true, writable: true, value: __f24 });\nObject.defineProperty(__f20, \"prototype\", { value: __f20_prototype });\nObject.defineProperty(__f20, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f25 });\nObject.setPrototypeOf(__f20, __f21);\nObject.defineProperty(__provider_proto, \"invalidateChunk\", { configurable: true, writable: true, value: __f19 });\nObject.defineProperty(__provider_proto, \"waitForInvalidation\", { configurable: true, writable: true, value: __f26 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    await this.handle(inputs);\n    return { id: \"invalidation\" };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    await this.handle(news);\n    return {};\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_7, configuration?.extensions || []);\n    __super.call(this, _config_8);\n    this.config = _config_8;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4(__0) {\n  return (function() {\n    with({ useClient: __f5, CloudFrontClient2: __f13, this: undefined, arguments: undefined }) {\n\nreturn async function /*handle*/(inputs) {\n    const client = useClient(CloudFrontClient2);\n    const ids = await this.invalidate(client, inputs);\n    if (inputs.wait) {\n      await this.waitForInvalidation(client, inputs, ids);\n    }\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0, __1) {\n  return (function() {\n    with({ FILE_LIMIT: 3000, WILDCARD_LIMIT: 15, this: undefined, arguments: undefined }) {\n\nreturn async function /*invalidate*/(client, inputs) {\n    const { distributionId, paths } = inputs;\n    const pathsFile = [];\n    const pathsWildcard = [];\n    for (const path17 of paths) {\n      if (path17.trim().endsWith(\"*\")) {\n        pathsWildcard.push(path17);\n      } else {\n        pathsFile.push(path17);\n      }\n    }\n    const stepsCount = Math.max(\n      Math.ceil(pathsFile.length / FILE_LIMIT),\n      Math.ceil(pathsWildcard.length / WILDCARD_LIMIT)\n    );\n    const invalidationIds = [];\n    for (let i = 0; i \u003c stepsCount; i++) {\n      const stepPaths = [\n        ...pathsFile.slice(i * FILE_LIMIT, (i + 1) * FILE_LIMIT),\n        ...pathsWildcard.slice(i * WILDCARD_LIMIT, (i + 1) * WILDCARD_LIMIT)\n      ];\n      invalidationIds.push(\n        await this.invalidateChunk(client, distributionId, stepPaths)\n      );\n    }\n    return invalidationIds;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f21() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f20(__0) {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f22(__0, __1, __2) {\n  return (function() {\n    with({ CreateInvalidationCommand: __f20, __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, CreateInvalidationCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"CreateInvalidationCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: (_) =\u003e _,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"CreateInvalidation\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f23(__0, __1) {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_CreateInvalidationCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f24(__0, __1) {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_CreateInvalidationCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f25() {\n  return (function() {\n    with({ __super: __f21, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19(__0, __1, __2) {\n  return (function() {\n    with({ CreateInvalidationCommand: __f20, this: undefined, arguments: undefined }) {\n\nreturn async function /*invalidateChunk*/(client, distributionId, paths) {\n    const result2 = await client.send(\n      new CreateInvalidationCommand({\n        DistributionId: distributionId,\n        InvalidationBatch: {\n          CallerReference: Date.now().toString(),\n          Paths: {\n            Quantity: paths.length,\n            Items: paths\n          }\n        }\n      })\n    );\n    const invalidationId = result2.Invalidation?.Id;\n    if (!invalidationId) {\n      throw new Error(\"Invalidation ID not found\");\n    }\n    return invalidationId;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst GetInvalidationCommand_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/commands/GetInvalidationCommand.js\");\nconst util_waiter_1 = require(\"@smithy/util-waiter/dist-cjs/index.js\");\n\nfunction __f28(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async (client, input) =\u003e {\n    let reason;\n    try {\n        const result = await client.send(new GetInvalidationCommand_1.GetInvalidationCommand(input));\n        reason = result;\n        try {\n            const returnComparator = () =\u003e {\n                return result.Invalidation.Status;\n            };\n            if (returnComparator() === \"Completed\") {\n                return { state: util_waiter_1.WaiterState.SUCCESS, reason };\n            }\n        }\n        catch (e) { }\n    }\n    catch (exception) {\n        reason = exception;\n    }\n    return { state: util_waiter_1.WaiterState.RETRY, reason };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f27(__0, __1) {\n  return (function() {\n    with({ checkState: __f28, this: undefined, arguments: undefined }) {\n\nreturn async (params, input) =\u003e {\n    const serviceDefaults = { minDelay: 20, maxDelay: 120 };\n    const result = await (0, util_waiter_1.createWaiter)({ ...serviceDefaults, ...params }, input, checkState);\n    return (0, util_waiter_1.checkExceptions)(result);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f26(__0, __1, __2) {\n  return (function() {\n    with({ waitUntilInvalidationCompleted: __f27, this: undefined, arguments: undefined }) {\n\nreturn async function /*waitForInvalidation*/(client, inputs, invalidationIds) {\n    const { distributionId } = inputs;\n    for (const invalidationId of invalidationIds) {\n      try {\n        await waitUntilInvalidationCompleted(\n          {\n            client,\n            maxWaitTime: 600\n          },\n          {\n            DistributionId: distributionId,\n            Id: invalidationId\n          }\n        );\n      } catch (e) {\n      }\n    }\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":318,"timestamp":1722566956,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN$pulumi-nodejs:dynamic:Resource::MyWebCdnWaiter.sst.aws.DistributionDeploymentWaiter","type":"pulumi-nodejs:dynamic:Resource","old":{"type":"pulumi-nodejs:dynamic:Resource","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN$pulumi-nodejs:dynamic:Resource::MyWebCdnWaiter.sst.aws.DistributionDeploymentWaiter","custom":true,"id":"waiter","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN::MyWebCdn","inputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nvar __f18_prototype_proto = {};\nObject.defineProperty(__f18_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f19 });\nvar __f18_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f18_prototype, \"constructor\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f18_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f18_prototype, \"serialize\", { configurable: true, writable: true, value: __f21 });\nObject.defineProperty(__f18_prototype, \"deserialize\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f18, \"prototype\", { value: __f18_prototype });\nObject.defineProperty(__f18, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f23 });\nObject.setPrototypeOf(__f18, __f19);\nObject.defineProperty(__provider_proto, \"handle\", { configurable: true, writable: true, value: __f4 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    await this.handle(inputs);\n    return { id: \"waiter\", outs: { isDone: true } };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    await this.handle(news);\n    return { outs: { isDone: true } };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_7, configuration?.extensions || []);\n    __super.call(this, _config_8);\n    this.config = _config_8;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst models_1_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/models/models_1.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f20(__0, __1, __2) {\n  return (function() {\n    with({ GetDistributionCommand: __f18, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, GetDistributionCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"GetDistributionCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: models_1_1.GetDistributionResultFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"GetDistribution\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f21(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_GetDistributionCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_GetDistributionCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4(__0) {\n  return (function() {\n    with({ useClient: __f5, CloudFrontClient: __f13, GetDistributionCommand: __f18, this: undefined, arguments: undefined }) {\n\nreturn async function /*handle*/(inputs) {\n    if (!inputs.wait)\n      return;\n    const { distributionId } = inputs;\n    const client = useClient(CloudFrontClient);\n    const start = Date.now();\n    do {\n      const result2 = await client.send(\n        new GetDistributionCommand({\n          Id: distributionId\n        })\n      );\n      if (result2.Distribution?.Status === \"Deployed\")\n        return;\n      await new Promise((resolve) =\u003e setTimeout(resolve, 5e3));\n    } while (Date.now() - start \u003c 3e5);\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","distributionId":"E2BOXJ5EIAVU52","etag":"EUBOWUTNQRZUQ","wait":true},"outputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nvar __f18_prototype_proto = {};\nObject.defineProperty(__f18_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f19 });\nvar __f18_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f18_prototype, \"constructor\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f18_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f18_prototype, \"serialize\", { configurable: true, writable: true, value: __f21 });\nObject.defineProperty(__f18_prototype, \"deserialize\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f18, \"prototype\", { value: __f18_prototype });\nObject.defineProperty(__f18, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f23 });\nObject.setPrototypeOf(__f18, __f19);\nObject.defineProperty(__provider_proto, \"handle\", { configurable: true, writable: true, value: __f4 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    await this.handle(inputs);\n    return { id: \"waiter\", outs: { isDone: true } };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    await this.handle(news);\n    return { outs: { isDone: true } };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_7, configuration?.extensions || []);\n    __super.call(this, _config_8);\n    this.config = _config_8;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst models_1_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/models/models_1.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f20(__0, __1, __2) {\n  return (function() {\n    with({ GetDistributionCommand: __f18, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, GetDistributionCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"GetDistributionCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: models_1_1.GetDistributionResultFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"GetDistribution\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f21(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_GetDistributionCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_GetDistributionCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4(__0) {\n  return (function() {\n    with({ useClient: __f5, CloudFrontClient: __f13, GetDistributionCommand: __f18, this: undefined, arguments: undefined }) {\n\nreturn async function /*handle*/(inputs) {\n    if (!inputs.wait)\n      return;\n    const { distributionId } = inputs;\n    const client = useClient(CloudFrontClient);\n    const start = Date.now();\n    do {\n      const result2 = await client.send(\n        new GetDistributionCommand({\n          Id: distributionId\n        })\n      );\n      if (result2.Distribution?.Status === \"Deployed\")\n        return;\n      await new Promise((resolve) =\u003e setTimeout(resolve, 5e3));\n    } while (Date.now() - start \u003c 3e5);\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","isDone":true},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"},"new":{"type":"pulumi-nodejs:dynamic:Resource","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN$pulumi-nodejs:dynamic:Resource::MyWebCdnWaiter.sst.aws.DistributionDeploymentWaiter","custom":true,"id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN::MyWebCdn","inputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nvar __f18_prototype_proto = {};\nObject.defineProperty(__f18_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f19 });\nvar __f18_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f18_prototype, \"constructor\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f18_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f18_prototype, \"serialize\", { configurable: true, writable: true, value: __f21 });\nObject.defineProperty(__f18_prototype, \"deserialize\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f18, \"prototype\", { value: __f18_prototype });\nObject.defineProperty(__f18, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f23 });\nObject.setPrototypeOf(__f18, __f19);\nObject.defineProperty(__provider_proto, \"handle\", { configurable: true, writable: true, value: __f4 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    await this.handle(inputs);\n    return { id: \"waiter\", outs: { isDone: true } };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    await this.handle(news);\n    return { outs: { isDone: true } };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_7, configuration?.extensions || []);\n    __super.call(this, _config_8);\n    this.config = _config_8;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst models_1_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/models/models_1.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f20(__0, __1, __2) {\n  return (function() {\n    with({ GetDistributionCommand: __f18, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, GetDistributionCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"GetDistributionCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: models_1_1.GetDistributionResultFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"GetDistribution\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f21(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_GetDistributionCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_GetDistributionCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4(__0) {\n  return (function() {\n    with({ useClient: __f5, CloudFrontClient: __f13, GetDistributionCommand: __f18, this: undefined, arguments: undefined }) {\n\nreturn async function /*handle*/(inputs) {\n    if (!inputs.wait)\n      return;\n    const { distributionId } = inputs;\n    const client = useClient(CloudFrontClient);\n    const start = Date.now();\n    do {\n      const result2 = await client.send(\n        new GetDistributionCommand({\n          Id: distributionId\n        })\n      );\n      if (result2.Distribution?.Status === \"Deployed\")\n        return;\n      await new Promise((resolve) =\u003e setTimeout(resolve, 5e3));\n    } while (Date.now() - start \u003c 3e5);\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","distributionId":"E2BOXJ5EIAVU52","etag":"EUBOWUTNQRZUQ","wait":true},"outputs":{},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"}},"Error":null}
{"sequence":319,"timestamp":1722566956,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN$pulumi-nodejs:dynamic:Resource::MyWebCdnWaiter.sst.aws.DistributionDeploymentWaiter","type":"pulumi-nodejs:dynamic:Resource","old":{"type":"pulumi-nodejs:dynamic:Resource","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN$pulumi-nodejs:dynamic:Resource::MyWebCdnWaiter.sst.aws.DistributionDeploymentWaiter","custom":true,"id":"waiter","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN::MyWebCdn","inputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nvar __f18_prototype_proto = {};\nObject.defineProperty(__f18_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f19 });\nvar __f18_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f18_prototype, \"constructor\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f18_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f18_prototype, \"serialize\", { configurable: true, writable: true, value: __f21 });\nObject.defineProperty(__f18_prototype, \"deserialize\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f18, \"prototype\", { value: __f18_prototype });\nObject.defineProperty(__f18, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f23 });\nObject.setPrototypeOf(__f18, __f19);\nObject.defineProperty(__provider_proto, \"handle\", { configurable: true, writable: true, value: __f4 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    await this.handle(inputs);\n    return { id: \"waiter\", outs: { isDone: true } };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    await this.handle(news);\n    return { outs: { isDone: true } };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_7, configuration?.extensions || []);\n    __super.call(this, _config_8);\n    this.config = _config_8;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst models_1_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/models/models_1.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f20(__0, __1, __2) {\n  return (function() {\n    with({ GetDistributionCommand: __f18, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, GetDistributionCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"GetDistributionCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: models_1_1.GetDistributionResultFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"GetDistribution\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f21(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_GetDistributionCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_GetDistributionCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4(__0) {\n  return (function() {\n    with({ useClient: __f5, CloudFrontClient: __f13, GetDistributionCommand: __f18, this: undefined, arguments: undefined }) {\n\nreturn async function /*handle*/(inputs) {\n    if (!inputs.wait)\n      return;\n    const { distributionId } = inputs;\n    const client = useClient(CloudFrontClient);\n    const start = Date.now();\n    do {\n      const result2 = await client.send(\n        new GetDistributionCommand({\n          Id: distributionId\n        })\n      );\n      if (result2.Distribution?.Status === \"Deployed\")\n        return;\n      await new Promise((resolve) =\u003e setTimeout(resolve, 5e3));\n    } while (Date.now() - start \u003c 3e5);\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","distributionId":"E2BOXJ5EIAVU52","etag":"EUBOWUTNQRZUQ","wait":true},"outputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nvar __f18_prototype_proto = {};\nObject.defineProperty(__f18_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f19 });\nvar __f18_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f18_prototype, \"constructor\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f18_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f18_prototype, \"serialize\", { configurable: true, writable: true, value: __f21 });\nObject.defineProperty(__f18_prototype, \"deserialize\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f18, \"prototype\", { value: __f18_prototype });\nObject.defineProperty(__f18, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f23 });\nObject.setPrototypeOf(__f18, __f19);\nObject.defineProperty(__provider_proto, \"handle\", { configurable: true, writable: true, value: __f4 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    await this.handle(inputs);\n    return { id: \"waiter\", outs: { isDone: true } };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    await this.handle(news);\n    return { outs: { isDone: true } };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_7, configuration?.extensions || []);\n    __super.call(this, _config_8);\n    this.config = _config_8;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst models_1_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/models/models_1.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f20(__0, __1, __2) {\n  return (function() {\n    with({ GetDistributionCommand: __f18, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, GetDistributionCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"GetDistributionCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: models_1_1.GetDistributionResultFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"GetDistribution\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f21(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_GetDistributionCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_GetDistributionCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4(__0) {\n  return (function() {\n    with({ useClient: __f5, CloudFrontClient: __f13, GetDistributionCommand: __f18, this: undefined, arguments: undefined }) {\n\nreturn async function /*handle*/(inputs) {\n    if (!inputs.wait)\n      return;\n    const { distributionId } = inputs;\n    const client = useClient(CloudFrontClient);\n    const start = Date.now();\n    do {\n      const result2 = await client.send(\n        new GetDistributionCommand({\n          Id: distributionId\n        })\n      );\n      if (result2.Distribution?.Status === \"Deployed\")\n        return;\n      await new Promise((resolve) =\u003e setTimeout(resolve, 5e3));\n    } while (Date.now() - start \u003c 3e5);\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","isDone":true},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"},"new":{"type":"pulumi-nodejs:dynamic:Resource","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN$pulumi-nodejs:dynamic:Resource::MyWebCdnWaiter.sst.aws.DistributionDeploymentWaiter","custom":true,"id":"waiter","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN::MyWebCdn","inputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nvar __f18_prototype_proto = {};\nObject.defineProperty(__f18_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f19 });\nvar __f18_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f18_prototype, \"constructor\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f18_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f18_prototype, \"serialize\", { configurable: true, writable: true, value: __f21 });\nObject.defineProperty(__f18_prototype, \"deserialize\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f18, \"prototype\", { value: __f18_prototype });\nObject.defineProperty(__f18, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f23 });\nObject.setPrototypeOf(__f18, __f19);\nObject.defineProperty(__provider_proto, \"handle\", { configurable: true, writable: true, value: __f4 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    await this.handle(inputs);\n    return { id: \"waiter\", outs: { isDone: true } };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    await this.handle(news);\n    return { outs: { isDone: true } };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_7, configuration?.extensions || []);\n    __super.call(this, _config_8);\n    this.config = _config_8;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst models_1_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/models/models_1.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f20(__0, __1, __2) {\n  return (function() {\n    with({ GetDistributionCommand: __f18, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, GetDistributionCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"GetDistributionCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: models_1_1.GetDistributionResultFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"GetDistribution\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f21(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_GetDistributionCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_GetDistributionCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4(__0) {\n  return (function() {\n    with({ useClient: __f5, CloudFrontClient: __f13, GetDistributionCommand: __f18, this: undefined, arguments: undefined }) {\n\nreturn async function /*handle*/(inputs) {\n    if (!inputs.wait)\n      return;\n    const { distributionId } = inputs;\n    const client = useClient(CloudFrontClient);\n    const start = Date.now();\n    do {\n      const result2 = await client.send(\n        new GetDistributionCommand({\n          Id: distributionId\n        })\n      );\n      if (result2.Distribution?.Status === \"Deployed\")\n        return;\n      await new Promise((resolve) =\u003e setTimeout(resolve, 5e3));\n    } while (Date.now() - start \u003c 3e5);\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","distributionId":"E2BOXJ5EIAVU52","etag":"EUBOWUTNQRZUQ","wait":true},"outputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nvar __f18_prototype_proto = {};\nObject.defineProperty(__f18_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f19 });\nvar __f18_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f18_prototype, \"constructor\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f18_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f18_prototype, \"serialize\", { configurable: true, writable: true, value: __f21 });\nObject.defineProperty(__f18_prototype, \"deserialize\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f18, \"prototype\", { value: __f18_prototype });\nObject.defineProperty(__f18, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f23 });\nObject.setPrototypeOf(__f18, __f19);\nObject.defineProperty(__provider_proto, \"handle\", { configurable: true, writable: true, value: __f4 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    await this.handle(inputs);\n    return { id: \"waiter\", outs: { isDone: true } };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    await this.handle(news);\n    return { outs: { isDone: true } };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_7, configuration?.extensions || []);\n    __super.call(this, _config_8);\n    this.config = _config_8;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst models_1_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/models/models_1.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f20(__0, __1, __2) {\n  return (function() {\n    with({ GetDistributionCommand: __f18, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, GetDistributionCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"GetDistributionCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: models_1_1.GetDistributionResultFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"GetDistribution\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f21(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_GetDistributionCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_GetDistributionCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4(__0) {\n  return (function() {\n    with({ useClient: __f5, CloudFrontClient: __f13, GetDistributionCommand: __f18, this: undefined, arguments: undefined }) {\n\nreturn async function /*handle*/(inputs) {\n    if (!inputs.wait)\n      return;\n    const { distributionId } = inputs;\n    const client = useClient(CloudFrontClient);\n    const start = Date.now();\n    do {\n      const result2 = await client.send(\n        new GetDistributionCommand({\n          Id: distributionId\n        })\n      );\n      if (result2.Distribution?.Status === \"Deployed\")\n        return;\n      await new Promise((resolve) =\u003e setTimeout(resolve, 5e3));\n    } while (Date.now() - start \u003c 3e5);\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","isDone":true},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"}},"Error":null}
{"sequence":320,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebCdnWaiter.sst.aws.DistributionDeploymentWaiter[pulumi-nodejs:dynamic:Resource]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:CDN$pulumi-nodejs:dynamic:Resource::MyWebCdnWaiter.sst.aws.DistributionDeploymentWaiter,waiter,__provider,,,exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nvar __f18_prototype_proto = {};\nObject.defineProperty(__f18_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f19 });\nvar __f18_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f18_prototype, \"constructor\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f18_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f18_prototype, \"serialize\", { configurable: true, writable: true, value: __f21 });\nObject.defineProperty(__f18_prototype, \"deserialize\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f18, \"prototype\", { value: __f18_prototype });\nObject.defineProperty(__f18, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f23 });\nObject.setPrototypeOf(__f18, __f19);\nObject.defineProperty(__provider_proto, \"handle\", { configurable: true, writable: true, value: __f4 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    await this.handle(inputs);\n    return { id: \"waiter\", outs: { isDone: true } };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    await this.handle(news);\n    return { outs: { isDone: true } };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-cloudfront/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_7, configuration?.extensions || []);\n    __super.call(this, _config_8);\n    this.config = _config_8;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst models_1_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/models/models_1.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f20(__0, __1, __2) {\n  return (function() {\n    with({ GetDistributionCommand: __f18, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, GetDistributionCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"CloudFrontClient\";\n    const commandName = \"GetDistributionCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: models_1_1.GetDistributionResultFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"Cloudfront2020_05_31\",\n            operation: \"GetDistribution\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restXml_1 = require(\"@aws-sdk/client-cloudfront/dist-cjs/protocols/Aws_restXml.js\");\n\nfunction __f21(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restXml_1.se_GetDistributionCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restXml_1.de_GetDistributionCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4(__0) {\n  return (function() {\n    with({ useClient: __f5, CloudFrontClient: __f13, GetDistributionCommand: __f18, this: undefined, arguments: undefined }) {\n\nreturn async function /*handle*/(inputs) {\n    if (!inputs.wait)\n      return;\n    const { distributionId } = inputs;\n    const client = useClient(CloudFrontClient);\n    const start = Date.now();\n    do {\n      const result2 = await client.send(\n        new GetDistributionCommand({\n          Id: distributionId\n        })\n      );\n      if (result2.Distribution?.Status === \"Deployed\")\n        return;\n      await new Promise((resolve) =\u003e setTimeout(resolve, 5e3));\n    } while (Date.now() - start \u003c 3e5);\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n,isDone,,,,true,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":321,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=aws:s3/bucketObjectv2:BucketObjectv2, name=MyWebServerCode\n","color":"never","severity":"debug"},"Error":null}
{"sequence":322,"timestamp":1722566956,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:s3/bucketObjectv2:BucketObjectv2::MyWebServerCode","type":"aws:s3/bucketObjectv2:BucketObjectv2","old":{"type":"aws:s3/bucketObjectv2:BucketObjectv2","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:s3/bucketObjectv2:BucketObjectv2::MyWebServerCode","custom":true,"id":"assets/MyWebServer-code-ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82.zip","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","retainOnDelete":true,"inputs":{"__defaults":["forceDestroy"],"bucket":"sst-asset-nxnzkseoemaz","forceDestroy":false,"key":"assets/MyWebServer-code-ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82.zip","source":{"4dabf18193072939515e22adb298388d":"0def7320c3a5731c473e5ecbe6d01bc7","hash":"ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82","path":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/.sst/artifacts/MyWebServer/code.zip"},"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"outputs":{"arn":"arn:aws:s3:::sst-asset-nxnzkseoemaz/assets/MyWebServer-code-ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82.zip","bucket":"sst-asset-nxnzkseoemaz","bucketKeyEnabled":false,"cacheControl":"","checksumCrc32":"","checksumCrc32c":"","checksumSha1":"","checksumSha256":"","contentDisposition":"","contentEncoding":"","contentLanguage":"","contentType":"application/octet-stream","etag":"437cc79283807b62775409b44bd3e5e8","forceDestroy":false,"id":"assets/MyWebServer-code-ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82.zip","key":"assets/MyWebServer-code-ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82.zip","metadata":{},"objectLockLegalHoldStatus":"","objectLockMode":"","objectLockRetainUntilDate":"","serverSideEncryption":"AES256","source":{"4dabf18193072939515e22adb298388d":"0def7320c3a5731c473e5ecbe6d01bc7","hash":"ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82","path":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/.sst/artifacts/MyWebServer/code.zip"},"storageClass":"STANDARD","tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"versionId":"","websiteRedirect":""},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:s3/bucketObjectv2:BucketObjectv2","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:s3/bucketObjectv2:BucketObjectv2::MyWebServerCode","custom":true,"id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","retainOnDelete":true,"inputs":{"__defaults":["forceDestroy"],"bucket":"sst-asset-nxnzkseoemaz","forceDestroy":false,"key":"assets/MyWebServer-code-ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82.zip","source":{"4dabf18193072939515e22adb298388d":"0def7320c3a5731c473e5ecbe6d01bc7","hash":"ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82","path":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/.sst/artifacts/MyWebServer/code.zip"},"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"outputs":{},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":323,"timestamp":1722566956,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:s3/bucketObjectv2:BucketObjectv2::MyWebServerCode","type":"aws:s3/bucketObjectv2:BucketObjectv2","old":{"type":"aws:s3/bucketObjectv2:BucketObjectv2","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:s3/bucketObjectv2:BucketObjectv2::MyWebServerCode","custom":true,"id":"assets/MyWebServer-code-ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82.zip","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","retainOnDelete":true,"inputs":{"__defaults":["forceDestroy"],"bucket":"sst-asset-nxnzkseoemaz","forceDestroy":false,"key":"assets/MyWebServer-code-ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82.zip","source":{"4dabf18193072939515e22adb298388d":"0def7320c3a5731c473e5ecbe6d01bc7","hash":"ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82","path":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/.sst/artifacts/MyWebServer/code.zip"},"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"outputs":{"arn":"arn:aws:s3:::sst-asset-nxnzkseoemaz/assets/MyWebServer-code-ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82.zip","bucket":"sst-asset-nxnzkseoemaz","bucketKeyEnabled":false,"cacheControl":"","checksumCrc32":"","checksumCrc32c":"","checksumSha1":"","checksumSha256":"","contentDisposition":"","contentEncoding":"","contentLanguage":"","contentType":"application/octet-stream","etag":"437cc79283807b62775409b44bd3e5e8","forceDestroy":false,"id":"assets/MyWebServer-code-ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82.zip","key":"assets/MyWebServer-code-ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82.zip","metadata":{},"objectLockLegalHoldStatus":"","objectLockMode":"","objectLockRetainUntilDate":"","serverSideEncryption":"AES256","source":{"4dabf18193072939515e22adb298388d":"0def7320c3a5731c473e5ecbe6d01bc7","hash":"ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82","path":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/.sst/artifacts/MyWebServer/code.zip"},"storageClass":"STANDARD","tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"versionId":"","websiteRedirect":""},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:s3/bucketObjectv2:BucketObjectv2","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:s3/bucketObjectv2:BucketObjectv2::MyWebServerCode","custom":true,"id":"assets/MyWebServer-code-ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82.zip","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","retainOnDelete":true,"inputs":{"__defaults":["forceDestroy"],"bucket":"sst-asset-nxnzkseoemaz","forceDestroy":false,"key":"assets/MyWebServer-code-ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82.zip","source":{"4dabf18193072939515e22adb298388d":"0def7320c3a5731c473e5ecbe6d01bc7","hash":"ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82","path":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/.sst/artifacts/MyWebServer/code.zip"},"tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"}},"outputs":{"arn":"arn:aws:s3:::sst-asset-nxnzkseoemaz/assets/MyWebServer-code-ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82.zip","bucket":"sst-asset-nxnzkseoemaz","bucketKeyEnabled":false,"cacheControl":"","checksumCrc32":"","checksumCrc32c":"","checksumSha1":"","checksumSha256":"","contentDisposition":"","contentEncoding":"","contentLanguage":"","contentType":"application/octet-stream","etag":"437cc79283807b62775409b44bd3e5e8","forceDestroy":false,"id":"assets/MyWebServer-code-ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82.zip","key":"assets/MyWebServer-code-ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82.zip","metadata":{},"objectLockLegalHoldStatus":"","objectLockMode":"","objectLockRetainUntilDate":"","serverSideEncryption":"AES256","source":{"4dabf18193072939515e22adb298388d":"0def7320c3a5731c473e5ecbe6d01bc7","hash":"ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82","path":"/Users/nranganath/personal/my-evite-killer/remix-auth-app/.sst/artifacts/MyWebServer/code.zip"},"storageClass":"STANDARD","tags":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"tagsAll":{"sst:app":"remix-auth-app","sst:stage":"nranganath"},"versionId":"","websiteRedirect":""},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":324,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=pulumi-nodejs:dynamic:Resource, name=MyWebServerCodeUpdater.sst.aws.FunctionCodeUpdater\n","color":"never","severity":"debug"},"Error":null}
{"sequence":325,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebServerCode[aws:s3/bucketObjectv2:BucketObjectv2]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$aws:s3/bucketObjectv2:BucketObjectv2::MyWebServerCode,assets/MyWebServer-code-ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82.zip,arn,,,arn:aws:s3:::sst-asset-nxnzkseoemaz/assets/MyWebServer-code-ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82.zip,bucket,,,sst-asset-nxnzkseoemaz,bucketKeyEnabled,,,,false,cacheControl,,,,checksumCrc32,,,,checksumCrc32c,,,,checksumSha1,,,,checksumSha256,,,,contentDisposition,,,,contentEncoding,,,,contentLanguage,,,,contentType,,,application/octet-stream,etag,,,437cc79283807b62775409b44bd3e5e8,forceDestroy,,,,false,id,,,assets/MyWebServer-code-ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82.zip,key,,,assets/MyWebServer-code-ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82.zip,metadata,,,,,,objectLockLegalHoldStatus,,,,objectLockMode,,,,objectLockRetainUntilDate,,,,serverSideEncryption,,,AES256,source,,,,,4dabf18193072939515e22adb298388d,,,0def7320c3a5731c473e5ecbe6d01bc7,hash,,,ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82,path,,,/Users/nranganath/personal/my-evite-killer/remix-auth-app/.sst/artifacts/MyWebServer/code.zip,storageClass,,,STANDARD,tags,,,,,sst:app,,,remix-auth-app,sst:stage,,,nranganath,tagsAll,,,,,sst:app,,,remix-auth-app,sst:stage,,,nranganath,versionId,,,,websiteRedirect,,,,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":326,"timestamp":1722566956,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$pulumi-nodejs:dynamic:Resource::MyWebServerCodeUpdater.sst.aws.FunctionCodeUpdater","type":"pulumi-nodejs:dynamic:Resource","old":{"type":"pulumi-nodejs:dynamic:Resource","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$pulumi-nodejs:dynamic:Resource::MyWebServerCodeUpdater.sst.aws.FunctionCodeUpdater","custom":true,"id":"remix-auth-app-nranganath-MyWebServerFunction","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","inputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nvar __f18_prototype_proto = {};\nObject.defineProperty(__f18_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f19 });\nvar __f18_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f18_prototype, \"constructor\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f18_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f18_prototype, \"serialize\", { configurable: true, writable: true, value: __f21 });\nObject.defineProperty(__f18_prototype, \"deserialize\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f18, \"prototype\", { value: __f18_prototype });\nObject.defineProperty(__f18, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f23 });\nObject.setPrototypeOf(__f18, __f19);\nObject.defineProperty(__provider_proto, \"updateCode\", { configurable: true, writable: true, value: __f4 });\nvar __f25_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f25_prototype, \"constructor\", { configurable: true, writable: true, value: __f25 });\nObject.defineProperty(__f25_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f26 });\nObject.defineProperty(__f25_prototype, \"serialize\", { configurable: true, writable: true, value: __f27 });\nObject.defineProperty(__f25_prototype, \"deserialize\", { configurable: true, writable: true, value: __f28 });\nObject.defineProperty(__f25, \"prototype\", { value: __f25_prototype });\nObject.defineProperty(__f25, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f29 });\nObject.setPrototypeOf(__f25, __f19);\nObject.defineProperty(__provider_proto, \"waitForUpdate\", { configurable: true, writable: true, value: __f24 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    const version = await this.updateCode(inputs);\n    await this.waitForUpdate(inputs);\n    return {\n      id: inputs.functionName,\n      outs: { version }\n    };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    const version = await this.updateCode(news);\n    await this.waitForUpdate(news);\n    return { outs: { version } };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-lambda/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-lambda/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst eventstream_serde_config_resolver_1 = require(\"@smithy/eventstream-serde-config-resolver/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-lambda/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, eventstream_serde_config_resolver_1.resolveEventStreamSerdeConfig)(_config_7);\n    const _config_9 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_8, configuration?.extensions || []);\n    __super.call(this, _config_9);\n    this.config = _config_9;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst models_0_1 = require(\"@aws-sdk/client-lambda/dist-cjs/models/models_0.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f20(__0, __1, __2) {\n  return (function() {\n    with({ UpdateFunctionCodeCommand: __f18, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, UpdateFunctionCodeCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"LambdaClient\";\n    const commandName = \"UpdateFunctionCodeCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: models_0_1.UpdateFunctionCodeRequestFilterSensitiveLog,\n        outputFilterSensitiveLog: models_0_1.FunctionConfigurationFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"AWSGirApiService\",\n            operation: \"UpdateFunctionCode\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restJson1_1 = require(\"@aws-sdk/client-lambda/dist-cjs/protocols/Aws_restJson1.js\");\n\nfunction __f21(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restJson1_1.se_UpdateFunctionCodeCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restJson1_1.de_UpdateFunctionCodeCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4(__0) {\n  return (function() {\n    with({ useClient: __f5, LambdaClient: __f13, UpdateFunctionCodeCommand: __f18, this: undefined, arguments: undefined }) {\n\nreturn async function /*updateCode*/(inputs) {\n    const client = useClient(LambdaClient, {\n      region: inputs.region,\n      retrableErrors: [\n        // Lambda is not ready to accept updates right after creation\n        \"ServiceException\"\n      ]\n    });\n    const ret = await client.send(\n      new UpdateFunctionCodeCommand({\n        FunctionName: inputs.functionName,\n        S3Bucket: inputs.s3Bucket,\n        S3Key: inputs.s3Key\n      })\n    );\n    return ret.Version ?? \"unknown\";\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f25(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f26(__0, __1, __2) {\n  return (function() {\n    with({ GetFunctionCommand: __f25, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, GetFunctionCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"LambdaClient\";\n    const commandName = \"GetFunctionCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: models_0_1.GetFunctionResponseFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"AWSGirApiService\",\n            operation: \"GetFunction\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f27(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restJson1_1.se_GetFunctionCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f28(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restJson1_1.de_GetFunctionCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f29() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f24(__0) {\n  return (function() {\n    with({ useClient: __f5, LambdaClient: __f13, GetFunctionCommand: __f25, this: undefined, arguments: undefined }) {\n\nreturn async function /*waitForUpdate*/(inputs) {\n    const client = useClient(LambdaClient, {\n      region: inputs.region,\n      retrableErrors: [\n        // Lambda is not ready to accept updates right after creation\n        \"ServiceException\"\n      ]\n    });\n    const ret = await client.send(\n      new GetFunctionCommand({\n        FunctionName: inputs.functionName\n      })\n    );\n    if (ret.Configuration?.LastUpdateStatus === \"Successful\")\n      return;\n    if (ret.Configuration?.LastUpdateStatus === \"Failed\") {\n      throw new Error(\n        `Failed to update function ${ret.Configuration.LastUpdateStatusReasonCode}: ${ret.Configuration.LastUpdateStatusReason}`\n      );\n    }\n    await new Promise((resolve) =\u003e setTimeout(resolve, 300));\n    return this.waitForUpdate(inputs);\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","functionLastModified":"2024-03-29T16:25:08.814+0000","functionName":"remix-auth-app-nranganath-MyWebServerFunction","region":"us-east-1","s3Bucket":"sst-asset-nxnzkseoemaz","s3Key":"assets/MyWebServer-code-ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82.zip"},"outputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nvar __f18_prototype_proto = {};\nObject.defineProperty(__f18_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f19 });\nvar __f18_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f18_prototype, \"constructor\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f18_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f18_prototype, \"serialize\", { configurable: true, writable: true, value: __f21 });\nObject.defineProperty(__f18_prototype, \"deserialize\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f18, \"prototype\", { value: __f18_prototype });\nObject.defineProperty(__f18, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f23 });\nObject.setPrototypeOf(__f18, __f19);\nObject.defineProperty(__provider_proto, \"updateCode\", { configurable: true, writable: true, value: __f4 });\nvar __f25_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f25_prototype, \"constructor\", { configurable: true, writable: true, value: __f25 });\nObject.defineProperty(__f25_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f26 });\nObject.defineProperty(__f25_prototype, \"serialize\", { configurable: true, writable: true, value: __f27 });\nObject.defineProperty(__f25_prototype, \"deserialize\", { configurable: true, writable: true, value: __f28 });\nObject.defineProperty(__f25, \"prototype\", { value: __f25_prototype });\nObject.defineProperty(__f25, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f29 });\nObject.setPrototypeOf(__f25, __f19);\nObject.defineProperty(__provider_proto, \"waitForUpdate\", { configurable: true, writable: true, value: __f24 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    const version = await this.updateCode(inputs);\n    await this.waitForUpdate(inputs);\n    return {\n      id: inputs.functionName,\n      outs: { version }\n    };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    const version = await this.updateCode(news);\n    await this.waitForUpdate(news);\n    return { outs: { version } };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-lambda/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-lambda/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst eventstream_serde_config_resolver_1 = require(\"@smithy/eventstream-serde-config-resolver/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-lambda/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, eventstream_serde_config_resolver_1.resolveEventStreamSerdeConfig)(_config_7);\n    const _config_9 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_8, configuration?.extensions || []);\n    __super.call(this, _config_9);\n    this.config = _config_9;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst models_0_1 = require(\"@aws-sdk/client-lambda/dist-cjs/models/models_0.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f20(__0, __1, __2) {\n  return (function() {\n    with({ UpdateFunctionCodeCommand: __f18, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, UpdateFunctionCodeCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"LambdaClient\";\n    const commandName = \"UpdateFunctionCodeCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: models_0_1.UpdateFunctionCodeRequestFilterSensitiveLog,\n        outputFilterSensitiveLog: models_0_1.FunctionConfigurationFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"AWSGirApiService\",\n            operation: \"UpdateFunctionCode\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restJson1_1 = require(\"@aws-sdk/client-lambda/dist-cjs/protocols/Aws_restJson1.js\");\n\nfunction __f21(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restJson1_1.se_UpdateFunctionCodeCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restJson1_1.de_UpdateFunctionCodeCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4(__0) {\n  return (function() {\n    with({ useClient: __f5, LambdaClient: __f13, UpdateFunctionCodeCommand: __f18, this: undefined, arguments: undefined }) {\n\nreturn async function /*updateCode*/(inputs) {\n    const client = useClient(LambdaClient, {\n      region: inputs.region,\n      retrableErrors: [\n        // Lambda is not ready to accept updates right after creation\n        \"ServiceException\"\n      ]\n    });\n    const ret = await client.send(\n      new UpdateFunctionCodeCommand({\n        FunctionName: inputs.functionName,\n        S3Bucket: inputs.s3Bucket,\n        S3Key: inputs.s3Key\n      })\n    );\n    return ret.Version ?? \"unknown\";\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f25(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f26(__0, __1, __2) {\n  return (function() {\n    with({ GetFunctionCommand: __f25, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, GetFunctionCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"LambdaClient\";\n    const commandName = \"GetFunctionCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: models_0_1.GetFunctionResponseFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"AWSGirApiService\",\n            operation: \"GetFunction\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f27(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restJson1_1.se_GetFunctionCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f28(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restJson1_1.de_GetFunctionCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f29() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f24(__0) {\n  return (function() {\n    with({ useClient: __f5, LambdaClient: __f13, GetFunctionCommand: __f25, this: undefined, arguments: undefined }) {\n\nreturn async function /*waitForUpdate*/(inputs) {\n    const client = useClient(LambdaClient, {\n      region: inputs.region,\n      retrableErrors: [\n        // Lambda is not ready to accept updates right after creation\n        \"ServiceException\"\n      ]\n    });\n    const ret = await client.send(\n      new GetFunctionCommand({\n        FunctionName: inputs.functionName\n      })\n    );\n    if (ret.Configuration?.LastUpdateStatus === \"Successful\")\n      return;\n    if (ret.Configuration?.LastUpdateStatus === \"Failed\") {\n      throw new Error(\n        `Failed to update function ${ret.Configuration.LastUpdateStatusReasonCode}: ${ret.Configuration.LastUpdateStatusReason}`\n      );\n    }\n    await new Promise((resolve) =\u003e setTimeout(resolve, 300));\n    return this.waitForUpdate(inputs);\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","version":"$LATEST"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"},"new":{"type":"pulumi-nodejs:dynamic:Resource","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$pulumi-nodejs:dynamic:Resource::MyWebServerCodeUpdater.sst.aws.FunctionCodeUpdater","custom":true,"id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","inputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nvar __f18_prototype_proto = {};\nObject.defineProperty(__f18_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f19 });\nvar __f18_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f18_prototype, \"constructor\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f18_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f18_prototype, \"serialize\", { configurable: true, writable: true, value: __f21 });\nObject.defineProperty(__f18_prototype, \"deserialize\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f18, \"prototype\", { value: __f18_prototype });\nObject.defineProperty(__f18, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f23 });\nObject.setPrototypeOf(__f18, __f19);\nObject.defineProperty(__provider_proto, \"updateCode\", { configurable: true, writable: true, value: __f4 });\nvar __f25_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f25_prototype, \"constructor\", { configurable: true, writable: true, value: __f25 });\nObject.defineProperty(__f25_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f26 });\nObject.defineProperty(__f25_prototype, \"serialize\", { configurable: true, writable: true, value: __f27 });\nObject.defineProperty(__f25_prototype, \"deserialize\", { configurable: true, writable: true, value: __f28 });\nObject.defineProperty(__f25, \"prototype\", { value: __f25_prototype });\nObject.defineProperty(__f25, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f29 });\nObject.setPrototypeOf(__f25, __f19);\nObject.defineProperty(__provider_proto, \"waitForUpdate\", { configurable: true, writable: true, value: __f24 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    const version = await this.updateCode(inputs);\n    await this.waitForUpdate(inputs);\n    return {\n      id: inputs.functionName,\n      outs: { version }\n    };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    const version = await this.updateCode(news);\n    await this.waitForUpdate(news);\n    return { outs: { version } };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-lambda/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-lambda/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst eventstream_serde_config_resolver_1 = require(\"@smithy/eventstream-serde-config-resolver/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-lambda/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, eventstream_serde_config_resolver_1.resolveEventStreamSerdeConfig)(_config_7);\n    const _config_9 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_8, configuration?.extensions || []);\n    __super.call(this, _config_9);\n    this.config = _config_9;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst models_0_1 = require(\"@aws-sdk/client-lambda/dist-cjs/models/models_0.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f20(__0, __1, __2) {\n  return (function() {\n    with({ UpdateFunctionCodeCommand: __f18, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, UpdateFunctionCodeCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"LambdaClient\";\n    const commandName = \"UpdateFunctionCodeCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: models_0_1.UpdateFunctionCodeRequestFilterSensitiveLog,\n        outputFilterSensitiveLog: models_0_1.FunctionConfigurationFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"AWSGirApiService\",\n            operation: \"UpdateFunctionCode\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restJson1_1 = require(\"@aws-sdk/client-lambda/dist-cjs/protocols/Aws_restJson1.js\");\n\nfunction __f21(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restJson1_1.se_UpdateFunctionCodeCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restJson1_1.de_UpdateFunctionCodeCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4(__0) {\n  return (function() {\n    with({ useClient: __f5, LambdaClient: __f13, UpdateFunctionCodeCommand: __f18, this: undefined, arguments: undefined }) {\n\nreturn async function /*updateCode*/(inputs) {\n    const client = useClient(LambdaClient, {\n      region: inputs.region,\n      retrableErrors: [\n        // Lambda is not ready to accept updates right after creation\n        \"ServiceException\"\n      ]\n    });\n    const ret = await client.send(\n      new UpdateFunctionCodeCommand({\n        FunctionName: inputs.functionName,\n        S3Bucket: inputs.s3Bucket,\n        S3Key: inputs.s3Key\n      })\n    );\n    return ret.Version ?? \"unknown\";\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f25(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f26(__0, __1, __2) {\n  return (function() {\n    with({ GetFunctionCommand: __f25, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, GetFunctionCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"LambdaClient\";\n    const commandName = \"GetFunctionCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: models_0_1.GetFunctionResponseFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"AWSGirApiService\",\n            operation: \"GetFunction\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f27(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restJson1_1.se_GetFunctionCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f28(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restJson1_1.de_GetFunctionCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f29() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f24(__0) {\n  return (function() {\n    with({ useClient: __f5, LambdaClient: __f13, GetFunctionCommand: __f25, this: undefined, arguments: undefined }) {\n\nreturn async function /*waitForUpdate*/(inputs) {\n    const client = useClient(LambdaClient, {\n      region: inputs.region,\n      retrableErrors: [\n        // Lambda is not ready to accept updates right after creation\n        \"ServiceException\"\n      ]\n    });\n    const ret = await client.send(\n      new GetFunctionCommand({\n        FunctionName: inputs.functionName\n      })\n    );\n    if (ret.Configuration?.LastUpdateStatus === \"Successful\")\n      return;\n    if (ret.Configuration?.LastUpdateStatus === \"Failed\") {\n      throw new Error(\n        `Failed to update function ${ret.Configuration.LastUpdateStatusReasonCode}: ${ret.Configuration.LastUpdateStatusReason}`\n      );\n    }\n    await new Promise((resolve) =\u003e setTimeout(resolve, 300));\n    return this.waitForUpdate(inputs);\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","functionLastModified":"2024-03-29T16:25:08.814+0000","functionName":"remix-auth-app-nranganath-MyWebServerFunction","region":"us-east-1","s3Bucket":"sst-asset-nxnzkseoemaz","s3Key":"assets/MyWebServer-code-ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82.zip"},"outputs":{},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"}},"Error":null}
{"sequence":327,"timestamp":1722566956,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$pulumi-nodejs:dynamic:Resource::MyWebServerCodeUpdater.sst.aws.FunctionCodeUpdater","type":"pulumi-nodejs:dynamic:Resource","old":{"type":"pulumi-nodejs:dynamic:Resource","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$pulumi-nodejs:dynamic:Resource::MyWebServerCodeUpdater.sst.aws.FunctionCodeUpdater","custom":true,"id":"remix-auth-app-nranganath-MyWebServerFunction","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","inputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nvar __f18_prototype_proto = {};\nObject.defineProperty(__f18_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f19 });\nvar __f18_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f18_prototype, \"constructor\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f18_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f18_prototype, \"serialize\", { configurable: true, writable: true, value: __f21 });\nObject.defineProperty(__f18_prototype, \"deserialize\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f18, \"prototype\", { value: __f18_prototype });\nObject.defineProperty(__f18, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f23 });\nObject.setPrototypeOf(__f18, __f19);\nObject.defineProperty(__provider_proto, \"updateCode\", { configurable: true, writable: true, value: __f4 });\nvar __f25_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f25_prototype, \"constructor\", { configurable: true, writable: true, value: __f25 });\nObject.defineProperty(__f25_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f26 });\nObject.defineProperty(__f25_prototype, \"serialize\", { configurable: true, writable: true, value: __f27 });\nObject.defineProperty(__f25_prototype, \"deserialize\", { configurable: true, writable: true, value: __f28 });\nObject.defineProperty(__f25, \"prototype\", { value: __f25_prototype });\nObject.defineProperty(__f25, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f29 });\nObject.setPrototypeOf(__f25, __f19);\nObject.defineProperty(__provider_proto, \"waitForUpdate\", { configurable: true, writable: true, value: __f24 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    const version = await this.updateCode(inputs);\n    await this.waitForUpdate(inputs);\n    return {\n      id: inputs.functionName,\n      outs: { version }\n    };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    const version = await this.updateCode(news);\n    await this.waitForUpdate(news);\n    return { outs: { version } };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-lambda/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-lambda/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst eventstream_serde_config_resolver_1 = require(\"@smithy/eventstream-serde-config-resolver/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-lambda/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, eventstream_serde_config_resolver_1.resolveEventStreamSerdeConfig)(_config_7);\n    const _config_9 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_8, configuration?.extensions || []);\n    __super.call(this, _config_9);\n    this.config = _config_9;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst models_0_1 = require(\"@aws-sdk/client-lambda/dist-cjs/models/models_0.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f20(__0, __1, __2) {\n  return (function() {\n    with({ UpdateFunctionCodeCommand: __f18, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, UpdateFunctionCodeCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"LambdaClient\";\n    const commandName = \"UpdateFunctionCodeCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: models_0_1.UpdateFunctionCodeRequestFilterSensitiveLog,\n        outputFilterSensitiveLog: models_0_1.FunctionConfigurationFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"AWSGirApiService\",\n            operation: \"UpdateFunctionCode\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restJson1_1 = require(\"@aws-sdk/client-lambda/dist-cjs/protocols/Aws_restJson1.js\");\n\nfunction __f21(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restJson1_1.se_UpdateFunctionCodeCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restJson1_1.de_UpdateFunctionCodeCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4(__0) {\n  return (function() {\n    with({ useClient: __f5, LambdaClient: __f13, UpdateFunctionCodeCommand: __f18, this: undefined, arguments: undefined }) {\n\nreturn async function /*updateCode*/(inputs) {\n    const client = useClient(LambdaClient, {\n      region: inputs.region,\n      retrableErrors: [\n        // Lambda is not ready to accept updates right after creation\n        \"ServiceException\"\n      ]\n    });\n    const ret = await client.send(\n      new UpdateFunctionCodeCommand({\n        FunctionName: inputs.functionName,\n        S3Bucket: inputs.s3Bucket,\n        S3Key: inputs.s3Key\n      })\n    );\n    return ret.Version ?? \"unknown\";\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f25(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f26(__0, __1, __2) {\n  return (function() {\n    with({ GetFunctionCommand: __f25, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, GetFunctionCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"LambdaClient\";\n    const commandName = \"GetFunctionCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: models_0_1.GetFunctionResponseFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"AWSGirApiService\",\n            operation: \"GetFunction\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f27(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restJson1_1.se_GetFunctionCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f28(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restJson1_1.de_GetFunctionCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f29() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f24(__0) {\n  return (function() {\n    with({ useClient: __f5, LambdaClient: __f13, GetFunctionCommand: __f25, this: undefined, arguments: undefined }) {\n\nreturn async function /*waitForUpdate*/(inputs) {\n    const client = useClient(LambdaClient, {\n      region: inputs.region,\n      retrableErrors: [\n        // Lambda is not ready to accept updates right after creation\n        \"ServiceException\"\n      ]\n    });\n    const ret = await client.send(\n      new GetFunctionCommand({\n        FunctionName: inputs.functionName\n      })\n    );\n    if (ret.Configuration?.LastUpdateStatus === \"Successful\")\n      return;\n    if (ret.Configuration?.LastUpdateStatus === \"Failed\") {\n      throw new Error(\n        `Failed to update function ${ret.Configuration.LastUpdateStatusReasonCode}: ${ret.Configuration.LastUpdateStatusReason}`\n      );\n    }\n    await new Promise((resolve) =\u003e setTimeout(resolve, 300));\n    return this.waitForUpdate(inputs);\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","functionLastModified":"2024-03-29T16:25:08.814+0000","functionName":"remix-auth-app-nranganath-MyWebServerFunction","region":"us-east-1","s3Bucket":"sst-asset-nxnzkseoemaz","s3Key":"assets/MyWebServer-code-ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82.zip"},"outputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nvar __f18_prototype_proto = {};\nObject.defineProperty(__f18_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f19 });\nvar __f18_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f18_prototype, \"constructor\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f18_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f18_prototype, \"serialize\", { configurable: true, writable: true, value: __f21 });\nObject.defineProperty(__f18_prototype, \"deserialize\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f18, \"prototype\", { value: __f18_prototype });\nObject.defineProperty(__f18, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f23 });\nObject.setPrototypeOf(__f18, __f19);\nObject.defineProperty(__provider_proto, \"updateCode\", { configurable: true, writable: true, value: __f4 });\nvar __f25_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f25_prototype, \"constructor\", { configurable: true, writable: true, value: __f25 });\nObject.defineProperty(__f25_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f26 });\nObject.defineProperty(__f25_prototype, \"serialize\", { configurable: true, writable: true, value: __f27 });\nObject.defineProperty(__f25_prototype, \"deserialize\", { configurable: true, writable: true, value: __f28 });\nObject.defineProperty(__f25, \"prototype\", { value: __f25_prototype });\nObject.defineProperty(__f25, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f29 });\nObject.setPrototypeOf(__f25, __f19);\nObject.defineProperty(__provider_proto, \"waitForUpdate\", { configurable: true, writable: true, value: __f24 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    const version = await this.updateCode(inputs);\n    await this.waitForUpdate(inputs);\n    return {\n      id: inputs.functionName,\n      outs: { version }\n    };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    const version = await this.updateCode(news);\n    await this.waitForUpdate(news);\n    return { outs: { version } };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-lambda/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-lambda/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst eventstream_serde_config_resolver_1 = require(\"@smithy/eventstream-serde-config-resolver/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-lambda/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, eventstream_serde_config_resolver_1.resolveEventStreamSerdeConfig)(_config_7);\n    const _config_9 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_8, configuration?.extensions || []);\n    __super.call(this, _config_9);\n    this.config = _config_9;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst models_0_1 = require(\"@aws-sdk/client-lambda/dist-cjs/models/models_0.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f20(__0, __1, __2) {\n  return (function() {\n    with({ UpdateFunctionCodeCommand: __f18, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, UpdateFunctionCodeCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"LambdaClient\";\n    const commandName = \"UpdateFunctionCodeCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: models_0_1.UpdateFunctionCodeRequestFilterSensitiveLog,\n        outputFilterSensitiveLog: models_0_1.FunctionConfigurationFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"AWSGirApiService\",\n            operation: \"UpdateFunctionCode\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restJson1_1 = require(\"@aws-sdk/client-lambda/dist-cjs/protocols/Aws_restJson1.js\");\n\nfunction __f21(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restJson1_1.se_UpdateFunctionCodeCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restJson1_1.de_UpdateFunctionCodeCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4(__0) {\n  return (function() {\n    with({ useClient: __f5, LambdaClient: __f13, UpdateFunctionCodeCommand: __f18, this: undefined, arguments: undefined }) {\n\nreturn async function /*updateCode*/(inputs) {\n    const client = useClient(LambdaClient, {\n      region: inputs.region,\n      retrableErrors: [\n        // Lambda is not ready to accept updates right after creation\n        \"ServiceException\"\n      ]\n    });\n    const ret = await client.send(\n      new UpdateFunctionCodeCommand({\n        FunctionName: inputs.functionName,\n        S3Bucket: inputs.s3Bucket,\n        S3Key: inputs.s3Key\n      })\n    );\n    return ret.Version ?? \"unknown\";\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f25(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f26(__0, __1, __2) {\n  return (function() {\n    with({ GetFunctionCommand: __f25, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, GetFunctionCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"LambdaClient\";\n    const commandName = \"GetFunctionCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: models_0_1.GetFunctionResponseFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"AWSGirApiService\",\n            operation: \"GetFunction\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f27(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restJson1_1.se_GetFunctionCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f28(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restJson1_1.de_GetFunctionCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f29() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f24(__0) {\n  return (function() {\n    with({ useClient: __f5, LambdaClient: __f13, GetFunctionCommand: __f25, this: undefined, arguments: undefined }) {\n\nreturn async function /*waitForUpdate*/(inputs) {\n    const client = useClient(LambdaClient, {\n      region: inputs.region,\n      retrableErrors: [\n        // Lambda is not ready to accept updates right after creation\n        \"ServiceException\"\n      ]\n    });\n    const ret = await client.send(\n      new GetFunctionCommand({\n        FunctionName: inputs.functionName\n      })\n    );\n    if (ret.Configuration?.LastUpdateStatus === \"Successful\")\n      return;\n    if (ret.Configuration?.LastUpdateStatus === \"Failed\") {\n      throw new Error(\n        `Failed to update function ${ret.Configuration.LastUpdateStatusReasonCode}: ${ret.Configuration.LastUpdateStatusReason}`\n      );\n    }\n    await new Promise((resolve) =\u003e setTimeout(resolve, 300));\n    return this.waitForUpdate(inputs);\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","version":"$LATEST"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"},"new":{"type":"pulumi-nodejs:dynamic:Resource","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$pulumi-nodejs:dynamic:Resource::MyWebServerCodeUpdater.sst.aws.FunctionCodeUpdater","custom":true,"id":"remix-auth-app-nranganath-MyWebServerFunction","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function::MyWebServer","inputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nvar __f18_prototype_proto = {};\nObject.defineProperty(__f18_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f19 });\nvar __f18_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f18_prototype, \"constructor\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f18_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f18_prototype, \"serialize\", { configurable: true, writable: true, value: __f21 });\nObject.defineProperty(__f18_prototype, \"deserialize\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f18, \"prototype\", { value: __f18_prototype });\nObject.defineProperty(__f18, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f23 });\nObject.setPrototypeOf(__f18, __f19);\nObject.defineProperty(__provider_proto, \"updateCode\", { configurable: true, writable: true, value: __f4 });\nvar __f25_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f25_prototype, \"constructor\", { configurable: true, writable: true, value: __f25 });\nObject.defineProperty(__f25_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f26 });\nObject.defineProperty(__f25_prototype, \"serialize\", { configurable: true, writable: true, value: __f27 });\nObject.defineProperty(__f25_prototype, \"deserialize\", { configurable: true, writable: true, value: __f28 });\nObject.defineProperty(__f25, \"prototype\", { value: __f25_prototype });\nObject.defineProperty(__f25, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f29 });\nObject.setPrototypeOf(__f25, __f19);\nObject.defineProperty(__provider_proto, \"waitForUpdate\", { configurable: true, writable: true, value: __f24 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    const version = await this.updateCode(inputs);\n    await this.waitForUpdate(inputs);\n    return {\n      id: inputs.functionName,\n      outs: { version }\n    };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    const version = await this.updateCode(news);\n    await this.waitForUpdate(news);\n    return { outs: { version } };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-lambda/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-lambda/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst eventstream_serde_config_resolver_1 = require(\"@smithy/eventstream-serde-config-resolver/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-lambda/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, eventstream_serde_config_resolver_1.resolveEventStreamSerdeConfig)(_config_7);\n    const _config_9 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_8, configuration?.extensions || []);\n    __super.call(this, _config_9);\n    this.config = _config_9;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst models_0_1 = require(\"@aws-sdk/client-lambda/dist-cjs/models/models_0.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f20(__0, __1, __2) {\n  return (function() {\n    with({ UpdateFunctionCodeCommand: __f18, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, UpdateFunctionCodeCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"LambdaClient\";\n    const commandName = \"UpdateFunctionCodeCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: models_0_1.UpdateFunctionCodeRequestFilterSensitiveLog,\n        outputFilterSensitiveLog: models_0_1.FunctionConfigurationFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"AWSGirApiService\",\n            operation: \"UpdateFunctionCode\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restJson1_1 = require(\"@aws-sdk/client-lambda/dist-cjs/protocols/Aws_restJson1.js\");\n\nfunction __f21(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restJson1_1.se_UpdateFunctionCodeCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restJson1_1.de_UpdateFunctionCodeCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4(__0) {\n  return (function() {\n    with({ useClient: __f5, LambdaClient: __f13, UpdateFunctionCodeCommand: __f18, this: undefined, arguments: undefined }) {\n\nreturn async function /*updateCode*/(inputs) {\n    const client = useClient(LambdaClient, {\n      region: inputs.region,\n      retrableErrors: [\n        // Lambda is not ready to accept updates right after creation\n        \"ServiceException\"\n      ]\n    });\n    const ret = await client.send(\n      new UpdateFunctionCodeCommand({\n        FunctionName: inputs.functionName,\n        S3Bucket: inputs.s3Bucket,\n        S3Key: inputs.s3Key\n      })\n    );\n    return ret.Version ?? \"unknown\";\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f25(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f26(__0, __1, __2) {\n  return (function() {\n    with({ GetFunctionCommand: __f25, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, GetFunctionCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"LambdaClient\";\n    const commandName = \"GetFunctionCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: models_0_1.GetFunctionResponseFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"AWSGirApiService\",\n            operation: \"GetFunction\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f27(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restJson1_1.se_GetFunctionCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f28(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restJson1_1.de_GetFunctionCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f29() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f24(__0) {\n  return (function() {\n    with({ useClient: __f5, LambdaClient: __f13, GetFunctionCommand: __f25, this: undefined, arguments: undefined }) {\n\nreturn async function /*waitForUpdate*/(inputs) {\n    const client = useClient(LambdaClient, {\n      region: inputs.region,\n      retrableErrors: [\n        // Lambda is not ready to accept updates right after creation\n        \"ServiceException\"\n      ]\n    });\n    const ret = await client.send(\n      new GetFunctionCommand({\n        FunctionName: inputs.functionName\n      })\n    );\n    if (ret.Configuration?.LastUpdateStatus === \"Successful\")\n      return;\n    if (ret.Configuration?.LastUpdateStatus === \"Failed\") {\n      throw new Error(\n        `Failed to update function ${ret.Configuration.LastUpdateStatusReasonCode}: ${ret.Configuration.LastUpdateStatusReason}`\n      );\n    }\n    await new Promise((resolve) =\u003e setTimeout(resolve, 300));\n    return this.waitForUpdate(inputs);\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","functionLastModified":"2024-03-29T16:25:08.814+0000","functionName":"remix-auth-app-nranganath-MyWebServerFunction","region":"us-east-1","s3Bucket":"sst-asset-nxnzkseoemaz","s3Key":"assets/MyWebServer-code-ea111cf1ca01120e465403e147bd561b7e6ad966e3c08a88ba2e4b1453800c82.zip"},"outputs":{"__provider":"exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nvar __f18_prototype_proto = {};\nObject.defineProperty(__f18_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f19 });\nvar __f18_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f18_prototype, \"constructor\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f18_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f18_prototype, \"serialize\", { configurable: true, writable: true, value: __f21 });\nObject.defineProperty(__f18_prototype, \"deserialize\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f18, \"prototype\", { value: __f18_prototype });\nObject.defineProperty(__f18, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f23 });\nObject.setPrototypeOf(__f18, __f19);\nObject.defineProperty(__provider_proto, \"updateCode\", { configurable: true, writable: true, value: __f4 });\nvar __f25_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f25_prototype, \"constructor\", { configurable: true, writable: true, value: __f25 });\nObject.defineProperty(__f25_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f26 });\nObject.defineProperty(__f25_prototype, \"serialize\", { configurable: true, writable: true, value: __f27 });\nObject.defineProperty(__f25_prototype, \"deserialize\", { configurable: true, writable: true, value: __f28 });\nObject.defineProperty(__f25, \"prototype\", { value: __f25_prototype });\nObject.defineProperty(__f25, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f29 });\nObject.setPrototypeOf(__f25, __f19);\nObject.defineProperty(__provider_proto, \"waitForUpdate\", { configurable: true, writable: true, value: __f24 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    const version = await this.updateCode(inputs);\n    await this.waitForUpdate(inputs);\n    return {\n      id: inputs.functionName,\n      outs: { version }\n    };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    const version = await this.updateCode(news);\n    await this.waitForUpdate(news);\n    return { outs: { version } };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-lambda/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-lambda/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst eventstream_serde_config_resolver_1 = require(\"@smithy/eventstream-serde-config-resolver/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-lambda/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, eventstream_serde_config_resolver_1.resolveEventStreamSerdeConfig)(_config_7);\n    const _config_9 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_8, configuration?.extensions || []);\n    __super.call(this, _config_9);\n    this.config = _config_9;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst models_0_1 = require(\"@aws-sdk/client-lambda/dist-cjs/models/models_0.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f20(__0, __1, __2) {\n  return (function() {\n    with({ UpdateFunctionCodeCommand: __f18, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, UpdateFunctionCodeCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"LambdaClient\";\n    const commandName = \"UpdateFunctionCodeCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: models_0_1.UpdateFunctionCodeRequestFilterSensitiveLog,\n        outputFilterSensitiveLog: models_0_1.FunctionConfigurationFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"AWSGirApiService\",\n            operation: \"UpdateFunctionCode\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restJson1_1 = require(\"@aws-sdk/client-lambda/dist-cjs/protocols/Aws_restJson1.js\");\n\nfunction __f21(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restJson1_1.se_UpdateFunctionCodeCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restJson1_1.de_UpdateFunctionCodeCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4(__0) {\n  return (function() {\n    with({ useClient: __f5, LambdaClient: __f13, UpdateFunctionCodeCommand: __f18, this: undefined, arguments: undefined }) {\n\nreturn async function /*updateCode*/(inputs) {\n    const client = useClient(LambdaClient, {\n      region: inputs.region,\n      retrableErrors: [\n        // Lambda is not ready to accept updates right after creation\n        \"ServiceException\"\n      ]\n    });\n    const ret = await client.send(\n      new UpdateFunctionCodeCommand({\n        FunctionName: inputs.functionName,\n        S3Bucket: inputs.s3Bucket,\n        S3Key: inputs.s3Key\n      })\n    );\n    return ret.Version ?? \"unknown\";\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f25(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f26(__0, __1, __2) {\n  return (function() {\n    with({ GetFunctionCommand: __f25, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, GetFunctionCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"LambdaClient\";\n    const commandName = \"GetFunctionCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: models_0_1.GetFunctionResponseFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"AWSGirApiService\",\n            operation: \"GetFunction\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f27(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restJson1_1.se_GetFunctionCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f28(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restJson1_1.de_GetFunctionCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f29() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f24(__0) {\n  return (function() {\n    with({ useClient: __f5, LambdaClient: __f13, GetFunctionCommand: __f25, this: undefined, arguments: undefined }) {\n\nreturn async function /*waitForUpdate*/(inputs) {\n    const client = useClient(LambdaClient, {\n      region: inputs.region,\n      retrableErrors: [\n        // Lambda is not ready to accept updates right after creation\n        \"ServiceException\"\n      ]\n    });\n    const ret = await client.send(\n      new GetFunctionCommand({\n        FunctionName: inputs.functionName\n      })\n    );\n    if (ret.Configuration?.LastUpdateStatus === \"Successful\")\n      return;\n    if (ret.Configuration?.LastUpdateStatus === \"Failed\") {\n      throw new Error(\n        `Failed to update function ${ret.Configuration.LastUpdateStatusReasonCode}: ${ret.Configuration.LastUpdateStatusReason}`\n      );\n    }\n    await new Promise((resolve) =\u003e setTimeout(resolve, 300));\n    return this.waitForUpdate(inputs);\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n","version":"$LATEST"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:pulumi-nodejs::default::784ede0f-21be-4a19-8fc3-03444dbc39e6"}},"Error":null}
{"sequence":328,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"Registering resource: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=MyWebInvalidationPolicyAttachment0364, custom=true, remote=false\n","color":"never","severity":"debug"},"Error":null}
{"sequence":329,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebServerCodeUpdater.sst.aws.FunctionCodeUpdater[pulumi-nodejs:dynamic:Resource]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$sst:aws:Function$pulumi-nodejs:dynamic:Resource::MyWebServerCodeUpdater.sst.aws.FunctionCodeUpdater,remix-auth-app-nranganath-MyWebServerFunction,__provider,,,exports.handler = __f0;\n\nvar __provider_proto = {};\nObject.defineProperty(__f1, \"prototype\", { value: __provider_proto });\nObject.defineProperty(__provider_proto, \"constructor\", { configurable: true, writable: true, value: __f1 });\nObject.defineProperty(__provider_proto, \"create\", { configurable: true, writable: true, value: __f2 });\nObject.defineProperty(__provider_proto, \"update\", { configurable: true, writable: true, value: __f3 });\nvar __f8_prototype = {};\nObject.defineProperty(__f8_prototype, \"constructor\", { configurable: true, writable: true, value: __f8 });\nObject.defineProperty(__f8_prototype, \"shouldRetry\", { configurable: true, writable: true, value: __f9 });\nObject.defineProperty(__f8_prototype, \"getMaxAttempts\", { configurable: true, writable: true, value: __f10 });\nObject.defineProperty(__f8_prototype, \"retry\", { configurable: true, writable: true, value: __f11 });\nObject.defineProperty(__f8, \"prototype\", { value: __f8_prototype });\nvar __f14_prototype = {};\nObject.defineProperty(__f14_prototype, \"constructor\", { configurable: true, writable: true, value: __f14 });\nObject.defineProperty(__f14_prototype, \"send\", { configurable: true, writable: true, value: __f15 });\nObject.defineProperty(__f14_prototype, \"destroy\", { configurable: true, writable: true, value: __f16 });\nObject.defineProperty(__f14, \"prototype\", { value: __f14_prototype });\nvar __f13_prototype = Object.create(__f14_prototype);\nObject.defineProperty(__f13_prototype, \"constructor\", { configurable: true, writable: true, value: __f13 });\nObject.defineProperty(__f13_prototype, \"destroy\", { configurable: true, writable: true, value: __f17 });\nObject.defineProperty(__f13, \"prototype\", { value: __f13_prototype });\nObject.setPrototypeOf(__f13, __f14);\nvar __f18_prototype_proto = {};\nObject.defineProperty(__f18_prototype_proto, \"constructor\", { configurable: true, writable: true, value: __f19 });\nvar __f18_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f18_prototype, \"constructor\", { configurable: true, writable: true, value: __f18 });\nObject.defineProperty(__f18_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f20 });\nObject.defineProperty(__f18_prototype, \"serialize\", { configurable: true, writable: true, value: __f21 });\nObject.defineProperty(__f18_prototype, \"deserialize\", { configurable: true, writable: true, value: __f22 });\nObject.defineProperty(__f18, \"prototype\", { value: __f18_prototype });\nObject.defineProperty(__f18, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f23 });\nObject.setPrototypeOf(__f18, __f19);\nObject.defineProperty(__provider_proto, \"updateCode\", { configurable: true, writable: true, value: __f4 });\nvar __f25_prototype = Object.create(__f18_prototype_proto);\nObject.defineProperty(__f25_prototype, \"constructor\", { configurable: true, writable: true, value: __f25 });\nObject.defineProperty(__f25_prototype, \"resolveMiddleware\", { configurable: true, writable: true, value: __f26 });\nObject.defineProperty(__f25_prototype, \"serialize\", { configurable: true, writable: true, value: __f27 });\nObject.defineProperty(__f25_prototype, \"deserialize\", { configurable: true, writable: true, value: __f28 });\nObject.defineProperty(__f25, \"prototype\", { value: __f25_prototype });\nObject.defineProperty(__f25, \"getEndpointParameterInstructions\", { configurable: true, writable: true, value: __f29 });\nObject.setPrototypeOf(__f25, __f19);\nObject.defineProperty(__provider_proto, \"waitForUpdate\", { configurable: true, writable: true, value: __f24 });\nvar __provider = Object.create(__provider_proto);\n\nfunction __f1() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() { };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f2(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*create*/(inputs) {\n    const version = await this.updateCode(inputs);\n    await this.waitForUpdate(inputs);\n    return {\n      id: inputs.functionName,\n      outs: { version }\n    };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f3(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*update*/(id, olds, news) {\n    const version = await this.updateCode(news);\n    await this.waitForUpdate(news);\n    return { outs: { version } };\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f7() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn () =\u003e /* @__PURE__ */ new Map();\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f6() {\n  return (function() {\n    with({ loaded: false, result2: undefined, callback: __f7, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e {\n    if (!loaded) {\n      result2 = callback();\n      loaded = true;\n    }\n    return result2;\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst util_retry_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/util-retry/dist-cjs/index.js\");\nconst retryDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/retryDecider.js\");\nconst delayDecider_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/delayDecider.js\");\nconst defaultRetryQuota_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/defaultRetryQuota.js\");\n\nfunction __f8(__0, __1) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(maxAttemptsProvider, options) {\n        var _a, _b, _c;\n        this.maxAttemptsProvider = maxAttemptsProvider;\n        this.mode = util_retry_1.RETRY_MODES.STANDARD;\n        this.retryDecider = (_a = options === null || options === void 0 ? void 0 : options.retryDecider) !== null \u0026\u0026 _a !== void 0 ? _a : retryDecider_1.defaultRetryDecider;\n        this.delayDecider = (_b = options === null || options === void 0 ? void 0 : options.delayDecider) !== null \u0026\u0026 _b !== void 0 ? _b : delayDecider_1.defaultDelayDecider;\n        this.retryQuota = (_c = options === null || options === void 0 ? void 0 : options.retryQuota) !== null \u0026\u0026 _c !== void 0 ? _c : (0, defaultRetryQuota_1.getDefaultRetryQuota)(util_retry_1.INITIAL_RETRY_TOKENS);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f9(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*shouldRetry*/(error, attempts, maxAttempts) {\n        return attempts \u003c maxAttempts \u0026\u0026 this.retryDecider(error) \u0026\u0026 this.retryQuota.hasRetryTokens(error);\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f10() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn async function /*getMaxAttempts*/() {\n        let maxAttempts;\n        try {\n            maxAttempts = await this.maxAttemptsProvider();\n        }\n        catch (error) {\n            maxAttempts = util_retry_1.DEFAULT_MAX_ATTEMPTS;\n        }\n        return maxAttempts;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst protocol_http_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/protocol-http/dist-cjs/index.js\");\n\nfunction __f12(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn (response) =\u003e {\n    if (!protocol_http_1.HttpResponse.isInstance(response))\n        return;\n    const retryAfterHeaderName = Object.keys(response.headers).find((key) =\u003e key.toLowerCase() === \"retry-after\");\n    if (!retryAfterHeaderName)\n        return;\n    const retryAfter = response.headers[retryAfterHeaderName];\n    const retryAfterSeconds = Number(retryAfter);\n    if (!Number.isNaN(retryAfterSeconds))\n        return retryAfterSeconds * 1000;\n    const retryAfterDate = new Date(retryAfter);\n    return retryAfterDate.getTime() - Date.now();\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst uuid_1 = require(\"uuid\");\nconst util_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/dist-cjs/util.js\");\nconst service_error_classification_1 = require(\"@aws-sdk/middleware-retry/node_modules/@smithy/middleware-retry/node_modules/@smithy/service-error-classification/dist-cjs/index.js\");\n\nfunction __f11(__0, __1, __2) {\n  return (function() {\n    with({ getDelayFromRetryAfterHeader: __f12, this: undefined, arguments: undefined }) {\n\nreturn async function /*retry*/(next, args, options) {\n        let retryTokenAmount;\n        let attempts = 0;\n        let totalDelay = 0;\n        const maxAttempts = await this.getMaxAttempts();\n        const { request } = args;\n        if (protocol_http_1.HttpRequest.isInstance(request)) {\n            request.headers[util_retry_1.INVOCATION_ID_HEADER] = (0, uuid_1.v4)();\n        }\n        while (true) {\n            try {\n                if (protocol_http_1.HttpRequest.isInstance(request)) {\n                    request.headers[util_retry_1.REQUEST_HEADER] = `attempt=${attempts + 1}; max=${maxAttempts}`;\n                }\n                if (options === null || options === void 0 ? void 0 : options.beforeRequest) {\n                    await options.beforeRequest();\n                }\n                const { response, output } = await next(args);\n                if (options === null || options === void 0 ? void 0 : options.afterRequest) {\n                    options.afterRequest(response);\n                }\n                this.retryQuota.releaseRetryTokens(retryTokenAmount);\n                output.$metadata.attempts = attempts + 1;\n                output.$metadata.totalRetryDelay = totalDelay;\n                return { response, output };\n            }\n            catch (e) {\n                const err = (0, util_1.asSdkError)(e);\n                attempts++;\n                if (this.shouldRetry(err, attempts, maxAttempts)) {\n                    retryTokenAmount = this.retryQuota.retrieveRetryTokens(err);\n                    const delayFromDecider = this.delayDecider((0, service_error_classification_1.isThrottlingError)(err) ? util_retry_1.THROTTLING_RETRY_DELAY_BASE : util_retry_1.DEFAULT_RETRY_DELAY_BASE, attempts);\n                    const delayFromResponse = getDelayFromRetryAfterHeader(err.$response);\n                    const delay = Math.max(delayFromResponse || 0, delayFromDecider);\n                    totalDelay += delay;\n                    await new Promise((resolve) =\u003e setTimeout(resolve, delay));\n                    continue;\n                }\n                if (!err.$metadata) {\n                    err.$metadata = {};\n                }\n                err.$metadata.attempts = attempts;\n                err.$metadata.totalRetryDelay = totalDelay;\n                throw err;\n            }\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f5(__0, __1) {\n  return (function() {\n    with({ useClientCache: __f6, StandardRetryStrategy: __f8, this: undefined, arguments: undefined }) {\n\nreturn (client, opts) =\u003e {\n  const cache = useClientCache();\n  const existing = cache.get(client.name);\n  if (existing)\n    return existing;\n  const printNoInternet = /* @__PURE__ */ (() =\u003e {\n    let lastPrinted = 0;\n    return () =\u003e {\n      const now = Date.now();\n      if (now - lastPrinted \u003e 5e3) {\n        console.log(\"Waiting for internet connection...\");\n        lastPrinted = now;\n      }\n    };\n  })();\n  const result2 = new client({\n    region: opts?.region,\n    retryStrategy: new StandardRetryStrategy(async () =\u003e 1e4, {\n      retryDecider: (e) =\u003e {\n        if (e.code === \"ENOTFOUND\") {\n          printNoInternet();\n          return true;\n        }\n        if ([\n          \"ThrottlingException\",\n          \"Throttling\",\n          \"TooManyRequestsException\",\n          \"OperationAbortedException\",\n          \"TimeoutError\",\n          \"NetworkingError\",\n          ...opts?.retrableErrors ?? []\n        ].includes(e.name)) {\n          return true;\n        }\n        return false;\n      },\n      delayDecider: (_, attempts) =\u003e {\n        return Math.min(1.5 ** attempts * 100, 5e3);\n      },\n      // AWS SDK v3 has an idea of \"retry tokens\" which are used to\n      // prevent multiple retries from happening at the same time.\n      // This is a workaround to disable that.\n      retryQuota: {\n        hasRetryTokens: () =\u003e true,\n        releaseRetryTokens: () =\u003e {\n        },\n        retrieveRetryTokens: () =\u003e 1\n      }\n    })\n  });\n  cache.set(client.name, result2);\n  return result2;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_stack_1 = require(\"@smithy/middleware-stack/dist-cjs/index.js\");\n\nfunction __f14(__0) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(config) {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n        this.config = config;\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f15(__0, __1, __2) {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*send*/(command, optionsOrCb, cb) {\n        const options = typeof optionsOrCb !== \"function\" ? optionsOrCb : undefined;\n        const callback = typeof optionsOrCb === \"function\" ? optionsOrCb : cb;\n        const handler = command.resolveMiddleware(this.middlewareStack, this.config, options);\n        if (callback) {\n            handler(command)\n                .then((result) =\u003e callback(null, result.output), (err) =\u003e callback(err))\n                .catch(() =\u003e { });\n        }\n        else {\n            return handler(command).then((result) =\u003e result.output);\n        }\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f16() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n        if (this.config.requestHandler.destroy)\n            this.config.requestHandler.destroy();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst runtimeConfig_1 = require(\"@aws-sdk/client-lambda/dist-cjs/runtimeConfig.js\");\nconst EndpointParameters_1 = require(\"@aws-sdk/client-lambda/dist-cjs/endpoint/EndpointParameters.js\");\nconst config_resolver_1 = require(\"@smithy/config-resolver/dist-cjs/index.js\");\nconst middleware_endpoint_1 = require(\"@smithy/middleware-endpoint/dist-cjs/index.js\");\nconst middleware_retry_1 = require(\"@smithy/middleware-retry/dist-cjs/index.js\");\nconst middleware_host_header_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-host-header/dist-cjs/index.js\");\nconst middleware_signing_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-signing/dist-cjs/index.js\");\nconst middleware_user_agent_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-user-agent/dist-cjs/index.js\");\nconst eventstream_serde_config_resolver_1 = require(\"@smithy/eventstream-serde-config-resolver/dist-cjs/index.js\");\nconst runtimeExtensions_1 = require(\"@aws-sdk/client-lambda/dist-cjs/runtimeExtensions.js\");\nconst middleware_content_length_1 = require(\"@smithy/middleware-content-length/dist-cjs/index.js\");\nconst middleware_logger_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-logger/dist-cjs/index.js\");\nconst middleware_recursion_detection_1 = require(\"@aws-sdk/client-lambda/node_modules/@aws-sdk/middleware-recursion-detection/dist-cjs/index.js\");\n\nfunction __f13() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(...[configuration]) {\n    const _config_0 = (0, runtimeConfig_1.getRuntimeConfig)(configuration || {});\n    const _config_1 = (0, EndpointParameters_1.resolveClientEndpointParameters)(_config_0);\n    const _config_2 = (0, config_resolver_1.resolveRegionConfig)(_config_1);\n    const _config_3 = (0, middleware_endpoint_1.resolveEndpointConfig)(_config_2);\n    const _config_4 = (0, middleware_retry_1.resolveRetryConfig)(_config_3);\n    const _config_5 = (0, middleware_host_header_1.resolveHostHeaderConfig)(_config_4);\n    const _config_6 = (0, middleware_signing_1.resolveAwsAuthConfig)(_config_5);\n    const _config_7 = (0, middleware_user_agent_1.resolveUserAgentConfig)(_config_6);\n    const _config_8 = (0, eventstream_serde_config_resolver_1.resolveEventStreamSerdeConfig)(_config_7);\n    const _config_9 = (0, runtimeExtensions_1.resolveRuntimeExtensions)(_config_8, configuration?.extensions || []);\n    __super.call(this, _config_9);\n    this.config = _config_9;\n    this.middlewareStack.use((0, middleware_retry_1.getRetryPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_content_length_1.getContentLengthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_host_header_1.getHostHeaderPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_logger_1.getLoggerPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_recursion_detection_1.getRecursionDetectionPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_signing_1.getAwsAuthPlugin)(this.config));\n    this.middlewareStack.use((0, middleware_user_agent_1.getUserAgentPlugin)(this.config));\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f17() {\n  return (function() {\n    with({ __super: __f14, this: undefined, arguments: undefined }) {\n\nreturn function /*destroy*/() {\n    __super.prototype.destroy.call(this);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f19() {\n  return (function() {\n    with({ this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/() {\n        this.middlewareStack = (0, middleware_stack_1.constructStack)();\n    };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f18(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst middleware_serde_1 = require(\"@smithy/middleware-serde/dist-cjs/index.js\");\nconst models_0_1 = require(\"@aws-sdk/client-lambda/dist-cjs/models/models_0.js\");\nconst types_1 = require(\"@smithy/types/dist-cjs/index.js\");\n\nfunction __f20(__0, __1, __2) {\n  return (function() {\n    with({ UpdateFunctionCodeCommand: __f18, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, UpdateFunctionCodeCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"LambdaClient\";\n    const commandName = \"UpdateFunctionCodeCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: models_0_1.UpdateFunctionCodeRequestFilterSensitiveLog,\n        outputFilterSensitiveLog: models_0_1.FunctionConfigurationFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"AWSGirApiService\",\n            operation: \"UpdateFunctionCode\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\nconst Aws_restJson1_1 = require(\"@aws-sdk/client-lambda/dist-cjs/protocols/Aws_restJson1.js\");\n\nfunction __f21(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restJson1_1.se_UpdateFunctionCodeCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f22(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restJson1_1.de_UpdateFunctionCodeCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f23() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f4(__0) {\n  return (function() {\n    with({ useClient: __f5, LambdaClient: __f13, UpdateFunctionCodeCommand: __f18, this: undefined, arguments: undefined }) {\n\nreturn async function /*updateCode*/(inputs) {\n    const client = useClient(LambdaClient, {\n      region: inputs.region,\n      retrableErrors: [\n        // Lambda is not ready to accept updates right after creation\n        \"ServiceException\"\n      ]\n    });\n    const ret = await client.send(\n      new UpdateFunctionCodeCommand({\n        FunctionName: inputs.functionName,\n        S3Bucket: inputs.s3Bucket,\n        S3Key: inputs.s3Key\n      })\n    );\n    return ret.Version ?? \"unknown\";\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f25(__0) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*constructor*/(input) {\n    __super.call(this);\n    this.input = input;\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f26(__0, __1, __2) {\n  return (function() {\n    with({ GetFunctionCommand: __f25, __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*resolveMiddleware*/(clientStack, configuration, options) {\n    this.middlewareStack.use((0, middleware_serde_1.getSerdePlugin)(configuration, this.serialize, this.deserialize));\n    this.middlewareStack.use((0, middleware_endpoint_1.getEndpointPlugin)(configuration, GetFunctionCommand.getEndpointParameterInstructions()));\n    const stack = clientStack.concat(this.middlewareStack);\n    const { logger } = configuration;\n    const clientName = \"LambdaClient\";\n    const commandName = \"GetFunctionCommand\";\n    const handlerExecutionContext = {\n        logger,\n        clientName,\n        commandName,\n        inputFilterSensitiveLog: (_) =\u003e _,\n        outputFilterSensitiveLog: models_0_1.GetFunctionResponseFilterSensitiveLog,\n        [types_1.SMITHY_CONTEXT_KEY]: {\n            service: \"AWSGirApiService\",\n            operation: \"GetFunction\",\n        },\n    };\n    const { requestHandler } = configuration;\n    return stack.resolve((request) =\u003e requestHandler.handle(request.request, options || {}), handlerExecutionContext);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f27(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*serialize*/(input, context) {\n    return (0, Aws_restJson1_1.se_GetFunctionCommand)(input, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f28(__0, __1) {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*deserialize*/(output, context) {\n    return (0, Aws_restJson1_1.de_GetFunctionCommand)(output, context);\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f29() {\n  return (function() {\n    with({ __super: __f19, this: undefined, arguments: undefined }) {\n\nreturn function /*getEndpointParameterInstructions*/() {\n    return {\n        UseFIPS: { type: \"builtInParams\", name: \"useFipsEndpoint\" },\n        Endpoint: { type: \"builtInParams\", name: \"endpoint\" },\n        Region: { type: \"builtInParams\", name: \"region\" },\n        UseDualStack: { type: \"builtInParams\", name: \"useDualstackEndpoint\" },\n    };\n};\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f24(__0) {\n  return (function() {\n    with({ useClient: __f5, LambdaClient: __f13, GetFunctionCommand: __f25, this: undefined, arguments: undefined }) {\n\nreturn async function /*waitForUpdate*/(inputs) {\n    const client = useClient(LambdaClient, {\n      region: inputs.region,\n      retrableErrors: [\n        // Lambda is not ready to accept updates right after creation\n        \"ServiceException\"\n      ]\n    });\n    const ret = await client.send(\n      new GetFunctionCommand({\n        FunctionName: inputs.functionName\n      })\n    );\n    if (ret.Configuration?.LastUpdateStatus === \"Successful\")\n      return;\n    if (ret.Configuration?.LastUpdateStatus === \"Failed\") {\n      throw new Error(\n        `Failed to update function ${ret.Configuration.LastUpdateStatusReasonCode}: ${ret.Configuration.LastUpdateStatusReason}`\n      );\n    }\n    await new Promise((resolve) =\u003e setTimeout(resolve, 300));\n    return this.waitForUpdate(inputs);\n  };\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n\nfunction __f0() {\n  return (function() {\n    with({ provider: __provider, this: undefined, arguments: undefined }) {\n\nreturn () =\u003e provider;\n\n    }\n  }).apply(undefined, undefined).apply(this, arguments);\n}\n,version,,,$LATEST,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":330,"timestamp":1722566956,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","type":"sst:aws:Remix","old":{"type":"sst:aws:Remix","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","id":"","parent":"urn:pulumi:nranganath::remix-auth-app::pulumi:pulumi:Stack::remix-auth-app-nranganath","inputs":{},"outputs":{"_metadata":{"edge":false,"mode":"deployed","path":".","server":"arn:aws:lambda:us-east-1:730335427397:function:remix-auth-app-nranganath-MyWebServerFunction","url":"https://d387jpi3pnyu3.cloudfront.net"}},"provider":""},"new":{"type":"sst:aws:Remix","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","id":"","parent":"urn:pulumi:nranganath::remix-auth-app::pulumi:pulumi:Stack::remix-auth-app-nranganath","inputs":{},"outputs":{"_metadata":{"edge":false,"mode":"deployed","path":".","server":"arn:aws:lambda:us-east-1:730335427397:function:remix-auth-app-nranganath-MyWebServerFunction","url":"https://d387jpi3pnyu3.cloudfront.net"}},"provider":""},"detailedDiff":null,"logical":true,"provider":""}},"Error":null}
{"sequence":331,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC prepared: t=aws:iam/rolePolicyAttachment:RolePolicyAttachment, name=MyWebInvalidationPolicyAttachment0364\n","color":"never","severity":"debug"},"Error":null}
{"sequence":332,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResourceOutputs RPC prepared: urn=urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb\n","color":"never","severity":"debug"},"Error":null}
{"sequence":333,"timestamp":1722566956,"resourcePreEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:iam/rolePolicyAttachment:RolePolicyAttachment::MyWebInvalidationPolicyAttachment0364","type":"aws:iam/rolePolicyAttachment:RolePolicyAttachment","old":{"type":"aws:iam/rolePolicyAttachment:RolePolicyAttachment","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:iam/rolePolicyAttachment:RolePolicyAttachment::MyWebInvalidationPolicyAttachment0364","custom":true,"id":"remix-auth-app-nranganath-MyWebServerRole-useast1-20240329162516509700000002","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__defaults":[],"policyArn":"arn:aws:iam::730335427397:policy/MyWebInvalidationPolicy-0fd463c","role":"remix-auth-app-nranganath-MyWebServerRole-useast1"},"outputs":{"id":"remix-auth-app-nranganath-MyWebServerRole-useast1-20240329162516509700000002","policyArn":"arn:aws:iam::730335427397:policy/MyWebInvalidationPolicy-0fd463c","role":"remix-auth-app-nranganath-MyWebServerRole-useast1"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:iam/rolePolicyAttachment:RolePolicyAttachment","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:iam/rolePolicyAttachment:RolePolicyAttachment::MyWebInvalidationPolicyAttachment0364","custom":true,"id":"","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__defaults":[],"policyArn":"arn:aws:iam::730335427397:policy/MyWebInvalidationPolicy-0fd463c","role":"remix-auth-app-nranganath-MyWebServerRole-useast1"},"outputs":{},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":334,"timestamp":1722566956,"resOutputsEvent":{"metadata":{"op":"same","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:iam/rolePolicyAttachment:RolePolicyAttachment::MyWebInvalidationPolicyAttachment0364","type":"aws:iam/rolePolicyAttachment:RolePolicyAttachment","old":{"type":"aws:iam/rolePolicyAttachment:RolePolicyAttachment","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:iam/rolePolicyAttachment:RolePolicyAttachment::MyWebInvalidationPolicyAttachment0364","custom":true,"id":"remix-auth-app-nranganath-MyWebServerRole-useast1-20240329162516509700000002","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__defaults":[],"policyArn":"arn:aws:iam::730335427397:policy/MyWebInvalidationPolicy-0fd463c","role":"remix-auth-app-nranganath-MyWebServerRole-useast1"},"outputs":{"id":"remix-auth-app-nranganath-MyWebServerRole-useast1-20240329162516509700000002","policyArn":"arn:aws:iam::730335427397:policy/MyWebInvalidationPolicy-0fd463c","role":"remix-auth-app-nranganath-MyWebServerRole-useast1"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"new":{"type":"aws:iam/rolePolicyAttachment:RolePolicyAttachment","urn":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:iam/rolePolicyAttachment:RolePolicyAttachment::MyWebInvalidationPolicyAttachment0364","custom":true,"id":"remix-auth-app-nranganath-MyWebServerRole-useast1-20240329162516509700000002","parent":"urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb","inputs":{"__defaults":[],"policyArn":"arn:aws:iam::730335427397:policy/MyWebInvalidationPolicy-0fd463c","role":"remix-auth-app-nranganath-MyWebServerRole-useast1"},"outputs":{"id":"remix-auth-app-nranganath-MyWebServerRole-useast1-20240329162516509700000002","policyArn":"arn:aws:iam::730335427397:policy/MyWebInvalidationPolicy-0fd463c","role":"remix-auth-app-nranganath-MyWebServerRole-useast1"},"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"},"detailedDiff":null,"logical":true,"provider":"urn:pulumi:nranganath::remix-auth-app::pulumi:providers:aws::default_6_28_1::efb29cf5-29d7-45cd-843f-8187f8744b86"}},"Error":null}
{"sequence":335,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResourceOutputs RPC finished: urn=urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb; err: null, resp: \n","color":"never","severity":"debug"},"Error":null}
{"sequence":336,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResource RPC finished: resource:MyWebInvalidationPolicyAttachment0364[aws:iam/rolePolicyAttachment:RolePolicyAttachment]; err: null, resp: urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix$aws:iam/rolePolicyAttachment:RolePolicyAttachment::MyWebInvalidationPolicyAttachment0364,remix-auth-app-nranganath-MyWebServerRole-useast1-20240329162516509700000002,id,,,remix-auth-app-nranganath-MyWebServerRole-useast1-20240329162516509700000002,policyArn,,,arn:aws:iam::730335427397:policy/MyWebInvalidationPolicy-0fd463c,role,,,remix-auth-app-nranganath-MyWebServerRole-useast1,,\n","color":"never","severity":"debug"},"Error":null}
{"sequence":337,"timestamp":1722566956,"diagnosticEvent":{"prefix":"debug: ","message":"RegisterResourceOutputs RPC finished: urn=urn:pulumi:nranganath::remix-auth-app::sst:aws:Remix::MyWeb; err: null, resp: \n","color":"never","severity":"debug"},"Error":null}
{"sequence":338,"timestamp":1722566956,"summaryEvent":{"maybeCorrupt":false,"durationSeconds":10,"resourceChanges":{"same":27},"PolicyPacks":{}},"Error":null}
{"sequence":339,"timestamp":1722566956,"cancelEvent":{},"Error":null}
